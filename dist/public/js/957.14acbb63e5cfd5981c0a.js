(self.webpackChunkmappersguild=self.webpackChunkmappersguild||[]).push([[957],{9957:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>oe});var o=s(5393);const n={class:"container card card-body"},r={key:2,class:"row"},i={class:"card card-hover card-level-2 card-body"},c={key:3,class:"text-center"};var a=s(6564);const l={state:{contest:null,submissions:[],submission:null},mutations:{setContest(e,t){e.contest=t},setSubmissions(e,t){e.submissions=t},setSubmission(e,t){e.submission=t}}},d={key:0,class:"container p-3"},u=(0,o.createTextVNode)(" Submission by "),m={key:0},p={key:1,class:"mt-2"},g=(0,o.createVNode)("hr",null,null,-1),h={class:"mx-2"},k=(0,o.createVNode)("h5",null," Screening results ",-1),b={key:0},v=(0,o.createVNode)("p",{class:"ms-3"}," Comments are usually each screener's initial thoughts. They're not intended to be constructive feedback and many screeners use comments as notes for determining their top 5. ",-1),N={class:"ms-3"},y={key:0,class:"fas fa-check text-done"},V={class:"ms-4 mb-2 small text-white-50",style:{"word-break":"break-word"}},B={class:"ms-3"},f=(0,o.createVNode)("div",{class:"ms-4 mb-2 small text-white-50",style:{"word-break":"break-word"}}," [no comment] ",-1),S={key:1,class:"ms-3"},C=(0,o.createVNode)("hr",null,null,-1),x={class:"mx-2"},w=(0,o.createVNode)("h5",null," Judging results ",-1),D={key:0},j={class:"ms-3"},R={class:"row ms-3"},$={class:"col-sm-5"},T={class:"table table-sm table-responsive-sm"},J=(0,o.createVNode)("thead",null,[(0,o.createVNode)("tr",null,[(0,o.createVNode)("th",{class:"text-start"}," Category "),(0,o.createVNode)("th",{class:"text-start"}," Score ")])],-1),O={class:"text-start text-capitalize"},E={class:"text-start"},z=(0,o.createVNode)("td",{class:"text-start"}," TOTAL ",-1),F={class:"text-start"},L={class:"col-sm-7 small"},M=(0,o.createTextVNode)(" Comment: "),P={class:"text-white-50",style:{"white-space":"pre-line"}},U={key:1,class:"ms-3"},A=(0,o.defineComponent)({name:"SubmissionResult",computed:Object.assign(Object.assign({},(0,a.rn)({submission:e=>e.contestResults.submission,loggedInUser:e=>e.loggedInUser})),{voteCount(){let e=0;return this.submission.evaluations.forEach((t=>{isNaN(t.vote)||(e+=t.vote)})),e},emptyEvaluationCount(){return this.submission.contest.screeners.length-this.submission.evaluations.length},randomizedJudging(){let e=[...this.submission.judgings];return e=e.sort((()=>Math.random()-.5)),e},randomizedScreening(){let e=[...this.submission.evaluations];return e=e.sort((()=>Math.random()-.5)),e}}),methods:{findTotalJudgingPoints(e){let t=0;return e.forEach((e=>{t+=e.score})),t},findTotalCriteriaPoints(e){let t=0;return e.forEach((e=>{t+=e.criteria.maxScore})),t},findJudgeComment(e){let t="";return e.forEach((e=>{"comments"==e.criteria.name&&(t=e.comment)})),t},filteredAndSortedJudgingScores(e){e=e.filter((e=>"comments"!=e.criteria.name));const t=["musical representation","creativity","limitation","gameplay"];return[...e].sort((function(e,s){return t.indexOf(e.criteria.name)-t.indexOf(s.criteria.name)}))}}});A.render=function(e,t,s,n,r,i){const c=(0,o.resolveComponent)("user-link"),a=(0,o.resolveDirective)("bs-tooltip");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[e.submission?((0,o.openBlock)(),(0,o.createBlock)("div",d,[(0,o.createVNode)("div",null,[(0,o.createVNode)("h3",null,(0,o.toDisplayString)(e.submission.contest.name),1),(0,o.createVNode)("h4",null,[u,(0,o.createVNode)(c,{user:e.submission.creator},null,8,["user"])]),(0,o.createVNode)("h5",null,' Anonymized as "'+(0,o.toDisplayString)(e.submission.name)+'" ',1),e.loggedInUser&&e.loggedInUser.id==e.submission.creator.id?((0,o.openBlock)(),(0,o.createBlock)("div",m,[(0,o.createVNode)("a",{href:"#",onClick:t[1]||(t[1]=(0,o.withModifiers)((t=>e.$store.commit("setSubmission",null)),["prevent"]))}," Your previous contest submissions ")])):(0,o.createCommentVNode)("",!0),e.submission.contest.download?((0,o.openBlock)(),(0,o.createBlock)("div",p,[(0,o.createVNode)("div",null,[(0,o.createVNode)("a",{href:"/contestresults?contest="+e.submission.contest.id,target:"_blank"}," Full "+(0,o.toDisplayString)(e.submission.contest.name)+" results ",9,["href"])]),(0,o.createVNode)("div",null,[(0,o.createVNode)("a",{href:e.submission.contest.download,target:"_blank"}," Download all "+(0,o.toDisplayString)(e.submission.contest.name)+" submissions ",9,["href"])])])):(0,o.createCommentVNode)("",!0)]),g,(0,o.createVNode)("div",h,[k,e.submission.evaluations&&e.submission.evaluations.length?((0,o.openBlock)(),(0,o.createBlock)("div",b,[v,((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.randomizedScreening,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)("div",{key:e.id},[(0,o.createVNode)("div",null,[(0,o.createVNode)("div",N,[(0,o.createTextVNode)(" User "+(0,o.toDisplayString)(t+1)+" ",1),e.vote?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("i",y,null,512)),[[a,"user placed in top 5"]]):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",V,(0,o.toDisplayString)(e.comment?e.comment:"[no comment]"),1)])])))),128)),((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.emptyEvaluationCount,(t=>((0,o.openBlock)(),(0,o.createBlock)("div",{key:t},[(0,o.createVNode)("div",null,[(0,o.createVNode)("div",B," User "+(0,o.toDisplayString)(e.submission.evaluations.length+t),1),f])])))),128))])):((0,o.openBlock)(),(0,o.createBlock)("div",S," This contest skipped screening. "))]),C,(0,o.createVNode)("div",x,[w,e.submission.judgings&&e.submission.judgings.length?((0,o.openBlock)(),(0,o.createBlock)("div",D,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.randomizedJudging,((t,s)=>((0,o.openBlock)(),(0,o.createBlock)("div",{key:t.id},[(0,o.createVNode)("div",null,[(0,o.createVNode)("p",j," User "+(0,o.toDisplayString)(s+1),1),(0,o.createVNode)("div",R,[(0,o.createVNode)("div",$,[(0,o.createVNode)("table",T,[J,(0,o.createVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.filteredAndSortedJudgingScores(t.judgingScores),(e=>((0,o.openBlock)(),(0,o.createBlock)("tr",{key:e.id},[(0,o.createVNode)("td",O,(0,o.toDisplayString)(e.criteria.name),1),(0,o.createVNode)("td",E,(0,o.toDisplayString)(e.score)+"/"+(0,o.toDisplayString)(e.criteria.maxScore),1)])))),128)),(0,o.createVNode)("tr",null,[z,(0,o.createVNode)("td",F,(0,o.toDisplayString)(e.findTotalJudgingPoints(t.judgingScores))+"/"+(0,o.toDisplayString)(e.findTotalCriteriaPoints(t.judgingScores)),1)])])])]),(0,o.createVNode)("div",L,[M,(0,o.createVNode)("span",P,(0,o.toDisplayString)(e.findJudgeComment(t.judgingScores)),1)])])])])))),128))])):((0,o.openBlock)(),(0,o.createBlock)("div",U," This entry did not receive enough screening votes to reach the judging stage. :( "))])])):(0,o.createCommentVNode)("",!0)])};const q=A,I={key:0,class:"container p-3"},_={class:"table table-sm"},G={scope:"col"},Y=(0,o.createVNode)("th",{scope:"col"}," Creator ",-1),H={scope:"row"},K={scope:"row"},Q={key:0},W=(0,o.createVNode)("i",{class:"fas fa-check text-done me-1"},null,-1),X={key:0},Z={key:1},ee=(0,o.defineComponent)({name:"ContestResults",computed:Object.assign(Object.assign({},(0,a.rn)({contest:e=>e.contestResults.contest})),{maxScore(){let e=0;for(const t of this.contest.criterias)e+=t.maxScore;return e*this.contest.judges.length}}),methods:{voteCount(e,t){let s=0;for(const o of e)o.vote&&!isNaN(o.vote)&&(t?s+=o.vote:s++);return s},judgeScore(e){let t=0;for(const s of e)for(const e of s.judgingScores)t+=e.score;return 0==t?"N/A":t}}});ee.render=function(e,t,s,n,r,i){const c=(0,o.resolveComponent)("user-link"),a=(0,o.resolveDirective)("bs-tooltip");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[e.contest?((0,o.openBlock)(),(0,o.createBlock)("div",I,[(0,o.createVNode)("h4",null,(0,o.toDisplayString)(e.contest.name)+" results",1),(0,o.createVNode)("div",null,[(0,o.createVNode)("a",{href:e.contest.download,target:"_blank"}," Download all submissions ",8,["href"])]),(0,o.createVNode)("table",_,[(0,o.createVNode)("thead",null,[(0,o.createVNode)("tr",null,[(0,o.withDirectives)((0,o.createVNode)("th",G," Submission ",512),[[a,"anonymized name seen by screeners/judges"]]),Y,(0,o.withDirectives)((0,o.createVNode)("th",{scope:"col"}," Screener votes ("+(0,o.toDisplayString)(5*e.contest.screeners.length)+") ",513),[[a,"screeners sort entries in their ordered top 5. #1 adds 5 points, #2 adds 4 points, etc."]]),(0,o.withDirectives)((0,o.createVNode)("th",{scope:"col"}," Judge scores ("+(0,o.toDisplayString)(e.maxScore)+") ",513),[[a,"see results news post for cases where standardized scores affect outcome"]])])]),(0,o.createVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.contest.submissions,(t=>((0,o.openBlock)(),(0,o.createBlock)("tr",{key:t.id+"screen"},[(0,o.createVNode)("td",H,[(0,o.createVNode)("a",{href:"/contestresults?submission="+t.id},(0,o.toDisplayString)(t.name),9,["href"])]),(0,o.createVNode)("td",K,[(0,o.createVNode)(c,{user:t.creator},null,8,["user"])]),e.contest.judgingThreshold?((0,o.openBlock)(),(0,o.createBlock)("td",Q,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.voteCount(t.evaluations),(e=>((0,o.openBlock)(),(0,o.createBlock)("span",{key:e},[W])))),128)),e.voteCount(t.evaluations,!0)>0?((0,o.openBlock)(),(0,o.createBlock)("span",X," ("+(0,o.toDisplayString)(e.voteCount(t.evaluations,!0))+") ",1)):(0,o.createCommentVNode)("",!0)])):((0,o.openBlock)(),(0,o.createBlock)("td",Z," N/A ")),(0,o.createVNode)("td",null,[(0,o.createVNode)("span",{class:e.judgeScore(t.judgings)>0?"text-done":""},(0,o.toDisplayString)(e.judgeScore(t.judgings)),3)])])))),128))])])])):(0,o.createCommentVNode)("",!0)])};const te=ee;const se=(0,o.defineComponent)({name:"ContestResultsPage",components:{SubmissionResult:q,ContestResults:te},computed:Object.assign({},(0,a.rn)({contest:e=>e.contestResults.contest,submissions:e=>e.contestResults.submissions,submission:e=>e.contestResults.submission})),beforeCreate(){this.$store.hasModule("contestResults")||this.$store.registerModule("contestResults",l)},unmounted(){this.$store.hasModule("contestResults")&&this.$store.unregisterModule("contestResults")},created(){return e=this,t=void 0,o=function*(){const e=this.$route.query.contest,t=this.$route.query.submission;let s,o,n;e?(s=yield this.$http.initialRequest("/contestResults/searchContest/"+e),this.$http.isError(s)||this.setContest(s)):t?([n,o]=yield Promise.all([this.$http.initialRequest("/contestResults/searchSubmission/"+t),this.$http.executeGet("/contestResults/participated")]),!n||this.$http.isError(n)?this.$router.replace("/contestResults"):this.setSubmission(n)):o=yield this.$http.initialRequest("/contestResults/participated"),this.$http.isError(o)||this.setSubmissions(o)},new((s=void 0)||(s=Promise))((function(n,r){function i(e){try{a(o.next(e))}catch(e){r(e)}}function c(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,c)}a((o=o.apply(e,t||[])).next())}));var e,t,s,o},methods:Object.assign({},(0,a.OI)(["setContest","setSubmissions","setSubmission"]))});se.render=function(e,t,s,a,l,d){const u=(0,o.resolveComponent)("contest-results"),m=(0,o.resolveComponent)("submission-result");return(0,o.openBlock)(),(0,o.createBlock)("div",n,[e.contest?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0})):e.submission?((0,o.openBlock)(),(0,o.createBlock)(m,{key:1})):e.submissions.length?((0,o.openBlock)(),(0,o.createBlock)("div",r,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.submissions,(s=>((0,o.openBlock)(),(0,o.createBlock)("div",{key:s.id,class:"col-sm-4 my-2",onClick:t=>e.setSubmission(s)},[(0,o.createVNode)("div",i,[(0,o.createVNode)("p",null,(0,o.toDisplayString)(s.contest.name),1),(0,o.createVNode)("a",{href:"#",class:"text-secondary small text-end",onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["prevent"]))}," details ")])],8,["onClick"])))),128))])):((0,o.openBlock)(),(0,o.createBlock)("div",c," Nothing to see here "))])};const oe=se}}]);