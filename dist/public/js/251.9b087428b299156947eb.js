(self.webpackChunkmappersguild=self.webpackChunkmappersguild||[]).push([[251],{3512:(t,s,e)=>{"use strict";e.d(s,{Z:()=>o});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col"},[e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.$emit("update-filter-value",t.newFilterValue)}}},[e("i",{staticClass:"fas fa-search"})])]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",maxlength:"48",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.filterValue},on:{input:function(s){t.newFilterValue=s.target.value},keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.$emit("update-filter-value",s.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},[t._t("default")],2)])])]),t._v(" "),e("div",{staticClass:"row small"},[e("div",{staticClass:"col"},[t._t("filters")],2)])])};a._withStripped=!0;var i=e(2934);const n=e.n(i)().extend({props:{placeholder:{type:String,required:!0},filterValue:{type:String,default:""}},data:()=>({newFilterValue:""})});var r=(0,e(1900).Z)(n,a,[],!1,null,null,null);r.options.__file="src/components/FilterBox.vue";const o=r.exports},1515:(t,s,e)=>{"use strict";e.d(s,{Z:()=>o});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal fade",attrs:{tabindex:"-1"}},[e("div",{staticClass:"modal-dialog",class:"modal-"+t.modalSize},[t.loaded?e("div",{staticClass:"modal-content the-a-background"},[e("div",{staticClass:"modal-header",class:t.headerClass||"bg-primary"},[e("h5",{staticClass:"modal-title"},[t._t("header",[t._v("\n                        "+t._s(t.title)+"\n                    ")])],2),t._v(" "),e("a",{staticClass:"close",attrs:{href:"#","data-dismiss":"modal"},on:{click:function(t){t.preventDefault()}}},[t._v("\n                    Ã—\n                ")])]),t._v(" "),e("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),t.$slots.footer?e("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()]):t._e()])])};a._withStripped=!0;var i=e(2934);const n=e.n(i)().extend({name:"ModalDialog",props:{title:{type:String,default:""},modalSize:{type:String,default:"lg"},headerClass:{type:String,default:"bg-primary"},loaded:{type:Boolean,default:!0}}});var r=(0,e(1900).Z)(n,a,[],!1,null,null,null);r.options.__file="src/components/ModalDialog.vue";const o=r.exports},2723:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>F});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("artist-page-filters"),t._v(" "),e("artists-in-progress"),t._v(" "),e("div",{staticClass:"radial-divisor"}),t._v(" "),e("artists-planned"),t._v(" "),e("div",{staticClass:"radial-divisor"}),t._v(" "),e("artists-inactive"),t._v(" "),e("add-artist")],1)};a._withStripped=!0;var i=e(2934),n=e.n(i),r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("modal-dialog",{attrs:{id:"addArtist",title:"Add artist"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 mt-1",attrs:{for:"artistName"}},[t._v(" Artist/Label:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"col-sm-9 form-control",staticStyle:{"border-radius":"100px 100px 100px 100px"},attrs:{type:"text"},domProps:{value:t.name},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.createArtist(s)},input:function(s){s.target.composing||(t.name=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"radial-divisor"}),t._v(" "),e("button",{staticClass:"btn btn-outline-info float-right",attrs:{type:"button"},on:{click:function(s){return t.createArtist(s)}}},[t._v("\n            Save\n        ")])])])};r._withStripped=!0;var o=e(1515);const l=n().extend({name:"AddArtist",components:{ModalDialog:o.Z},data:()=>({name:""}),methods:{createArtist(t){return s=this,e=void 0,i=function*(){const s=yield this.executePost("/artists/create",{name:this.name},t);this.isError(s)||(this.$store.commit("addArtist",s),$("#addArtist").modal("hide"))},new((a=void 0)||(a=Promise))((function(t,n){function r(t){try{l(i.next(t))}catch(t){n(t)}}function o(t){try{l(i.throw(t))}catch(t){n(t)}}function l(s){var e;s.done?t(s.value):(e=s.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,o)}l((i=i.apply(s,e||[])).next())}));var s,e,a,i}}});var c=e(1900),d=(0,c.Z)(l,r,[],!1,null,null,null);d.options.__file="src/components/artists/AddArtist.vue";const u=d.exports;var p=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container card card-body py-3 mb-2"},[e("filter-box",{attrs:{placeholder:"artist..."},on:{"update-filter-value":function(s){return t.updateFilterValue(s)}}})],1)};p._withStripped=!0;var v=e(3512),f=e(6564);const h=n().extend({name:"ArtistPageFilters",components:{FilterBox:v.Z},methods:(0,f.nv)(["updateFilterValue"])});var g=(0,c.Z)(h,p,[],!1,null,null,null);g.options.__file="src/pages/artists/ArtistPageFilters.vue";const m=g.exports;var _=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container card card-body py-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h3",{staticClass:"ml-2"},[t._v("\n                In-progress\n            ")]),t._v(" "),e("h5",{staticClass:"ml-4"},[e("a",{attrs:{href:"#ready","data-toggle":"collapse"}},[t._v("\n                    Ready ("+t._s(t.readyArtists.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})])]),t._v(" "),e("div",{staticClass:"show",attrs:{id:"ready"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.readyArtists,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1)],1),t._v(" "),e("h5",{staticClass:"ml-4 mt-2"},[e("a",{attrs:{href:"#contractArtists","data-toggle":"collapse"}},[t._v("\n                    Contract ("+t._s(t.contractArtists.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})])]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"contractArtists"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.contractArtists,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1)],1),t._v(" "),e("h5",{staticClass:"ml-4 mt-2"},[e("a",{attrs:{href:"#discussionArtists","data-toggle":"collapse"}},[t._v("\n                    Discussion ("+t._s(t.discussionArtists.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})])]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"discussionArtists"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.discussionArtists,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1)],1),t._v(" "),t.updateAvailableArtists.length?e("h5",{staticClass:"ml-4 mt-2"},[e("a",{attrs:{href:"#currentArtistUpdates","data-toggle":"collapse"}},[t._v("\n                    Current artist updates ("+t._s(t.updateAvailableArtists.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})])]):t._e(),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"currentArtistUpdates"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.updateAvailableArtists,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1)],1)])])])};_._withStripped=!0;var C=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"card",class:t.isInProgress&&t.daysAgo>21?"overdue":"bg-dark"},[e("div",{staticClass:"card-body p-0 mx-2 my-1"},[e("div",{staticClass:"row"},[e("span",{staticClass:"col-sm-4"},[e("a",{staticClass:"ml-1",attrs:{href:"#details"+t.artist.id,"data-toggle":"collapse"}},[t._v("\n                        "+t._s(t.artist.label)+"\n                        "),e("i",{staticClass:"fas fa-angle-down"})])]),t._v(" "),e("span",{staticClass:"small col-sm-8"},[t.artist.isUpToDate?e("span",{staticClass:"text-white-50"},[t._v("up to date")]):e("span",[t.artist.projectedRelease?e("span",{staticClass:"text-done"},[t._v(t._s(new Date(t.artist.projectedRelease).toString().slice(4,15)))]):t._e(),t._v(" "),t.artist.ppySigned?e("span",[e("span",{staticClass:"text-danger"},[t.artist.songsReceived?t._e():e("span",[t._v("[song assets]")]),t._v(" "),t.artist.songsTimed?t._e():e("span",[t._v("[timed oszs]")]),t._v(" "),t.artist.assetsReceived?t._e():e("span",[t._v("[other assets]")])]),t._v(" "),e("span",{staticClass:"text-white-50"},[t.artist.isMinor?e("span",[t._v("[minor]")]):t._e(),t._v(" "),t.artist.hasRankedMaps?t._e():e("span",[t._v("[no ranked maps]")])])]):e("span",{staticClass:"text-white-50"},[t.artist.isRejected?e("span",[t._v(t._s(t.artist.isResponded?"stopped responding":"no response"))]):t.artist.ppyPaid?e("span",[t._v("awaiting ppy signature")]):t.artist.artistSigned?e("span",[t._v("awaiting ppy payment/signature")]):t.artist.contractSent?e("span",[t._v("awaiting artist signature")]):t.artist.tracksSelected?e("span",[t._v("awaiting contract details")]):t.artist.isResponded?e("span",[t._v("negotiating")]):t.artist.isContacted?e("span",[t._v("awaiting response")]):t._e()])]),t._v(" "),t.artist.isContacted?t._e():e("a",{staticClass:"float-right small text-danger ml-2",attrs:{href:"#","data-toggle":"tooltip","data-placement":"top",title:"delete"},on:{click:function(s){return s.preventDefault(),t.deleteArtist()}}},[e("i",{staticClass:"fas fa-trash"})]),t._v(" "),e("a",{staticClass:"float-right small text-danger",attrs:{href:"#","data-toggle":"tooltip","data-placement":"top",title:"reset progress (except notes)"},on:{click:function(s){return s.preventDefault(),t.reset()}}},[e("i",{staticClass:"fas fa-undo-alt"})]),t._v(" "),e("span",{staticClass:"text-center font-8 text-white-50 float-right mr-2"},[t.artist.lastContacted?e("span",[t._v("\n                            "+t._s(t.daysAgo+" "+(1==t.daysAgo?"day ago":"days ago"))+"\n                        ")]):e("span",[t._v("\n                            never\n                        ")]),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.showContactedInput=!t.showContactedInput}}},[e("i",{staticClass:"fas fa-edit"})])]),t._v(" "),t.showContactedInput?e("span",{staticClass:"small float-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactedInput,expression:"contactedInput"}],staticClass:"small w-50",staticStyle:{"border-radius":"5px 5px 5px 5px"},attrs:{type:"text",placeholder:"mm-dd-yyyy",maxlength:"10"},domProps:{value:t.contactedInput},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.updateLastContacted()},input:function(s){s.target.composing||(t.contactedInput=s.target.value)}}}),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.contactedToday()}}},[t._v("mark as today")])]):t._e()])]),t._v(" "),e("div",{staticClass:"collapse ml-4 row",attrs:{id:"details"+t.artist.id}},[e("div",{staticClass:"col-sm-2"},[t._m(0),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Contacted:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleIsContacted()}}},[e("i",{staticClass:"fas",class:t.artist.isContacted?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Responded:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleIsResponded()}}},[e("i",{staticClass:"fas",class:t.artist.isResponded?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Tracks confirmed:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleTracksSelected()}}},[e("i",{staticClass:"fas",class:t.artist.tracksSelected?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),t.artist.tracksSelected?t._e():e("div",{staticClass:"small ml-2"},[t._v("\n                        Rejected:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleIsRejected()}}},[e("i",{staticClass:"fas",class:t.artist.isRejected?"text-done fa-check":"text-danger fa-times"})])])]),t._v(" "),e("div",{staticClass:"col-sm-2"},[t._m(1),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Sent:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleContractSent()}}},[e("i",{staticClass:"fas",class:t.artist.contractSent?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Artist signed:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleArtistSigned()}}},[e("i",{staticClass:"fas",class:t.artist.artistSigned?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        ppy paid:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.togglePpyPaid()}}},[e("i",{staticClass:"fas",class:t.artist.ppyPaid?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        ppy signed:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.togglePpySigned()}}},[e("i",{staticClass:"fas",class:t.artist.ppySigned?"text-done fa-check":"text-danger fa-times"})])])]),t._v(" "),e("div",{staticClass:"col-sm-3"},[t._m(2),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Projected release: "),e("span",{class:(t.artist.projectedRelease,"done")},[t._v(t._s(t.artist.projectedRelease?new Date(t.artist.projectedRelease).toString().slice(4,15):"..."))]),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.showDateInput=!t.showDateInput}}},[e("i",{staticClass:"fas fa-edit"})])]),t._v(" "),t.showDateInput?e("p",{staticClass:"small ml-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateInput,expression:"dateInput"}],staticClass:"small w-50",staticStyle:{"border-radius":"5px 5px 5px 5px"},attrs:{type:"text",placeholder:"mm-dd-yyyy",maxlength:"10"},domProps:{value:t.dateInput},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.updateProjectedRelease()},input:function(s){s.target.composing||(t.dateInput=s.target.value)}}})]):t._e(),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Songs received:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleSongsReceived()}}},[e("i",{staticClass:"fas",class:t.artist.songsReceived?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Songs timed:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleSongsTimed()}}},[e("i",{staticClass:"fas",class:t.artist.songsTimed?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Visual assets received:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleAssetsReceived()}}},[e("i",{staticClass:"fas",class:t.artist.assetsReceived?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Released:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleIsUpToDate()}}},[e("i",{staticClass:"fas",class:t.artist.isUpToDate?"text-done fa-check":"text-danger fa-times"})])])]),t._v(" "),e("div",{staticClass:"col-sm-3"},[t._m(3),t._v(" "),t.artist.osuId?t._e():e("div",{staticClass:"small ml-2"},[t._v("\n                        Minor release:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleIsMinor()}}},[e("i",{staticClass:"fas",class:t.artist.isMinor?"text-done fa-check":"text-danger fa-times"})])]),t._v(" "),e("div",{staticClass:"small ml-2"},[t._v("\n                        Ranked maps:\n                        "),e("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleHasRankedMaps()}}},[e("i",{staticClass:"fas",class:t.artist.hasRankedMaps?"text-done fa-check":"text-danger fa-times"})])])])]),t._v(" "),e("div",{staticClass:"mb-1 ml-2"},[e("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateNotes(null)}}},[e("i",{staticClass:"fas fa-edit"})]),t._v(" "),t.showNotesInput?t._e():e("span",{staticClass:"small text-white-50",domProps:{innerHTML:t._s(t.filterLinks(t.artist.notes))}}),t._v(" "),t.showNotesInput?e("input",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"small w-75",staticStyle:{"border-radius":"5px 5px 5px 5px"},attrs:{rows:"4",type:"text",placeholder:"enter to submit..."},domProps:{value:t.notes},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.updateNotes(s)},change:function(s){return t.updateNotes(s)},input:function(s){s.target.composing||(t.notes=s.target.value)}}}):t._e()])])])])};C._withStripped=!0;var y=function(t,s,e,a){return new(e||(e=Promise))((function(i,n){function r(t){try{l(a.next(t))}catch(t){n(t)}}function o(t){try{l(a.throw(t))}catch(t){n(t)}}function l(t){var s;t.done?i(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,o)}l((a=a.apply(t,s||[])).next())}))};const A=n().extend({name:"ArtistCard",props:{artist:{type:Object,required:!0}},data(){return{dateInput:"",showDateInput:!1,contactedInput:"",showContactedInput:!1,showNotesInput:!1,tempNotes:"",notes:this.artist.notes}},computed:{daysAgo(){const t=new Date,s=new Date(this.artist.lastContacted);return Math.round((t.getTime()-s.getTime())/864e5)},isInProgress(){return this.artist.isContacted&&!this.artist.ppySigned}},watch:{artist(){this.tempNotes=this.artist.notes}},created(){this.tempNotes=this.artist.notes},methods:Object.assign(Object.assign({},(0,f.OI)(["updateArtist","deleteArtist"])),{filterLinks:t=>(t||"...").replace(/([^\S]|^)(((https?:\/\/)|(www\.))(\S+))/gi,(function(t,s,e){let a=e;return a.match("^https?://")||(a="http://"+a),s+'<a href="'+a+'" target="_blank">'+e+"</a>"})),contactedToday(){const t=new Date;let s=(t.getMonth()+1).toString();1==s.length&&(s="0"+s);let e=t.getDate().toString();1==e.length&&(e="0"+e);const a=t.getFullYear();this.contactedInput=s+"-"+e+"-"+a,this.updateLastContacted()},toggleIsContacted(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleIsContacted/"+this.artist.id,{value:!this.artist.isContacted});t&&this.$store.commit("updateArtist",t)}))},toggleIsResponded(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleIsResponded/"+this.artist.id,{value:!this.artist.isResponded});t&&this.$store.commit("updateArtist",t)}))},toggleTracksSelected(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleTracksSelected/"+this.artist.id,{value:!this.artist.tracksSelected});t&&this.$store.commit("updateArtist",t)}))},toggleIsRejected(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleIsRejected/"+this.artist.id,{value:!this.artist.isRejected});t&&this.$store.commit("updateArtist",t)}))},toggleContractSent(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleContractSent/"+this.artist.id,{value:!this.artist.contractSent});t&&this.$store.commit("updateArtist",t)}))},toggleArtistSigned(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleArtistSigned/"+this.artist.id,{value:!this.artist.artistSigned});t&&this.$store.commit("updateArtist",t)}))},togglePpyPaid(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/togglePpyPaid/"+this.artist.id,{value:!this.artist.ppyPaid});t&&this.$store.commit("updateArtist",t)}))},togglePpySigned(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/togglePpySigned/"+this.artist.id,{value:!this.artist.ppySigned});t&&this.$store.commit("updateArtist",t)}))},toggleSongsTimed(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleSongsTimed/"+this.artist.id,{value:!this.artist.songsTimed});t&&this.$store.commit("updateArtist",t)}))},toggleSongsReceived(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleSongsReceived/"+this.artist.id,{value:!this.artist.songsReceived});t&&this.$store.commit("updateArtist",t)}))},toggleAssetsReceived(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleAssetsReceived/"+this.artist.id,{value:!this.artist.assetsReceived});t&&this.$store.commit("updateArtist",t)}))},toggleHasRankedMaps(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleHasRankedMaps/"+this.artist.id,{value:!this.artist.hasRankedMaps});t&&this.$store.commit("updateArtist",t)}))},toggleIsMinor(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleIsMinor/"+this.artist.id,{value:!this.artist.isMinor});t&&this.$store.commit("updateArtist",t)}))},toggleIsUpToDate(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/toggleIsUpToDate/"+this.artist.id,{value:!this.artist.isUpToDate});t&&this.$store.commit("updateArtist",t)}))},updateProjectedRelease(){return y(this,void 0,void 0,(function*(){const t=this.dateInput.split("-"),s=new Date(parseInt(t[2],10),parseInt(t[0],10)-1,parseInt(t[1],10)),e=yield this.executePost("/artists/updateProjectedRelease/"+this.artist.id,{date:s});e&&(this.$store.commit("updateArtist",e),this.showDateInput=!1)}))},updateLastContacted(){return y(this,void 0,void 0,(function*(){const t=this.contactedInput.split("-"),s=new Date(parseInt(t[2],10),parseInt(t[0],10)-1,parseInt(t[1],10)),e=yield this.executePost("/artists/updateLastContacted/"+this.artist.id,{date:s});e&&(this.$store.commit("updateArtist",e),this.showContactedInput=!1)}))},updateNotes(t){return y(this,void 0,void 0,(function*(){if(t||(this.showNotesInput=!this.showNotesInput),this.notes!=this.tempNotes){this.notes=this.notes.trim(),this.showNotesInput=!this.showNotesInput;const s=yield this.executePost("/artists/updateNotes/"+this.artist.id,{notes:this.notes},t);s&&this.$store.commit("updateArtist",s)}}))},reset(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/reset/"+this.artist.id);t&&this.$store.commit("updateArtist",t)}))},deleteArtist(){return y(this,void 0,void 0,(function*(){const t=yield this.executePost("/artists/deleteArtist/"+this.artist.id);t&&this.$store.commit("deleteArtist",t)}))}})});var x=(0,c.Z)(A,C,[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sub-header"},[e("u",[t._v("Discussion")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sub-header"},[e("u",[t._v("Contract")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sub-header"},[e("u",[t._v("Publication")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sub-header"},[e("u",[t._v("Other")])])}],!1,null,"885f7fec",null);x.options.__file="src/components/artists/ArtistCard.vue";const w=x.exports,k=n().extend({name:"ArtistsInProgress",components:{ArtistCard:w},computed:(0,f.Se)(["readyArtists","discussionArtists","contractArtists","updateAvailableArtists"])});var P=(0,c.Z)(k,_,[],!1,null,null,null);P.options.__file="src/pages/artists/ArtistsInProgress.vue";const I=P.exports;var S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container card card-body py-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h3",{staticClass:"ml-2"},[t._v("\n                Planned\n            ")]),t._v(" "),t.contactedArtists.length?e("h5",{staticClass:"ml-4 mt-2"},[e("a",{attrs:{href:"#contactedArtists","data-toggle":"collapse"}},[t._v("\n                    Awaiting response ("+t._s(t.contactedArtists.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-info",on:{click:function(s){return t.setAllAsRejected(s)}}},[t._v("\n                    Mark all as rejected\n                ")])]):t._e(),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"contactedArtists"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.contactedArtists,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1)],1),t._v(" "),e("h5",{staticClass:"ml-4 mt-2"},[e("a",{attrs:{href:"#notContacted","data-toggle":"collapse"}},[t._v("\n                    Not contacted ("+t._s(t.notContacted.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-info",attrs:{"data-toggle":"modal","data-target":"#addArtist"}},[t._v("\n                    Add artist\n                ")])]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"notContacted"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.notContacted,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1),t._v(" "),e("div",{staticClass:"radial-divisor"})],1)])])])};S._withStripped=!0;const R=n().extend({name:"ArtistsPlanned",components:{ArtistCard:w},computed:(0,f.Se)(["notContacted","contactedArtists"]),methods:{setAllAsRejected(t){return s=this,e=void 0,i=function*(){if(confirm("Are you sure?")){const s=yield this.executePost("/artists/setAllAsRejected/",{},t);s&&this.$store.commit("setArtists",s)}},new((a=void 0)||(a=Promise))((function(t,n){function r(t){try{l(i.next(t))}catch(t){n(t)}}function o(t){try{l(i.throw(t))}catch(t){n(t)}}function l(s){var e;s.done?t(s.value):(e=s.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,o)}l((i=i.apply(s,e||[])).next())}));var s,e,a,i}}});var D=(0,c.Z)(R,S,[],!1,null,null,null);D.options.__file="src/pages/artists/ArtistsPlanned.vue";const b=D.exports;var j=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container card card-body py-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h3",{staticClass:"ml-2"},[t._v("\n                Inactive\n            ")]),t._v(" "),e("h5",{staticClass:"ml-4 mt-2"},[e("a",{attrs:{href:"#upToDate","data-toggle":"collapse"}},[t._v("\n                    Up to date ("+t._s(t.upToDate.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})])]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"upToDate"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.upToDate,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1),t._v(" "),e("div",{staticClass:"radial-divisor"})],1),t._v(" "),e("h5",{staticClass:"ml-4 mt-2"},[e("a",{attrs:{href:"#rejected","data-toggle":"collapse"}},[t._v("\n                    Rejected ("+t._s(t.rejected.length)+")\n                    "),e("i",{staticClass:"fas fa-angle-down"})])]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"rejected"}},[e("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(t.rejected,(function(t){return e("artist-card",{key:t.id,attrs:{artist:t}})})),1),t._v(" "),e("div",{staticClass:"radial-divisor"})],1)])])])};j._withStripped=!0;const T=n().extend({name:"ArtistsInactive",components:{ArtistCard:w},computed:(0,f.Se)(["notContacted","contactedArtists","upToDate","rejected"])});var M=(0,c.Z)(T,j,[],!1,null,null,null);M.options.__file="src/pages/artists/ArtistsInactive.vue";const N=M.exports,E={state:{artists:[],filterValue:""},mutations:{setArtists(t,s){t.artists=s},setFilterValue(t,s){t.filterValue=s},updateArtist(t,s){const e=t.artists.findIndex((t=>t.id===s.id));-1!==e&&n().set(t.artists,e,s)},deleteArtist(t,s){const e=t.artists.findIndex((t=>t.id===s.id));-1!==e&&t.artists.splice(e,1)},addArtist(t,s){t.artists.unshift(s)}},getters:{filteredArtists:t=>{let s=t.artists;return t.filterValue.length>2&&(s=s.filter((s=>s.label.toLowerCase().includes(t.filterValue.toLowerCase())))),s},notContacted:(t,s)=>{let e=s.filteredArtists.filter((t=>!t.isContacted));return e=e.sort(((t,s)=>t.createdAt<s.createdAt?1:t.createdAt>s.createdAt?-1:0)),e},upToDate:(t,s)=>s.filteredArtists.filter((t=>t.isUpToDate&&t.isContacted)),rejected:(t,s)=>s.filteredArtists.filter((t=>t.isRejected&&!t.isUpToDate&&t.isContacted)).sort((function(t,s){return t.lastContacted<s.lastContacted?1:t.lastContacted>s.lastContacted?-1:0})),updateAvailableArtists:(t,s)=>s.filteredArtists.filter((t=>t.osuId&&!t.isUpToDate)).sort(((t,s)=>t.lastContacted<s.lastContacted?1:t.lastContacted>s.lastContacted?-1:0)),readyArtists:(t,s)=>{const e=s.filteredArtists.filter((t=>!t.osuId&&!t.isUpToDate&&(t.ppySigned||t.projectedRelease)));let a=e.filter((t=>t.projectedRelease)),i=e.filter((t=>!t.projectedRelease));return a=a.sort(((t,s)=>t.projectedRelease<s.projectedRelease?-1:t.projectedRelease>s.projectedRelease?1:0)),i=i.sort(((t,s)=>t.lastContacted<s.lastContacted?1:t.lastContacted>s.lastContacted?-1:0)),a.concat(i)},discussionArtists:(t,s)=>s.filteredArtists.filter((t=>!t.osuId&&!t.isUpToDate&&t.isResponded&&!t.contractSent&&!t.isRejected)).sort(((t,s)=>t.lastContacted<s.lastContacted?1:t.lastContacted>s.lastContacted?-1:0)),contractArtists:(t,s)=>s.filteredArtists.filter((t=>!t.osuId&&!t.isUpToDate&&t.isResponded&&t.contractSent&&!t.ppySigned&&!t.isRejected)).sort(((t,s)=>t.lastContacted<s.lastContacted?1:t.lastContacted>s.lastContacted?-1:0)),contactedArtists:(t,s)=>s.filteredArtists.filter((t=>!t.isResponded&&!t.projectedRelease&&!t.osuId&&!t.isUpToDate&&!t.isRejected&&t.isContacted)).sort(((t,s)=>t.lastContacted<s.lastContacted?1:t.lastContacted>s.lastContacted?-1:0))},actions:{updateFilterValue({commit:t},s){t("setFilterValue",s)}}};const U=n().extend({name:"ArtistPage",components:{ArtistPageFilters:m,ArtistsInProgress:I,ArtistsPlanned:b,ArtistsInactive:N,AddArtist:u},beforeCreate(){this.$store.hasModule("artists")||this.$store.registerModule("artists",E)},destroyed(){this.$store.hasModule("artists")&&this.$store.unregisterModule("artists")},created(){return t=this,s=void 0,a=function*(){const t=yield this.initialRequest("/artists/relevantInfo");t&&this.$store.commit("setArtists",t.artists)},new((e=void 0)||(e=Promise))((function(i,n){function r(t){try{l(a.next(t))}catch(t){n(t)}}function o(t){try{l(a.throw(t))}catch(t){n(t)}}function l(t){var s;t.done?i(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,o)}l((a=a.apply(t,s||[])).next())}));var t,s,e,a}});var V=(0,c.Z)(U,a,[],!1,null,null,null);V.options.__file="src/pages/artists/ArtistPage.vue";const F=V.exports}}]);