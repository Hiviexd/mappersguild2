(self.webpackChunkmappersguild=self.webpackChunkmappersguild||[]).push([[862],{1862:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>y});var r=o(5393);const s={class:"container card card-body pt-1 pb-4"},n={class:"row"},c={class:"col-md-12"},a={class:"table table-sm mt-3"},i=(0,r.createVNode)("thead",null,[(0,r.createVNode)("tr",null,[(0,r.createVNode)("th",{scope:"col"}," date "),(0,r.createVNode)("th",{scope:"col"}," user "),(0,r.createVNode)("th",{scope:"col"}," action ")])],-1),l={scope:"row"},d={scope:"row"},u={scope:"row"},h={class:"text-center"},p=(0,r.createVNode)("i",{class:"fas fa-angle-down me-1"},null,-1),g=(0,r.createTextVNode)(" show more "),m=(0,r.createVNode)("i",{class:"fas fa-angle-down ms-1"},null,-1);var f=function(e,t,o,r){return new(o||(o=Promise))((function(s,n){function c(e){try{i(r.next(e))}catch(e){n(e)}}function a(e){try{i(r.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,a)}i((r=r.apply(e,t||[])).next())}))};const N=(0,r.defineComponent)({data:()=>({skip:100,logs:[]}),created(){return f(this,void 0,void 0,(function*(){const e=yield this.$http.initialRequest("/logs/query");this.$http.isError(e)||(this.logs=e.logs)}))},methods:{shortDate:e=>e?new Date(e).toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"",shortAction:e=>e?e.length>120?e.toString().slice(0,120)+"...":e:"",showMore(e){return f(this,void 0,void 0,(function*(){const t=yield this.$http.executeGet(`/logs/query?skip=${this.skip}`,e);this.$http.isError(t)||(this.skip+=100,this.logs=[...this.logs,...t.logs])}))}}});N.render=function(e,t,o,f,N,y){return(0,r.openBlock)(),(0,r.createBlock)("div",s,[(0,r.createVNode)("div",n,[(0,r.createVNode)("div",c,[(0,r.createVNode)("table",a,[i,(0,r.createVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.logs,(t=>((0,r.openBlock)(),(0,r.createBlock)("tr",{key:t.id},[(0,r.createVNode)("td",l,(0,r.toDisplayString)(e.shortDate(t.createdAt)),1),(0,r.createVNode)("td",d,(0,r.toDisplayString)(t.user.username),1),(0,r.createVNode)("td",u,(0,r.toDisplayString)(e.shortAction(t.action)),1)])))),128))])]),(0,r.createVNode)("div",h,[(0,r.createVNode)("button",{class:"btn btn-sm btn-primary",type:"button",onClick:t[1]||(t[1]=t=>e.showMore(t))},[p,g,m])])])])])};const y=N}}]);