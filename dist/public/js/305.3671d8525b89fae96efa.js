(self.webpackChunkmappersguild=self.webpackChunkmappersguild||[]).push([[305],{285:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var s=o(5393);const n={name:"CopyPaste",props:{distinct:{type:String,default:""}},methods:{copy(){const e=document.querySelector(`#copyText${this.distinct}`);e.classList.add("animate-flicker"),this.$store.dispatch("updateToastMessages",{message:"Copied",type:"info"}),setTimeout((()=>{e.classList.remove("animate-flicker")}),500);const t=e.innerHTML.replace(/<br>/gi,"\r\n"),o=document.createElement("div");o.innerHTML=t,navigator.clipboard.writeText(o.textContent.trim())}},render:function(e,t,o,n,i,r){return(0,s.openBlock)(),(0,s.createBlock)("div",{id:"copyText"+o.distinct,class:"copy-text small text-white-50 font-monospace",onClick:t[1]||(t[1]=(...e)=>r.copy&&r.copy(...e))},[(0,s.renderSlot)(e.$slots,"default")],8,["id"])}}},1516:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var s=o(5393);const n={class:"modal fade",tabindex:"-1"},i={key:0,class:"modal-content the-a-background"},r={class:"modal-title"},a=(0,s.createVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"},null,-1),c={class:"modal-body"},d={key:0,class:"modal-footer"},l=(0,s.defineComponent)({name:"ModalDialog",props:{title:{type:String,default:""},modalSize:{type:String,default:"lg"},headerClass:{type:String,default:"bg-primary"},loaded:{type:Boolean,default:!0}}});l.render=function(e,t,o,l,u,p){return(0,s.openBlock)(),(0,s.createBlock)("div",n,[(0,s.createVNode)("div",{class:["modal-dialog modal-fullscreen-lg-down",`modal-${e.modalSize}`]},[e.loaded?((0,s.openBlock)(),(0,s.createBlock)("div",i,[(0,s.createVNode)("div",{class:["modal-header",e.headerClass||"bg-primary"]},[(0,s.createVNode)("h5",r,[(0,s.renderSlot)(e.$slots,"header",{},(()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.title),1)]))]),a],2),(0,s.createVNode)("div",c,[(0,s.renderSlot)(e.$slots,"default")]),e.$slots.footer?((0,s.openBlock)(),(0,s.createBlock)("div",d,[(0,s.renderSlot)(e.$slots,"footer")])):(0,s.createCommentVNode)("",!0)])):(0,s.createCommentVNode)("",!0)],2)])};const u=l},8092:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>It});var s=o(5393),n=o(6564);const i={class:"container card card-body py-3 mb-2"},r={class:"container"},a=(0,s.createTextVNode)(" Submissions "),c=(0,s.createVNode)("hr",null,null,-1),d=(0,s.createTextVNode)(" Screeners and Judges "),l={key:1,class:"row"},u={key:2},p=(0,s.createTextVNode)(" Screening Results "),m=(0,s.createVNode)("hr",null,null,-1),h=(0,s.createTextVNode)(" Judging Criteria "),g=(0,s.createTextVNode)(" Judging Results "),y=(0,s.withScopeId)("data-v-c2a3ce22");(0,s.pushScopeId)("data-v-c2a3ce22");const f={class:"text-white-50"},k={key:0},v=(0,s.createVNode)("i",{class:"fas fa-edit"},null,-1);(0,s.popScopeId)();const b=y(((e,t,o,n,i,r)=>((0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("p",f,[e.showContestStartDateInput?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createBlock)("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newContestStart=t),class:"form-control form-control-sm date-input",type:"text",autocomplete:"off",placeholder:"yyyy-mm-dd",onChange:t[2]||(t[2]=t=>e.updateContestStart(t))},null,544)),[[s.vModelText,e.newContestStart]]):((0,s.openBlock)(),(0,s.createBlock)("span",k,(0,s.toDisplayString)(e.contestStart?"Started: "+e.contestStart:"No start date set"),1)),(0,s.createVNode)("a",{href:"#",class:"ms-1",onClick:t[3]||(t[3]=(0,s.withModifiers)((t=>e.showContestStartDateInput=!e.showContestStartDateInput),["prevent"]))},[v])])]))));const S=(0,s.defineComponent)({name:"DateInfo",props:{contestId:{type:String,required:!0},contestStart:{type:String,default:null}},data(){return{newContestStart:this.contestStart,showContestStartDateInput:!1}},methods:{updateContestStart(e){return t=this,o=void 0,n=function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/updateContestStart`,{date:this.newContestStart},e);this.$http.isError(t)||(this.showContestStartDateInput=!1,this.$store.dispatch("updateToastMessages",{message:"updated contest start date",type:"info"}),this.$store.commit("updateContestStart",{contestId:this.contestId,contestStart:t}))},new((s=void 0)||(s=Promise))((function(e,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,a)}c((n=n.apply(t,o||[])).next())}));var t,o,s,n}}});S.render=b,S.__scopeId="data-v-c2a3ce22";const C=S,B=(0,s.withScopeId)("data-v-09169d11");(0,s.pushScopeId)("data-v-09169d11");const N={class:"text-white-50"},V={key:0,class:"text-capitalize"},w=(0,s.createVNode)("option",{value:"beatmapping"}," Beatmapping ",-1),I=(0,s.createVNode)("option",{value:"screening"}," Screening ",-1),x=(0,s.createVNode)("option",{value:"judging"}," Judging ",-1),D=(0,s.createVNode)("option",{value:"complete"}," Complete ",-1),j=(0,s.createVNode)("i",{class:"fas fa-edit"},null,-1);(0,s.popScopeId)();const $=B(((e,t,o,n,i,r)=>((0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("p",N,[e.showStatusInput?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createBlock)("select",{key:1,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newStatus=t),class:"form-select form-select-sm w-25",onChange:t[2]||(t[2]=t=>e.updateStatus(t))},[w,I,x,D],544)),[[s.vModelSelect,e.newStatus]]):((0,s.openBlock)(),(0,s.createBlock)("span",V," status: "+(0,s.toDisplayString)(e.status),1)),(0,s.createVNode)("a",{href:"#",class:"ms-1",onClick:t[3]||(t[3]=(0,s.withModifiers)((t=>e.showStatusInput=!e.showStatusInput),["prevent"]))},[j])])]))));const T=(0,s.defineComponent)({name:"StatusInfo",props:{contestId:{type:String,required:!0},status:{type:String,default:null}},data(){return{newStatus:this.status,showStatusInput:!1}},methods:{updateStatus(e){return t=this,o=void 0,n=function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/updateStatus`,{status:this.newStatus},e);this.$http.isError(t)||(this.showStatusInput=!1,this.$store.dispatch("updateToastMessages",{message:"updated contest status",type:"info"}),this.$store.commit("updateStatus",{contestId:this.contestId,status:t}))},new((s=void 0)||(s=Promise))((function(e,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,a)}c((n=n.apply(t,o||[])).next())}));var t,o,s,n}}});T.render=$,T.__scopeId="data-v-09169d11";const M=T,J={class:"row"},L={key:0},F={key:1,class:"text-white-50 m-4"};var A=function(e,t,o,s){return new(o||(o=Promise))((function(n,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}c((s=s.apply(e,t||[])).next())}))};const E=(0,s.defineComponent)({name:"ScreenersInfo",props:{contestId:{type:String,required:!0},screeners:{type:Array,required:!0}},data:()=>({screenerInput:null,confirmDelete:null}),methods:{addScreener(e){return A(this,void 0,void 0,(function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/screeners/add`,{screenerInput:this.screenerInput},e);this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:`added ${this.screenerInput} (${this.screeners.length+1})`,type:"info"}),this.$store.commit("addScreener",{contestId:this.contestId,screener:t}))}))},removeScreener(e,t){return A(this,void 0,void 0,(function*(){const o=yield this.$http.executePost(`/admin/contests/${this.contestId}/screeners/remove`,{screenerId:e},t);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"deleted",type:"info"}),this.$store.commit("deleteScreener",{contestId:this.contestId,screenerId:e}))}))}}});E.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("user-link");return(0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("p",J,[(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.screenerInput=t),class:"form-control form-control-sm w-50",autocomplete:"off",placeholder:"new screener username/osuId...",onKeyup:t[2]||(t[2]=(0,s.withKeys)((t=>e.addScreener(t)),["enter"]))},null,544),[[s.vModelText,e.screenerInput,void 0,{number:!0}]])]),e.screeners.length?((0,s.openBlock)(),(0,s.createBlock)("ul",L,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.screeners,(t=>((0,s.openBlock)(),(0,s.createBlock)("li",{key:t.id},[(0,s.createVNode)(a,{user:t},null,8,["user"]),e.confirmDelete!=t.id?((0,s.openBlock)(),(0,s.createBlock)("a",{key:0,href:"#",class:"text-danger",onClick:(0,s.withModifiers)((o=>e.confirmDelete=t.id),["prevent"])}," delete ",8,["onClick"])):((0,s.openBlock)(),(0,s.createBlock)("a",{key:1,class:"text-danger",href:"#",onClick:(0,s.withModifiers)((o=>e.removeScreener(t.id,o)),["prevent"])}," confirm ",8,["onClick"]))])))),128))])):((0,s.openBlock)(),(0,s.createBlock)("div",F," None... "))])};const R=E,P={class:"row"},O={key:0},q={key:1,class:"text-white-50 m-4"};var H=function(e,t,o,s){return new(o||(o=Promise))((function(n,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}c((s=s.apply(e,t||[])).next())}))};const U=(0,s.defineComponent)({name:"JudgesInfo",props:{contestId:{type:String,required:!0},judges:{type:Array,required:!0}},data:()=>({judgeInput:null,confirmDelete:null}),methods:{addJudge(e){return H(this,void 0,void 0,(function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/judges/add`,{judgeInput:this.judgeInput},e);this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:`added ${this.judgeInput} (${this.judges.length+1})`,type:"info"}),this.$store.commit("addJudge",{contestId:this.contestId,judge:t}))}))},removeJudge(e,t){return H(this,void 0,void 0,(function*(){const o=yield this.$http.executePost(`/admin/contests/${this.contestId}/judges/remove`,{judgeId:e},t);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"deleted",type:"info"}),this.$store.commit("deleteJudge",{contestId:this.contestId,judgeId:e}))}))}}});U.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("user-link");return(0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("p",P,[(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.judgeInput=t),class:"form-control form-control-sm w-50",autocomplete:"off",placeholder:"new judge's username/osuId...",onKeyup:t[2]||(t[2]=(0,s.withKeys)((t=>e.addJudge(t)),["enter"]))},null,544),[[s.vModelText,e.judgeInput,void 0,{number:!0}]])]),e.judges.length?((0,s.openBlock)(),(0,s.createBlock)("ul",O,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.judges,(t=>((0,s.openBlock)(),(0,s.createBlock)("li",{key:t.id},[(0,s.createVNode)(a,{user:t},null,8,["user"]),e.confirmDelete!=t.id?((0,s.openBlock)(),(0,s.createBlock)("a",{key:0,href:"#",class:"text-danger",onClick:(0,s.withModifiers)((o=>e.confirmDelete=t.id),["prevent"])}," delete ",8,["onClick"])):((0,s.openBlock)(),(0,s.createBlock)("a",{key:1,class:"text-danger",href:"#",onClick:(0,s.withModifiers)((o=>e.removeJudge(t.id,o)),["prevent"])}," confirm ",8,["onClick"]))])))),128))])):((0,s.openBlock)(),(0,s.createBlock)("div",q," None... "))])};const z=U,_=(0,s.createTextVNode)(" Judging threshold: "),K={class:"d-flex justify-content-between"},G=(0,s.createVNode)("i",{class:"fas fa-angle-down"},null,-1),Z={class:"p-3"},W={class:"ms-4 small text-white-50",style:{"word-break":"break-word"}},X={key:0},Y=(0,s.defineComponent)({name:"ScreeningDetail",props:{evaluations:{type:Array,required:!0}}});Y.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("user-link");return(0,s.openBlock)(),(0,s.createBlock)("div",Z,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.evaluations,(e=>((0,s.openBlock)(),(0,s.createBlock)("div",{key:e.id},[(0,s.createVNode)("div",null,[(0,s.createVNode)(a,{user:e.screener},null,8,["user"]),(0,s.createTextVNode)(" ("+(0,s.toDisplayString)(e.vote)+") ",1),(0,s.createVNode)("div",W,(0,s.toDisplayString)(e.comment),1)])])))),128)),e.evaluations.length?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)("div",X," No screenings... "))])};const Q=Y,ee=(0,s.createVNode)("button",{class:"btn btn-sm btn-outline-info"}," Send results PM ",-1);var te=o(285);const oe=(0,s.defineComponent)({name:"MessageTemplate",components:{CopyPaste:te.Z},props:{osuId:{type:Number,default:0},submissionId:{type:String,required:!0},contestName:{type:String,required:!0}},methods:{sendResultsPm(e){return t=this,o=void 0,n=function*(){const t=yield this.$http.executePost("/admin/contests/sendResultsPm",{contestName:this.contestName,submissionId:this.submissionId,osuId:this.osuId},e);this.$http.isError(t)||this.$store.dispatch("updateToastMessages",{message:"sent results pm",type:"info"})},new((s=void 0)||(s=Promise))((function(e,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,a)}c((n=n.apply(t,o||[])).next())}));var t,o,s,n}}});oe.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("copy-paste");return(0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("a",{href:"https://osu.ppy.sh/community/chat?sendto="+e.osuId,target:"_blank"},[ee],8,["href"]),(0,s.createVNode)(a,{distinct:e.submissionId},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)(' hello, thank you for recently participating in "'+(0,s.toDisplayString)(e.contestName)+'"! screening/judging details on your submission can be found here: https://mappersguild.com/contestresults?submission='+(0,s.toDisplayString)(e.submissionId),1)])),_:1},8,["distinct"])])};const se=oe;const ne=(0,s.defineComponent)({name:"ScreeningResults",components:{ScreeningDetail:Q,MessageTemplate:se},props:{contestId:{type:String,required:!0},contestName:{type:String,required:!0},judgingThreshold:{type:Number,default:0},submissions:{type:Array,required:!0}},data(){return{newJudgingThreshold:this.judgingThreshold}},computed:{sortedSubmissions(){const e=JSON.parse(JSON.stringify(this.submissions));for(let t=0;t<e.length;t++){const o=e[t].evaluations.reduce(((e,t)=>t.vote?e+t.vote:e),0);e[t].total=o}return e.sort(((e,t)=>e.total>t.total?-1:t.total>e.total?1:0)),e}},methods:{updateJudgingThreshold(e){return t=this,o=void 0,n=function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/updateJudgingThreshold`,{judgingThreshold:this.newJudgingThreshold},e);this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:"updated judging threshold",type:"info"}),this.$store.commit("updateJudgingThreshold",{contestId:this.contestId,judgingThreshold:t}))},new((s=void 0)||(s=Promise))((function(e,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,a)}c((n=n.apply(t,o||[])).next())}));var t,o,s,n}}});ne.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("screening-detail"),c=(0,s.resolveComponent)("message-template");return(0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("p",null,[_,(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.newJudgingThreshold=t),class:"form-control form-control-sm w-25",type:"text",autocomplete:"off",placeholder:"lowest score judges see..."},null,512),[[s.vModelText,e.newJudgingThreshold]]),(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:t[2]||(t[2]=t=>e.updateJudgingThreshold(t))}," Save ")]),(0,s.createVNode)("ul",null,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.sortedSubmissions,(t=>((0,s.openBlock)(),(0,s.createBlock)("li",{key:t.id},[(0,s.createVNode)("div",K,[(0,s.createVNode)("a",{class:t.total>=e.judgingThreshold?"text-success":"","data-bs-toggle":"collapse",href:`#collapse-${t.id}`},[(0,s.createTextVNode)((0,s.toDisplayString)(t.name)+" ("+(0,s.toDisplayString)(t.total)+") ",1),G],10,["href"])]),(0,s.createVNode)("div",{id:`collapse-${t.id}`,class:"collapse"},[(0,s.createVNode)("div",null,[(0,s.createVNode)(a,{evaluations:t.evaluations},null,8,["evaluations"]),(0,s.createVNode)(c,{"osu-id":t.creator.osuId,"submission-id":t.id,"contest-name":e.contestName},null,8,["osu-id","submission-id","contest-name"])])],8,["id"])])))),128))])])};const ie=ne,re={key:0},ae={class:"container"},ce={key:0,class:"table table-sm table-responsive-lg"},de=(0,s.createVNode)("thead",null,[(0,s.createVNode)("tr",null,[(0,s.createVNode)("th",null,"User"),(0,s.createVNode)("th",null,"Count"),(0,s.createVNode)("th",null,"Judges")])],-1),le={key:1,class:"text-white-50"},ue={class:"container"},pe={key:1,class:"small text-capitalize ms-3"},me={class:"small text-white-50",style:{"white-space":"pre-line"}},he={key:0};var ge=o(1516);const ye=(0,s.defineComponent)({name:"JudgingDetail",components:{ModalDialog:ge.Z},props:{submission:{type:Object,default:null}},data:()=>({commentsExpanded:[]}),methods:{showComment(e){const t=this.commentsExpanded.findIndex((t=>t===e));-1!==t?this.commentsExpanded.splice(t,1):this.commentsExpanded.push(e)},getCollapseClass(e){return this.commentsExpanded.includes(e)?"fa-chevron-down":"fa-chevron-right"}}});ye.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("user-link"),c=(0,s.resolveComponent)("modal-dialog");return(0,s.openBlock)(),(0,s.createBlock)(c,{id:"detailModal",loaded:Boolean(e.submission)},{header:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.submission.creator.username)+" ("+(0,s.toDisplayString)(e.submission.name)+") ",1)])),default:(0,s.withCtx)((()=>[(0,s.createVNode)("div",ue,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.submission.judgings,((t,o)=>((0,s.openBlock)(),(0,s.createBlock)("div",{key:t.id},[(0,s.createVNode)(a,{user:t.judge},null,8,["user"]),((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(t.judgingScores,(t=>((0,s.openBlock)(),(0,s.createBlock)("div",{key:t.id,class:"my-1"},["comments"==t.criteria.name?((0,s.openBlock)(),(0,s.createBlock)("a",{key:0,class:"small fw-bold text-capitalize","data-bs-toggle":"collapse",href:`#judgingToCriteria${t.id}`,onClick:o=>e.showComment(t.id)},[(0,s.createVNode)("i",{class:["small fas me-2",e.getCollapseClass(t.id)]},null,2),(0,s.createTextVNode)(" "+(0,s.toDisplayString)(t.criteria.name),1)],8,["href","onClick"])):((0,s.openBlock)(),(0,s.createBlock)("span",pe,(0,s.toDisplayString)(t.criteria.name)+" ("+(0,s.toDisplayString)(t.score)+") ",1)),(0,s.createVNode)("p",{id:`judgingToCriteria${t.id}`,class:"text-light ms-4 collapse"},[(0,s.createVNode)("span",me,(0,s.toDisplayString)(t.comment),1)],8,["id"])])))),128)),o<e.submission.judgings.length-1?((0,s.openBlock)(),(0,s.createBlock)("hr",he)):(0,s.createCommentVNode)("",!0)])))),128))])])),_:1},8,["loaded"])};const fe=ye,ke={class:"container"},ve={class:"row my-3"},be={class:"col-sm"},Se=(0,s.createTextVNode)(" | "),Ce=(0,s.createTextVNode)(" | "),Be={class:"row"},Ne={class:"col-sm"},Ve={class:"table table-sm table-responsive-lg"},we=(0,s.createVNode)("th",null,"#",-1),Ie=(0,s.createVNode)("th",null,"Name",-1),xe={class:"cursor-default"},De=(0,s.createVNode)("td",null,null,-1),je=(0,s.createVNode)("td",null,"AVG",-1),$e=(0,s.createVNode)("td",null,null,-1),Te=(0,s.createVNode)("td",null,null,-1),Me={class:"cursor-default"},Je=(0,s.createVNode)("td",null,null,-1),Le=(0,s.createVNode)("td",null,"SD",-1),Fe=(0,s.createVNode)("td",null,null,-1),Ae=(0,s.createVNode)("td",null,null,-1),Ee={class:"cursor-default"},Re=(0,s.createVNode)("td",null,null,-1),Pe=(0,s.createVNode)("td",null,"COR",-1),Oe=(0,s.createVNode)("td",null,null,-1),qe=(0,s.createVNode)("td",null,null,-1),He=(0,s.defineComponent)({name:"JudgingLeaderboard",props:{contest:{type:Object,required:!0},usersScores:{type:Array,required:!0},judgesCorrel:{type:Array,required:!0}},data(){return{selectedScore:null,displayMode:"criterias",sortDesc:!1,judges:this.contest.judges}},computed:{scoreDetail(){if(this.selectedScore)return this.contest.submissions.find((e=>{var t;return e.creator.id==(null===(t=this.selectedScore)||void 0===t?void 0:t.creator.id)}))}},methods:{getCriteriaScore(e,t){var o;return(null===(o=e.criteriaSum.find((e=>e.criteriaId===t)))||void 0===o?void 0:o.sum)||0},getJudgeScore(e,t,o=!1){const s=e.judgingSum.find((e=>e.judgeId===t)),n=(null==s?void 0:s.standardized)||0;return o?`${(null==s?void 0:s.sum)||0} (${n.toFixed(3)})`:(null==s?void 0:s.sum)||0},getJudgeAvg(e){var t;return(null===(t=this.judgesCorrel.find((t=>t.id===e)))||void 0===t?void 0:t.rawAvg.toFixed(4))||0},getJudgeSd(e){var t;return(null===(t=this.judgesCorrel.find((t=>t.id===e)))||void 0===t?void 0:t.sd.toFixed(4))||0},getJudgeCorrel(e){var t;return((null===(t=this.judgesCorrel.find((t=>t.id===e)))||void 0===t?void 0:t.correl)||0).toFixed(4)},getFinalScore:e=>isNaN(e)?"0":e.toFixed(4),sortByCriteria(e){this.sortDesc=!this.sortDesc,this.$store.commit("sortByCriteria",{criteriaId:e,sortDesc:this.sortDesc})},sortByJudge(e){this.sortDesc=!this.sortDesc,this.$store.commit("sortByJudge",{judgeId:e,sortDesc:this.sortDesc})},sortByRawScore(){this.sortDesc=!this.sortDesc,this.$store.commit("sortByRawScore",{sortDesc:this.sortDesc})},sortByStdScore(){this.sortDesc=!this.sortDesc,this.$store.commit("sortByStdScore",{sortDesc:this.sortDesc})}}});He.render=function(e,t,o,n,i,r){return(0,s.openBlock)(),(0,s.createBlock)("div",ke,[(0,s.createVNode)("div",ve,[(0,s.createVNode)("div",be,[(0,s.createVNode)("a",{href:"#",class:"criterias"===e.displayMode?"border-bottom border-secondary":"",onClick:t[1]||(t[1]=(0,s.withModifiers)((t=>e.displayMode="criterias"),["prevent"]))}," Criteria ",2),Se,(0,s.createVNode)("a",{href:"#",class:"judges"===e.displayMode?"border-bottom border-secondary":"",onClick:t[2]||(t[2]=(0,s.withModifiers)((t=>e.displayMode="judges"),["prevent"]))}," Judge ",2),Ce,(0,s.createVNode)("a",{href:"#",class:"detail"===e.displayMode?"border-bottom border-secondary":"",onClick:t[3]||(t[3]=(0,s.withModifiers)((t=>e.displayMode="detail"),["prevent"]))}," Judge (SD) ",2)])]),(0,s.createVNode)("div",Be,[(0,s.createVNode)("div",Ne,[(0,s.createVNode)("table",Ve,[(0,s.createVNode)("thead",null,[(0,s.createVNode)("tr",null,[we,Ie,"criterias"===e.displayMode?((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,{key:0},(0,s.renderList)(e.contest.criterias,(t=>((0,s.openBlock)(),(0,s.createBlock)("th",{key:t.id},[(0,s.createVNode)("a",{href:"#",class:"text-capitalize",onClick:(0,s.withModifiers)((o=>e.sortByCriteria(t.id)),["prevent"])},(0,s.toDisplayString)(t.name),9,["onClick"])])))),128)):((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,{key:1},(0,s.renderList)(e.judges,(t=>((0,s.openBlock)(),(0,s.createBlock)("th",{key:t.id},[(0,s.createVNode)("a",{href:"#",onClick:(0,s.withModifiers)((o=>e.sortByJudge(t.id)),["prevent"])},(0,s.toDisplayString)(t.username),9,["onClick"])])))),128)),(0,s.createVNode)("th",null,[(0,s.createVNode)("a",{href:"#",onClick:t[4]||(t[4]=(0,s.withModifiers)(((...t)=>e.sortByRawScore&&e.sortByRawScore(...t)),["prevent"]))}," Final Score (raw) ")]),(0,s.createVNode)("th",null,[(0,s.createVNode)("a",{href:"#",onClick:t[5]||(t[5]=(0,s.withModifiers)(((...t)=>e.sortByStdScore&&e.sortByStdScore(...t)),["prevent"]))}," Final Score (standardized) ")])])]),(0,s.createVNode)("tbody",null,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.usersScores,((t,o)=>((0,s.openBlock)(),(0,s.createBlock)("tr",{key:o,"data-bs-toggle":"modal","data-bs-target":"#detailModal",onClick:o=>e.selectedScore=t},[(0,s.createVNode)("td",null,(0,s.toDisplayString)(o+1),1),(0,s.createVNode)("td",null,(0,s.toDisplayString)(t.creator.username),1),"criterias"===e.displayMode?((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,{key:0},(0,s.renderList)(e.contest.criterias,(o=>((0,s.openBlock)(),(0,s.createBlock)("td",{key:o.id},(0,s.toDisplayString)(e.getCriteriaScore(t,o.id)),1)))),128)):((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,{key:1},(0,s.renderList)(e.judges,(o=>((0,s.openBlock)(),(0,s.createBlock)("td",{key:o.id},(0,s.toDisplayString)(e.getJudgeScore(t,o.id,"detail"===e.displayMode)),1)))),128)),(0,s.createVNode)("td",null,(0,s.toDisplayString)(t.rawFinalScore),1),(0,s.createVNode)("td",null,(0,s.toDisplayString)(e.getFinalScore(t.standardizedFinalScore)),1)],8,["onClick"])))),128)),"detail"===e.displayMode?((0,s.openBlock)(),(0,s.createBlock)(s.Fragment,{key:0},[(0,s.createVNode)("tr",xe,[De,je,((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.judges,(t=>((0,s.openBlock)(),(0,s.createBlock)("td",{key:t.id},(0,s.toDisplayString)(e.getJudgeAvg(t.id)),1)))),128)),$e,Te]),(0,s.createVNode)("tr",Me,[Je,Le,((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.judges,(t=>((0,s.openBlock)(),(0,s.createBlock)("td",{key:t.id},(0,s.toDisplayString)(e.getJudgeSd(t.id)),1)))),128)),Fe,Ae]),(0,s.createVNode)("tr",Ee,[Re,Pe,((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.judges,(t=>((0,s.openBlock)(),(0,s.createBlock)("td",{key:t.id},(0,s.toDisplayString)(e.getJudgeCorrel(t.id)),1)))),128)),Oe,qe])],64)):(0,s.createCommentVNode)("",!0)])])])])])};const Ue=He,ze=(0,s.createVNode)("div",null," | :-- | :-- | :-- | :-- | :-- | :-- | :-- | :-- | :-- | ",-1),_e=(0,s.defineComponent)({name:"MarkdownJudgingLeaderboard",components:{CopyPaste:te.Z},props:{usersScores:{type:Array,required:!0},contest:{type:Object,required:!0},judgeCount:{type:Number,required:!0}},methods:{getSubmissionIdByCreatorId(e){var t;return(null===(t=this.contest)||void 0===t?void 0:t.submissions.find((t=>t.creator.id===e))).id},getCriteriaSumbyName(e,t){const o=t.find((t=>t.name===e));return(null==o?void 0:o.sum)||NaN}}});_e.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("copy-paste");return(0,s.openBlock)(),(0,s.createBlock)(a,null,{default:(0,s.withCtx)((()=>[(0,s.createVNode)("div",null," | Rank | Beatmap | Judging | Musical representation ("+(0,s.toDisplayString)(10*e.judgeCount)+") | Creativity ("+(0,s.toDisplayString)(10*e.judgeCount)+") | Gameplay ("+(0,s.toDisplayString)(10*e.judgeCount)+") | Limitation ("+(0,s.toDisplayString)(5*e.judgeCount)+") | Raw total | Standardized total | ",1),ze,((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.usersScores,((t,o)=>((0,s.openBlock)(),(0,s.createBlock)("div",{key:o}," | \\#"+(0,s.toDisplayString)(o+1)+" | [TITLE](LINK) by ["+(0,s.toDisplayString)(t.creator.username)+"](https://osu.ppy.sh/users/"+(0,s.toDisplayString)(t.creator.osuId)+") | [see details](https://mappersguild.com/contestresults?submission="+(0,s.toDisplayString)(e.getSubmissionIdByCreatorId(t.creator.id))+") | "+(0,s.toDisplayString)(e.getCriteriaSumbyName("musical representation",t.criteriaSum))+" | "+(0,s.toDisplayString)(e.getCriteriaSumbyName("creativity",t.criteriaSum))+" | "+(0,s.toDisplayString)(e.getCriteriaSumbyName("gameplay",t.criteriaSum))+" | "+(0,s.toDisplayString)(e.getCriteriaSumbyName("limitation",t.criteriaSum))+" | **"+(0,s.toDisplayString)(t.rawFinalScore)+"** | **"+(0,s.toDisplayString)(Math.round(100*t.standardizedFinalScore)/100)+"** ",1)))),128))])),_:1})};const Ke=_e;const Ge=(0,s.defineComponent)({name:"JudgingResults",components:{JudgingDetail:fe,JudgingLeaderboard:Ue,MarkdownJudgingLeaderboard:Ke},props:{contestId:{type:String,required:!0}},data:()=>({contest:null,selected:null,usersScores:[],judgesCorrel:[]}),computed:{judgeCount(){var e;return(null===(e=this.contest)||void 0===e?void 0:e.judges.length)||0}},created(){return e=this,t=void 0,s=function*(){const e=yield this.$http.executeGet(`/admin/judging/${this.contestId}`);this.$http.isError(e)||(this.contest=e.contest,this.usersScores=e.usersScores,this.judgesCorrel=e.judgesCorrel)},new((o=void 0)||(o=Promise))((function(n,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}c((s=s.apply(e,t||[])).next())}));var e,t,o,s},methods:{getJudgesInvolvedCount:e=>e.judgings.map((e=>e.judge)).length,getJudgesInvolved:e=>e.judgings.map((e=>e.judge.username)).join(", "),getSubmissionIdByCreatorId(e){var t;return(null===(t=this.contest)||void 0===t?void 0:t.submissions.find((t=>t.creator.id===e))).id}}});Ge.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("judging-leaderboard"),c=(0,s.resolveComponent)("markdown-judging-leaderboard"),d=(0,s.resolveComponent)("judging-detail");return(0,s.openBlock)(),(0,s.createBlock)("div",null,[e.contest?((0,s.openBlock)(),(0,s.createBlock)("div",re,[(0,s.createVNode)(a,{contest:e.contest,"users-scores":e.usersScores,"judges-correl":e.judgesCorrel},null,8,["contest","users-scores","judges-correl"]),(0,s.createVNode)("div",ae,[e.contest.submissions.length?((0,s.openBlock)(),(0,s.createBlock)("table",ce,[de,(0,s.createVNode)("tbody",null,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.contest.submissions,(t=>((0,s.openBlock)(),(0,s.createBlock)("tr",{key:t.id,"data-bs-toggle":"modal","data-bs-target":"#detailModalAdmin",onClick:o=>e.selected=t},[(0,s.createVNode)("td",null,(0,s.toDisplayString)(`${t.creator.username} (${t.name||"Not anonymized"})`),1),(0,s.createVNode)("td",{class:e.getJudgesInvolvedCount(t)>=e.judgeCount?"text-success":"text-danger"},(0,s.toDisplayString)(e.getJudgesInvolvedCount(t))+" done of "+(0,s.toDisplayString)(e.judgeCount),3),(0,s.createVNode)("td",null,(0,s.toDisplayString)(e.getJudgesInvolved(t)),1)],8,["onClick"])))),128))])])):(0,s.createCommentVNode)("",!0)]),(0,s.createVNode)(c,{"users-scores":e.usersScores,contest:e.contest,"judge-count":e.judgeCount},null,8,["users-scores","contest","judge-count"]),(0,s.createVNode)(d,{id:"detailModalAdmin",submission:e.selected},null,8,["submission"])])):((0,s.openBlock)(),(0,s.createBlock)("div",le," Loading... "))])};const Ze=Ge,We={class:"list-unstyled ms-4"},Xe={class:"text-white-50 ms-1 text-capitalize"},Ye={class:"row"};var Qe=function(e,t,o,s){return new(o||(o=Promise))((function(n,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}c((s=s.apply(e,t||[])).next())}))};const et=(0,s.defineComponent)({name:"CriteriaSelection",props:{contestId:{type:String,required:!0},criterias:{type:Array,required:!0}},data:()=>({allCriterias:[],nameInput:"",maxScoreInput:""}),computed:{criteriaIds(){return this.criterias.map((e=>e.id))}},created(){return Qe(this,void 0,void 0,(function*(){yield this.loadAllCriterias()}))},methods:{loadAllCriterias(){return Qe(this,void 0,void 0,(function*(){const e=yield this.$http.executeGet("/admin/contests/criterias/");this.$http.isError(e)||(this.allCriterias=e.criterias)}))},toggleCriteria(e){return Qe(this,void 0,void 0,(function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/toggleCriteria`,{criteriaId:e});this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:"toggled criteria",type:"info"}),this.$store.commit("updateContestCriterias",{contestId:this.contestId,criterias:t}))}))},addCriteria(e){return Qe(this,void 0,void 0,(function*(){const t=yield this.$http.executePost("/admin/contests/addCriteria",{name:this.nameInput.toLowerCase(),maxScore:parseInt(this.maxScoreInput)},e);this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:"added criteria",type:"info"}),this.allCriterias=t)}))}}});et.render=function(e,t,o,n,i,r){return(0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("ul",We,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.allCriterias,(t=>((0,s.openBlock)(),(0,s.createBlock)("li",{key:t.id},[(0,s.createVNode)("a",{href:"#",onClick:(0,s.withModifiers)((o=>e.toggleCriteria(t.id)),["prevent"])},[(0,s.createVNode)("i",{class:["fas",e.criteriaIds.includes(t.id)?"text-done fa-check":"text-danger fa-times"]},null,2)],8,["onClick"]),(0,s.createVNode)("span",Xe,(0,s.toDisplayString)(t.name)+" ("+(0,s.toDisplayString)(t.maxScore)+")",1)])))),128))]),(0,s.createVNode)("p",Ye,[(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.nameInput=t),class:"form-control form-control-sm w-25 col-sm-2 me-2",type:"text",autocomplete:"off",placeholder:"new criteria's name..."},null,512),[[s.vModelText,e.nameInput]]),(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.maxScoreInput=t),class:"form-control form-control-sm w-25 col-sm-2 me-2",type:"text",autocomplete:"off",placeholder:"new criteria's max score..."},null,512),[[s.vModelText,e.maxScoreInput]]),(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info col-sm-2 me-2",onClick:t[3]||(t[3]=t=>e.addCriteria(t))}," Add criteria ")])])};const tt=et,ot={class:"row"},st={key:0},nt={key:1},it=(0,s.createVNode)("span",{class:"text-white-50 me-1"},"by",-1),rt={key:2};var at=function(e,t,o,s){return new(o||(o=Promise))((function(n,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}c((s=s.apply(e,t||[])).next())}))};const ct=(0,s.defineComponent)({name:"SubmissionsInfo",props:{contestId:{type:String,required:!0},submissions:{type:Array,required:!0}},data:()=>({name:"",creatorOsuId:"",confirmDelete:null}),methods:{addSubmission(e){return at(this,void 0,void 0,(function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/submissions/create`,{name:this.name,osuId:this.creatorOsuId},e);this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:`added ${this.creatorOsuId} as ${this.name}`,type:"info"}),this.$store.commit("addSubmission",{contestId:this.contestId,submission:t}))}))},addSubmissionsFromCsv(e){return at(this,void 0,void 0,(function*(){const t=yield this.$http.executePost(`/admin/contests/${this.contestId}/submissions/createFromCsv`,{},e);this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:"added csv entries",type:"info"}),this.$store.commit("addSubmissionsFromCsv",{contestId:this.contestId,submissions:t}))}))},deleteSubmission(e,t){return at(this,void 0,void 0,(function*(){const o=yield this.$http.executePost(`/admin/contests/${this.contestId}/submissions/${e}/delete`,{},t);this.$http.isError(o)||(this.$store.dispatch("updateToastMessages",{message:"deleted",type:"info"}),this.$store.commit("deleteSubmission",{contestId:this.contestId,submissionId:e}))}))}}});ct.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("user-link");return(0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)("p",ot,[(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.name=t),class:"form-control form-control-sm w-25 col-sm-3 me-2",type:"text",autocomplete:"off",placeholder:"new submission's name..."},null,512),[[s.vModelText,e.name]]),(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.creatorOsuId=t),class:"form-control form-control-sm w-25 col-sm-3 me-2",type:"text",autocomplete:"off",placeholder:"new submission's creator osuId..."},null,512),[[s.vModelText,e.creatorOsuId]]),(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info col-sm-3 me-2",onClick:t[3]||(t[3]=t=>e.addSubmission(t))}," Add submission ")]),e.submissions.length?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)("p",st,[(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:t[4]||(t[4]=t=>e.addSubmissionsFromCsv(t))}," Add submissions from CSV (local only) ")])),e.submissions.length?((0,s.openBlock)(),(0,s.createBlock)("ul",nt,[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.submissions,(t=>((0,s.openBlock)(),(0,s.createBlock)("li",{key:t.id},[(0,s.createTextVNode)((0,s.toDisplayString)(t.name)+" ",1),it,(0,s.createVNode)(a,{user:t.creator},null,8,["user"]),e.confirmDelete!=t.id?((0,s.openBlock)(),(0,s.createBlock)("a",{key:0,href:"#",class:"text-danger",onClick:(0,s.withModifiers)((o=>e.confirmDelete=t.id),["prevent"])}," delete ",8,["onClick"])):((0,s.openBlock)(),(0,s.createBlock)("a",{key:1,class:"text-danger",href:"#",onClick:(0,s.withModifiers)((o=>e.deleteSubmission(t.id,o)),["prevent"])}," confirm ",8,["onClick"]))])))),128))])):((0,s.openBlock)(),(0,s.createBlock)("div",rt," None... "))])};const dt=ct,lt=(0,s.createTextVNode)(" Thanks to "),ut=(0,s.createTextVNode)(" for screening this month's entries, as well as "),pt=(0,s.createTextVNode)(" for judging this month's finalists! "),mt=(0,s.defineComponent)({name:"MarkdownHelperThanks",components:{CopyPaste:te.Z},props:{screeners:{type:Array,default:()=>[]},judges:{type:Array,default:()=>[]}}});mt.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("copy-paste");return(0,s.openBlock)(),(0,s.createBlock)(a,null,{default:(0,s.withCtx)((()=>[lt,((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.screeners,((t,o)=>((0,s.openBlock)(),(0,s.createBlock)("span",{key:t.id}," ["+(0,s.toDisplayString)(t.username)+"](https://osu.ppy.sh/users/"+(0,s.toDisplayString)(t.osuId)+")"+(0,s.toDisplayString)(o===e.screeners.length-2?", and ":o===e.screeners.length-1?"":", "),1)))),128)),ut,((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.judges,((t,o)=>((0,s.openBlock)(),(0,s.createBlock)("span",{key:"j-"+t.id}," ["+(0,s.toDisplayString)(t.username)+"](https://osu.ppy.sh/users/"+(0,s.toDisplayString)(t.osuId)+")"+(0,s.toDisplayString)(o===e.judges.length-2?", and ":o===e.judges.length-1?"":", "),1)))),128)),pt])),_:1})};const ht=mt,gt=(0,s.defineComponent)({name:"ContestInfo",components:{DateInfo:C,StatusInfo:M,ScreenersInfo:R,JudgesInfo:z,ScreeningResults:ie,JudgingResults:Ze,CriteriaSelection:tt,SubmissionsInfo:dt,MarkdownHelperThanks:ht},props:{contest:{type:Object,required:!0}},data(){return{newContestStart:this.contest.contestStart,showContestStartDateInput:!1,screenersAndJudgesVisible:!1,submissionsVisible:!1,screeningResultsVisible:!1,judgingCriteriaVisible:!1,judgingResultsVisible:!1}}});gt.render=function(e,t,o,n,y,f){const k=(0,s.resolveComponent)("date-info"),v=(0,s.resolveComponent)("status-info"),b=(0,s.resolveComponent)("submissions-info"),S=(0,s.resolveComponent)("screeners-info"),C=(0,s.resolveComponent)("judges-info"),B=(0,s.resolveComponent)("markdown-helper-thanks"),N=(0,s.resolveComponent)("screening-results"),V=(0,s.resolveComponent)("criteria-selection"),w=(0,s.resolveComponent)("judging-results");return(0,s.openBlock)(),(0,s.createBlock)("div",i,[(0,s.createVNode)("h4",null,(0,s.toDisplayString)(e.contest.name),1),(0,s.createVNode)("div",r,[(0,s.createVNode)(k,{"contest-id":e.contest.id,"contest-start":e.contest.contestStart?e.contest.contestStart.slice(0,10):null},null,8,["contest-id","contest-start"]),(0,s.createVNode)(v,{"contest-id":e.contest.id,status:e.contest.status},null,8,["contest-id","status"]),(0,s.createVNode)("div",null,[(0,s.createVNode)("h5",null,[a,(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:t[1]||(t[1]=t=>e.submissionsVisible=!e.submissionsVisible)},(0,s.toDisplayString)(e.submissionsVisible?"Hide":"Show"),1)]),e.submissionsVisible?((0,s.openBlock)(),(0,s.createBlock)(b,{key:0,"contest-id":e.contest.id,submissions:e.contest.submissions},null,8,["contest-id","submissions"])):(0,s.createCommentVNode)("",!0),c,(0,s.createVNode)("h5",null,[d,(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:t[2]||(t[2]=t=>e.screenersAndJudgesVisible=!e.screenersAndJudgesVisible)},(0,s.toDisplayString)(e.screenersAndJudgesVisible?"Hide":"Show"),1)]),e.screenersAndJudgesVisible?((0,s.openBlock)(),(0,s.createBlock)("div",l,[(0,s.createVNode)(S,{class:"col-sm-6","contest-id":e.contest.id,screeners:e.contest.screeners},null,8,["contest-id","screeners"]),(0,s.createVNode)(C,{class:"col-sm-6","contest-id":e.contest.id,judges:e.contest.judges},null,8,["contest-id","judges"]),(0,s.createVNode)(B,{screeners:e.contest.screeners,judges:e.contest.judges},null,8,["screeners","judges"])])):(0,s.createCommentVNode)("",!0),e.contest.submissions.length?((0,s.openBlock)(),(0,s.createBlock)("div",u,[(0,s.createVNode)("h5",null,[p,(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:t[3]||(t[3]=t=>e.screeningResultsVisible=!e.screeningResultsVisible)},(0,s.toDisplayString)(e.screeningResultsVisible?"Hide":"Show"),1)]),e.screeningResultsVisible?((0,s.openBlock)(),(0,s.createBlock)(N,{key:0,"contest-id":e.contest.id,"contest-name":e.contest.name,submissions:e.contest.submissions,"judging-threshold":e.contest.judgingThreshold},null,8,["contest-id","contest-name","submissions","judging-threshold"])):(0,s.createCommentVNode)("",!0),m,(0,s.createVNode)("h5",null,[h,(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:t[4]||(t[4]=t=>e.judgingCriteriaVisible=!e.judgingCriteriaVisible)},(0,s.toDisplayString)(e.judgingCriteriaVisible?"Hide":"Show"),1)]),e.judgingCriteriaVisible?((0,s.openBlock)(),(0,s.createBlock)(V,{key:1,"contest-id":e.contest.id,criterias:e.contest.criterias},null,8,["contest-id","criterias"])):(0,s.createCommentVNode)("",!0),(0,s.createVNode)("h5",null,[g,(0,s.createVNode)("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:t[5]||(t[5]=t=>e.judgingResultsVisible=!e.judgingResultsVisible)},(0,s.toDisplayString)(e.judgingResultsVisible?"Hide":"Show"),1)]),e.judgingResultsVisible?((0,s.openBlock)(),(0,s.createBlock)(w,{key:2,"contest-id":e.contest.id},null,8,["contest-id"])):(0,s.createCommentVNode)("",!0)])):(0,s.createCommentVNode)("",!0)])])])};const yt=gt,ft={class:"container card card-body py-3 mb-2"};const kt=(0,s.defineComponent)({name:"AddContest",data:()=>({contestName:""}),methods:{addContest(e){return t=this,o=void 0,n=function*(){const t=yield this.$http.executePost("/admin/contests/create",{name:this.contestName},e);this.$http.isError(t)||(this.$store.dispatch("updateToastMessages",{message:"Contest created",type:"info"}),this.$store.commit("addContest",t))},new((s=void 0)||(s=Promise))((function(e,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,a)}c((n=n.apply(t,o||[])).next())}));var t,o,s,n}}});kt.render=function(e,t,o,n,i,r){return(0,s.openBlock)(),(0,s.createBlock)("div",ft,[(0,s.withDirectives)((0,s.createVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.contestName=t),class:"form-control mb-2",type:"text",placeholder:"name"},null,512),[[s.vModelText,e.contestName,void 0,{trim:!0}]]),(0,s.createVNode)("button",{class:"btn w-100 btn-info",type:"button",onClick:t[2]||(t[2]=t=>e.addContest(t))}," Add new contest ")])};const vt=kt,bt={class:"container card card-body py-3 mb-2"},St=(0,s.createTextVNode)(' --- layout: post title: "Monthly Beatmapping Contest: `MONTH`" date: 2020-08-08 11:00:00 +0000 --- `HOOK` ![](/wiki/shared/news/banners/monthly-beatmapping-contest.png) `Monthly Beatmapping Contest (*MBC*)` / `[Monthly Beatmapping Contest wiki article](/wiki/Contests/Monthly_Beatmapping_Contest)` ## Schedule - **Beatmapping (3 weeks):** Contest is announced at the start of the month and beatmappers create their entries. - **Screening (1.5 week):** Competitive entries are selected by experienced beatmappers. - **Judging (1.5 weeks):** Competitive entries are judged by different experienced beatmappers. - **Rewards:** Winners are announced and prizes are redeemed, including osu!supporter, profile badges, and the *Elite Mapper* user title! `LAST MONTH\'S RESULTS IN ~2 WEEKS` ## Beatmapping ### <a id="limitation">Limitation `MBC MORE INTERESTING WITH LIMITATIONS. EXAMPLES OF PREVIOUS LIMITATIONS` This month\'s limitation: **`LIMITATION`.** `FLAVOR` ### <a id="songs">Songs Each MBC provides beatmappers a choice between 5 songs from one of osu!\'s [Featured Artists](https://osu.ppy.sh/beatmaps/artists). This month\'s artist is `[**ARTIST**](LINK)`, and the following songs are viable for contest submissions: '),Ct=(0,s.createTextVNode)(" ## Rules So how do you participate? Submissions must... - **follow the month's [beatmapping limitation](#limitation): *`LIMITATION`.*** - **be in `.osz` format.** This allows your entry to use custom hitsound files and a background of your choice, however storyboarded visuals will be removed from all submissions. - **be a single difficulty for one of the month's [selected songs](#songs).** - **be in the osu! game mode.** - **not be uploaded to the osu! website through the Beatmap Submission System (*BSS*).** All contest submissions are anonymous during the screening/judging phases to avoid bias. **DO NOT SHARE YOUR ENTRY!** - **be solely created by you.** Collaborations are not allowed. - **abide by the [ranking criteria](/wiki/Ranking_Criteria).** While we can be forgiving for mistakes, submissions that could not be ranked without major changes will be discarded. Any entries breaking these rules will not be viable for the contest. ## Submission `CONTEST IS OPEN` `WHEN READY SUBMIT` [contest listing](`LINK`) `3 WEEKS` `SIGNOFF` —pishifat "),Bt=(0,s.defineComponent)({name:"MarkdownNewContestTemplate",components:{CopyPaste:te.Z},data:()=>({show:!1})});Bt.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("copy-paste");return(0,s.openBlock)(),(0,s.createBlock)("div",bt,[(0,s.createVNode)("button",{type:"button",class:"btn w-100 btn-info",onClick:t[1]||(t[1]=t=>e.show=!e.show)},(0,s.toDisplayString)(e.show?"Hide new contest news post template":"Show new contest news post template"),1),e.show?((0,s.openBlock)(),(0,s.createBlock)(a,{key:0,style:{"white-space":"pre-line"}},{default:(0,s.withCtx)((()=>[St,((0,s.openBlock)(),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(4,(e=>(0,s.createVNode)("span",{key:e},' #### `SONG` (`NUM` BPM) [Beatmap template download](`LINK`) (`X:XX`) <audio controls> <source src="LINK" type="audio/mpeg"> </audio> '))),64)),Ct])),_:1})):(0,s.createCommentVNode)("",!0)])};const Nt=Bt,Vt={state:{contests:[]},mutations:{setContests(e,t){e.contests=t},addContest(e,t){e.contests.unshift(t)},addSubmission(e,t){const o=e.contests.find((e=>e.id==t.contestId));null==o||o.submissions.push(t.submission)},addSubmissionsFromCsv(e,t){const o=e.contests.find((e=>e.id==t.contestId));o&&(o.submissions=t.submissions)},deleteSubmission(e,t){const o=e.contests.find((e=>e.id==t.contestId));if(o){const e=o.submissions.findIndex((e=>e.id==t.submissionId));-1!==e&&o.submissions.splice(e,1)}},addScreener(e,t){const o=e.contests.find((e=>e.id==t.contestId));null==o||o.screeners.push(t.screener)},deleteScreener(e,t){const o=e.contests.find((e=>e.id==t.contestId));if(o){const e=o.screeners.findIndex((e=>e.id==t.screenerId));-1!==e&&o.screeners.splice(e,1)}},addJudge(e,t){const o=e.contests.find((e=>e.id==t.contestId));null==o||o.judges.push(t.judge)},deleteJudge(e,t){const o=e.contests.find((e=>e.id==t.contestId));if(o){const e=o.screeners.findIndex((e=>e.id==t.screenerId));-1!==e&&o.screeners.splice(e,1)}},updateStatus(e,t){const o=e.contests.find((e=>e.id==t.contestId));o&&(o.status=t.status)},updateContestStart(e,t){const o=e.contests.find((e=>e.id==t.contestId));o&&(o.contestStart=t.contestStart)},updateJudgingThreshold(e,t){const o=e.contests.find((e=>e.id==t.contestId));o&&(o.judgingThreshold=t.judgingThreshold)},updateContestCriterias(e,t){const o=e.contests.find((e=>e.id==t.contestId));o&&(o.criterias=t.criterias)}}};const wt=(0,s.defineComponent)({name:"ContestPage",components:{ContestInfo:yt,AddContest:vt,MarkdownNewContestTemplate:Nt},computed:(0,n.rn)({contests:e=>e.contests.contests}),beforeCreate(){this.$store.hasModule("contests")||this.$store.registerModule("contests",Vt)},unmounted(){this.$store.hasModule("contests")&&this.$store.unregisterModule("contests")},created(){return e=this,t=void 0,s=function*(){const e=yield this.$http.initialRequest("/admin/contests/relevantInfo");this.$http.isError(e)||this.$store.commit("setContests",e)},new((o=void 0)||(o=Promise))((function(n,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}c((s=s.apply(e,t||[])).next())}));var e,t,o,s}});wt.render=function(e,t,o,n,i,r){const a=(0,s.resolveComponent)("add-contest"),c=(0,s.resolveComponent)("markdown-new-contest-template"),d=(0,s.resolveComponent)("contest-info");return(0,s.openBlock)(),(0,s.createBlock)("div",null,[(0,s.createVNode)(a),(0,s.createVNode)(c),((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(e.contests,(e=>((0,s.openBlock)(),(0,s.createBlock)(d,{key:e.id,contest:e},null,8,["contest"])))),128))])};const It=wt}}]);