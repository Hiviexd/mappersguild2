(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+/XM":function(t,e,n){"use strict";n.r(e);var s=n("SjkD"),i=n("UdWQ");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("F99v");var r=n("KHd+"),a=Object(r.a)(i.default,s.a,s.b,!1,null,null,null);a.options.__file="src/components/screening/SubmissionCard.vue",e.default=a.exports},"0T3f":function(t,e,n){"use strict";n.r(e);var s=n("yJRm"),i=n("ngxb");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var r=n("KHd+"),a=Object(r.a)(i.default,s.a,s.b,!1,null,null,null);a.options.__file="src/pages/ScreeningPage.vue",e.default=a.exports},"1HnV":function(t,e,n){(t.exports=n("JPst")(!1)).push([t.i,"\n.font-8{\r\n    font-size: 8pt;\n}\ninput,\r\ninput:focus {\r\n    background-color: #333;\r\n    color: white;\r\n    border-color: transparent;\r\n    filter: drop-shadow(1px 1px 1px #000000);\r\n    border-radius: 0 100px 100px 0;\n}\n.collapsing {\r\n    -webkit-transition: none;\r\n    transition: none;\r\n    display: none;\n}\n.w-10 {\r\n    width: 10%;\n}\n.bg-vote {\r\n    background-color: rgba(255, 255, 0, 0.075)!important;\n}\r\n",""])},"2Ojr":function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{u(s.next(t))}catch(t){o(t)}}function a(t){try{u(s.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n("oCYn")),r=n("L2JU"),a=n("K6ax");e.default=o.default.extend({name:"ScreeningVote",props:{submissionId:{type:String,required:!0},savedVote:{type:Number,default:0}},computed:Object.assign(Object.assign({},r.mapState(["voteLoading"])),r.mapGetters(["usedVotes"])),methods:{updateVote(t){return s(this,void 0,void 0,(function*(){this.$store.commit("setVoteLoading",!0),this.savedVote==t&&(t=a.ScreeningPlacement.None);const e=yield this.executePost("/screening/updateSubmission/"+this.submissionId,{vote:t});this.isError(e)||this.$store.commit("updateSubmission",e),this.$store.commit("setVoteLoading",!1)}))}}})},"3S4g":function(t,e,n){"use strict";n.r(e);var s=n("l5Bb"),i=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e.default=i.a},"6aVx":function(t,e,n){"use strict";n.r(e);var s=n("wkCn"),i=n("wVsX");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var r=n("KHd+"),a=Object(r.a)(i.default,s.a,s.b,!1,null,null,null);a.options.__file="src/components/screening/ScreeningVote.vue",e.default=a.exports},"7bO+":function(t,e,n){"use strict";n.r(e);var s=n("V/l8"),i=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e.default=i.a},"82fW":function(t,e,n){"use strict";n.r(e);var s=n("rQUL"),i=n("7bO+");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("F/lc");var r=n("KHd+"),a=Object(r.a)(i.default,s.a,s.b,!1,null,null,null);a.options.__file="src/components/ToastMessages.vue",e.default=a.exports},"95tF":function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{u(s.next(t))}catch(t){o(t)}}function a(t){try{u(s.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n("oCYn")),r=i(n("82fW")),a=i(n("+/XM")),u=n("L2JU");e.default=o.default.extend({name:"ScreeningPage",components:{ToastMessages:r.default,SubmissionCard:a.default},computed:u.mapState(["contests"]),created(){return s(this,void 0,void 0,(function*(){const t=yield this.executeGet("/screening/relevantInfo");this.isError(t)||(this.$store.commit("setContests",t.contests),this.$store.commit("setUserId",t.userId)),$("#loading").fadeOut(),$("#app").attr("style","visibility: visible").hide().fadeIn()}))}})},DFjQ:function(t,e,n){"use strict";n.r(e);var s=n("HrBn"),i=n("3S4g");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var r=n("KHd+"),a=Object(r.a)(i.default,s.a,s.b,!1,null,null,null);a.options.__file="src/components/screening/ScreeningNotes.vue",e.default=a.exports},"F/lc":function(t,e,n){"use strict";var s=n("ccWs");n.n(s).a},F99v:function(t,e,n){"use strict";var s=n("h1/F");n.n(s).a},HrBn:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t.showCommentInput?t._e():n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCommentInput=!t.showCommentInput}}},[n("i",{staticClass:"fas fa-edit"})]),t._v(" "),t.showCommentInput?[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.newComment,expression:"newComment",modifiers:{trim:!0}}],staticClass:"form-control form-control-sm",staticStyle:{overflow:"hidden","overflow-wrap":"break-word"},attrs:{rows:"4",type:"text",placeholder:"map comments...",maxlength:"1000"},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("div",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-sm btn-outline-info  mt-1",attrs:{type:"button"},on:{click:function(e){return t.cancelUpdate()}}},[t._v("\n                Cancel\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-info  mt-1",attrs:{type:"button"},on:{click:function(e){return t.updateComment(e)}}},[t._v("\n                Save\n            ")])])]:n("span",{staticClass:"small text-white-50"},[t._v(t._s(t.newComment||"..."))])],2)},i=[];s._withStripped=!0},K6ax:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScreeningPlacement=void 0,function(t){t[t.First=5]="First",t[t.Second=4]="Second",t[t.Third=3]="Third",t[t.Fourth=2]="Fourth",t[t.Fifth=1]="Fifth",t[t.None=0]="None"}(e.ScreeningPlacement||(e.ScreeningPlacement={}))},"MQL+":function(t,e,n){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n("oCYn")),o=s(n("6aVx")),r=s(n("DFjQ")),a=n("L2JU");e.default=i.default.extend({name:"SubmssionCard",components:{ScreeningVote:o.default,ScreeningNotes:r.default},props:{submission:{type:Object,required:!0}},computed:Object.assign(Object.assign({},a.mapState(["userId"])),{relatedScreening(){return this.submission.evaluations.find(t=>t.screener._id===this.userId)}})})},NsCO:function(t,e,n){(t.exports=n("JPst")(!1)).push([t.i,"\n.toast {\r\n    -webkit-animation: fadeOutAnimation 0.5s ease-in 3s forwards;\r\n    -moz-animation: fadeOutAnimation 0.5s ease-in 3s forwards;\r\n    -o-animation: fadeOutAnimation 0.5s ease-in 3s forwards;\r\n    animation: fadeOutAnimation 0.5s ease-in 3s forwards;\r\n    -webkit-animation-fill-mode: forwards;\r\n    animation-fill-mode: forwards;\n}\n@keyframes fadeOutAnimation {\nfrom {\r\n        display: block;\r\n        opacity: 1;\n}\nto {\r\n        display: none;\r\n        opacity: 0;\n}\n}\n@-webkit-keyframes fadeOutAnimation {\nfrom {\r\n        display: block;\r\n        opacity: 1;\n}\nto {\r\n        display: none;\r\n        opacity: 0;\n}\n}\r\n",""])},SjkD:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-sm-12 my-1"},[n("div",{staticClass:"card static-card",class:t.relatedScreening&&t.relatedScreening.vote?"bg-vote":"bg-dark"},[n("div",{staticClass:"card-body p-2"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-6"},[t._v("\n                    "+t._s(t.submission.name)+"\n                ")]),t._v(" "),n("div",{staticClass:"col-sm-6 text-right"},[n("screening-vote",{attrs:{"submission-id":t.submission.id,"saved-vote":t.relatedScreening&&t.relatedScreening.vote}})],1)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm"},[n("screening-notes",{attrs:{"submission-id":t.submission.id,"saved-comment":t.relatedScreening&&t.relatedScreening.comment}})],1)])])])])},i=[];s._withStripped=!0},UdWQ:function(t,e,n){"use strict";n.r(e);var s=n("MQL+"),i=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e.default=i.a},"V/l8":function(t,e,n){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n("oCYn")),o=n("L2JU");e.default=i.default.extend({computed:Object.assign({},o.mapState({toastMessages:t=>t.toasts.toastMessages})),methods:{getToastTypeClass:t=>"success"===t.type?"bg-success":"info"===t.type?"bg-info":"bg-danger"}})},Z1WV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s={namespace:!1,state:{toastMessages:[]},mutations:{addToastMessage(t,e){t.toastMessages.push(e)},removeFirstToastMessage(t){t.toastMessages.splice(0,1)}},actions:{updateToastMessages({commit:t},e){t("addToastMessage",e),setTimeout(()=>{t("removeFirstToastMessage")},3500)}}};e.default=s},ccWs:function(t,e,n){var s=n("NsCO");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n("SZ7m").default)("dbaab28e",s,!1,{})},geBp:function(t,e,n){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n("oCYn")),o=s(n("L2JU")),r=s(n("0T3f"));n("qIrM");const a=s(n("vCLK")),u=s(n("Z1WV"));i.default.mixin(a.default),i.default.use(o.default);const c=new o.default.Store({modules:{toasts:u.default},state:{contests:[],userId:"",voteLoading:!1},mutations:{setContests(t,e){t.contests=e},setUserId(t,e){t.userId=e},setVoteLoading(t,e){t.voteLoading=e},updateSubmission(t,e){let n=-1;const s=t.contests.findIndex(t=>{if(n=t.submissions.findIndex(t=>t.id===e.id),-1!==n)return!0});-1!==s&&-1!==n&&i.default.set(t.contests[s].submissions,n,e)}},getters:{usedVotes:t=>{const e=[];return t.contests.forEach(n=>{n.submissions.forEach(n=>{const s=n.evaluations.find(e=>e.screener.id===t.userId);s&&e.push(s.vote)})}),e}},strict:!1});new i.default({el:"#app",store:c,components:{ScreeningPage:r.default}})},"h1/F":function(t,e,n){var s=n("1HnV");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n("SZ7m").default)("3bbac6e1",s,!1,{})},l5Bb:function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{u(s.next(t))}catch(t){o(t)}}function a(t){try{u(s.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n("oCYn"));e.default=o.default.extend({name:"ScreeningNotes",props:{submissionId:{type:String,required:!0},savedComment:{type:String,default:""}},data(){return{showCommentInput:!1,newComment:this.savedComment}},methods:{cancelUpdate(){this.showCommentInput=!this.showCommentInput,this.newComment=this.savedComment},updateComment(t){return s(this,void 0,void 0,(function*(){if(this.savedComment!=this.newComment){const e=yield this.executePost("/screening/updateSubmission/"+this.submissionId,{comment:this.newComment.trim()},t);this.isError(e)||(this.showCommentInput=!this.showCommentInput,this.$store.commit("updateSubmission",e))}else this.showCommentInput=!this.showCommentInput}))}}})},ngxb:function(t,e,n){"use strict";n.r(e);var s=n("95tF"),i=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e.default=i.a},qIrM:function(t,e,n){"use strict";$(document).ready((function(){$("body").tooltip({selector:"[data-toggle=tooltip]",trigger:"hover"})}))},rQUL:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"fixed",bottom:"20px",left:"20px","z-index":"2000"}},t._l(t.toastMessages,(function(e,s){return n("div",{key:s,staticClass:"toast show"},[n("div",{staticClass:"toast-body",class:t.getToastTypeClass(e)},[t._v("\n            "+t._s(e.message)+"\n        ")])])})),0)},i=[];s._withStripped=!0},vCLK:function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{u(s.next(t))}catch(t){o(t)}}function a(t){try{u(s.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n("oCYn")),r=i(n("vDqi"));e.default=o.default.extend({methods:{executeGet(t,e){return s(this,void 0,void 0,(function*(){e&&(e.target.disabled=!0),$("[data-toggle='tooltip']").tooltip("hide");try{const n=yield r.default.get(t);return n.data.error?(this.$store.dispatch("updateToastMessages",{message:n.data.error}),{error:n.data.error}):n.data}catch(t){return this.$store.dispatch("updateToastMessages",{message:"Something went wrong!"}),{error:"Something went wrong!"}}finally{e&&(e.target.disabled=!1)}}))},executePost(t,e={},n){return s(this,void 0,void 0,(function*(){n&&(n.target.disabled=!0),$("[data-toggle='tooltip']").tooltip("hide");try{const s=yield r.default.post(t,e);return s.data.error?(this.$store.dispatch("updateToastMessages",{message:s.data.error}),{error:s.data.error}):s.data}catch(t){return this.$store.dispatch("updateToastMessages",{message:"Something went wrong!"}),{error:"Something went wrong!"}}finally{n&&(n.target.disabled=!1)}}))},isError:t=>void 0!==t.error,listUser:(t,e,n)=>t+(e<n-1?", ":"")}})},wVsX:function(t,e,n){"use strict";n.r(e);var s=n("2Ojr"),i=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e.default=i.a},wkCn:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(5,(function(e){return n("button",{key:e,staticClass:"btn btn-link",class:{disabled:t.usedVotes.includes(e)&&t.savedVote!=e},attrs:{type:"button",disabled:t.voteLoading},on:{click:function(n){return t.updateVote(e)}}},[n("i",{staticClass:"fa-star",class:{fas:t.usedVotes.includes(e)||t.savedVote==e,far:!t.usedVotes.includes(e)}})])})),0)},i=[];s._withStripped=!0},yJRm:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t._l(t.contests,(function(e){return n("div",{key:e.id,staticClass:"container bg-container py-1"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm"},[n("h4",{staticClass:"my-2 text-center"},[t._v("\n                    "+t._s(e.name)+"\n                ")]),t._v(" "),e.submissions.length?n("transition-group",{staticClass:"row",attrs:{name:"list",tag:"div"}},t._l(e.submissions,(function(t){return n("submission-card",{key:t.id,attrs:{submission:t}})})),1):n("p",{staticClass:"ml-4"},[t._v("\n                    No submissions...\n                ")])],1)])])})),t._v(" "),t.contests.length?t._e():n("div",{staticClass:"text-center p-3"},[t._v("\n        No contests available for screening...\n    ")]),t._v(" "),n("toast-messages")],2)},i=[];s._withStripped=!0}},[["geBp",0,1]]]);