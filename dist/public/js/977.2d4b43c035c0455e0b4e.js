(self.webpackChunkmappersguild=self.webpackChunkmappersguild||[]).push([[977],{358:(e,t,o)=>{"use strict";var i,a,n,s;o.d(t,{XE:()=>i,hY:()=>n}),function(e){e.Easy="Easy",e.Normal="Normal",e.Hard="Hard",e.Insane="Insane",e.Expert="Expert",e.Storyboard="Storyboard"}(i||(i={})),function(e){e.Osu="osu",e.Taiko="taiko",e.Catch="catch",e.Mania="mania",e.SB="sb"}(a||(a={})),function(e){e.WIP="WIP",e.Done="Done"}(n||(n={})),function(e){e[e.Meh=1]="Meh",e[e.Ok=2]="Ok",e[e.Nice=3]="Nice"}(s||(s={}))},1516:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var i=o(5393);const a={class:"modal fade",tabindex:"-1"},n={key:0,class:"modal-content the-a-background"},s={class:"modal-title"},c=(0,i.createVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"},null,-1),r={class:"modal-body"},l={key:0,class:"modal-footer"},d=(0,i.defineComponent)({name:"ModalDialog",props:{title:{type:String,default:""},modalSize:{type:String,default:"lg"},headerClass:{type:String,default:"bg-primary"},loaded:{type:Boolean,default:!0}}});d.render=function(e,t,o,d,p,m){return(0,i.openBlock)(),(0,i.createBlock)("div",a,[(0,i.createVNode)("div",{class:["modal-dialog modal-fullscreen-lg-down",`modal-${e.modalSize}`]},[e.loaded?((0,i.openBlock)(),(0,i.createBlock)("div",n,[(0,i.createVNode)("div",{class:["modal-header",e.headerClass||"bg-primary"]},[(0,i.createVNode)("h5",s,[(0,i.renderSlot)(e.$slots,"header",{},(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.title),1)]))]),c],2),(0,i.createVNode)("div",r,[(0,i.renderSlot)(e.$slots,"default")]),e.$slots.footer?((0,i.openBlock)(),(0,i.createBlock)("div",l,[(0,i.renderSlot)(e.$slots,"footer")])):(0,i.createCommentVNode)("",!0)])):(0,i.createCommentVNode)("",!0)],2)])};const p=d},8834:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var i=o(5393);const a={key:0,class:"fas fa-circle mode-margin"},n={key:1,class:"fas fa-drum mode-margin"},s={key:2,class:"fas fa-apple-alt mode-margin"},c={key:3,class:"fas fa-stream mode-margin"},r={key:4,class:"fas fa-check-double mode-margin"},l=(0,i.defineComponent)({name:"ModesIcons",props:{modes:{type:Array,required:!0},toggler:Boolean},emits:["toggle"]});l.render=function(e,t,o,l,d,p){const m=(0,i.resolveDirective)("bs-tooltip");return e.toggler?((0,i.openBlock)(),(0,i.createBlock)(i.Fragment,{key:0},[(0,i.createVNode)("a",{class:"mode-margin",href:"#",onClick:t[1]||(t[1]=(0,i.withModifiers)((t=>e.$emit("toggle","osu")),["prevent"]))},[(0,i.withDirectives)((0,i.createVNode)("i",{class:["fas fa-circle",e.modes.includes("osu")?"":"text-white-50"]},null,2),[[m,"toggle osu!"]])]),(0,i.createVNode)("a",{class:"mode-margin",href:"#",onClick:t[2]||(t[2]=(0,i.withModifiers)((t=>e.$emit("toggle","taiko")),["prevent"]))},[(0,i.withDirectives)((0,i.createVNode)("i",{class:["fas fa-drum",e.modes.includes("taiko")?"":"text-white-50"]},null,2),[[m,"toggle osu!taiko"]])]),(0,i.createVNode)("a",{class:"mode-margin",href:"#",onClick:t[3]||(t[3]=(0,i.withModifiers)((t=>e.$emit("toggle","catch")),["prevent"]))},[(0,i.withDirectives)((0,i.createVNode)("i",{class:["fas fa-apple-alt",e.modes.includes("catch")?"":"text-white-50"]},null,2),[[m,"toggle osu!catch"]])]),(0,i.createVNode)("a",{class:"mode-margin",href:"#",onClick:t[4]||(t[4]=(0,i.withModifiers)((t=>e.$emit("toggle","mania")),["prevent"]))},[(0,i.withDirectives)((0,i.createVNode)("i",{class:["fas fa-stream",e.modes.includes("mania")?"":"text-white-50"]},null,2),[[m,"toggle osu!"]])])],64)):((0,i.openBlock)(),(0,i.createBlock)(i.Fragment,{key:1},[e.modes.includes("osu")?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createBlock)("i",a,null,512)),[[m,"osu!"]]):(0,i.createCommentVNode)("",!0),e.modes.includes("taiko")?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createBlock)("i",n,null,512)),[[m,"osu!taiko"]]):(0,i.createCommentVNode)("",!0),e.modes.includes("catch")?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createBlock)("i",s,null,512)),[[m,"osu!catch"]]):(0,i.createCommentVNode)("",!0),e.modes.includes("mania")?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createBlock)("i",c,null,512)),[[m,"osu!mania"]]):(0,i.createCommentVNode)("",!0),e.modes.includes("hybrid")?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createBlock)("i",r,null,512)),[[m,"multiple game modes"]]):(0,i.createCommentVNode)("",!0)],64))};const d=l},2064:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var i=o(5393);const a=(0,i.defineComponent)({name:"UserLink",props:{users:{type:Array,required:!0}},methods:{listUser:(e,t,o)=>e+(t<o-1?", ":"")}});a.render=function(e,t,o,a,n,s){return(0,i.openBlock)(!0),(0,i.createBlock)(i.Fragment,null,(0,i.renderList)(e.users,((t,o)=>((0,i.openBlock)(),(0,i.createBlock)("a",{key:o,href:"https://osu.ppy.sh/users/"+t.osuId,target:"_blank"},(0,i.toDisplayString)(e.listUser(t.username,o,e.users.length)),9,["href"])))),128)};const n=a},1338:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>de});var i=o(5393);const a={class:"container card card-body py-3 mb-2"},n={class:"row"},s={class:"col-md-6"},c=(0,i.createTextVNode)(" Notifications "),r={key:0,class:"ms-4"},l={class:"col-md-6"},d=(0,i.createTextVNode)(" Invites "),p={key:0,class:"ms-4"},m={class:"col-md-12 my-1"},u={class:"card card-body card-level-2 p-2"},f={class:"card-text small"},h={key:0},k={key:0},v={key:1},y=(0,i.createVNode)("i",{class:"far fa-window-maximize"},null,-1),g={key:1},N=(0,i.createVNode)("i",{class:"far fa-window-maximize"},null,-1),V=(0,i.createVNode)("hr",null,null,-1),B={class:"d-flex justify-content-between align-items-center"},b={class:"card-text small"},C=(0,i.defineComponent)({name:"NotificationCard",props:{notification:{type:Object,required:!0}},emits:["update:selectedMap","update:selectedParty","hideNotification"],methods:{hideNotification(e){this.$emit("hideNotification",{id:this.notification.id,e})},selectBeatmap(){this.$emit("update:selectedMap",this.notification.map)},selectParty(){this.$emit("update:selectedParty",this.notification.party)}}});C.render=function(e,t,o,a,n,s){const c=(0,i.resolveComponent)("user-link");return(0,i.openBlock)(),(0,i.createBlock)("div",m,[(0,i.createVNode)("div",u,[(0,i.createVNode)("div",f,[(0,i.createVNode)(c,{user:e.notification.sender},null,8,["user"]),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(e.notification.info)+" ",1),e.notification.map?((0,i.openBlock)(),(0,i.createBlock)("span",h,[e.notification.map.url?((0,i.openBlock)(),(0,i.createBlock)("span",k,[(0,i.createVNode)("a",{href:e.notification.map.url,target:"_blank"},'"'+(0,i.toDisplayString)(e.notification.map.song.artist)+" - "+(0,i.toDisplayString)(e.notification.map.song.title)+'"',9,["href"])])):((0,i.openBlock)(),(0,i.createBlock)("span",v,'"'+(0,i.toDisplayString)(e.notification.map.song.artist)+" - "+(0,i.toDisplayString)(e.notification.map.song.title)+'"',1)),(0,i.createVNode)("a",{href:"#",class:"text-done ms-1","data-bs-toggle":"modal","data-bs-target":"#limitedEditBeatmap",onClick:t[1]||(t[1]=(0,i.withModifiers)((t=>e.selectBeatmap()),["prevent"]))},[y])])):(0,i.createCommentVNode)("",!0),e.notification.party?((0,i.openBlock)(),(0,i.createBlock)("span",g,[(0,i.createTextVNode)(' for quest "'+(0,i.toDisplayString)(e.notification.quest.name)+'" ',1),(0,i.createVNode)("a",{href:"#",class:"text-done","data-bs-toggle":"modal","data-bs-target":"#limitedEditParty",onClick:t[2]||(t[2]=(0,i.withModifiers)((t=>e.selectParty()),["prevent"]))},[N])])):(0,i.createCommentVNode)("",!0)]),V,(0,i.createVNode)("div",B,[(0,i.createVNode)("span",b,(0,i.toDisplayString)(e.notification.createdAt.slice(0,10)),1),(0,i.createVNode)("button",{class:"btn btn-outline-info btn-sm",onClick:t[3]||(t[3]=(0,i.withModifiers)((t=>e.hideNotification(t)),["prevent"]))}," Mark as read ")])])])};const w=C,x={class:"col-md-12 my-1"},D={class:"card card-body card-level-2 p-2"},M={class:"card-text small"},S={key:0},I={key:0},P={key:1},$=(0,i.createVNode)("i",{class:"far fa-window-maximize"},null,-1),T={key:1},L=(0,i.createVNode)("i",{class:"far fa-window-maximize"},null,-1),E=(0,i.createVNode)("hr",null,null,-1),A={class:"d-flex justify-content-between align-items-center"},q={class:"card-text small"},O=(0,i.createTextVNode)(),U={class:"text-danger small"},j=(0,i.defineComponent)({name:"InviteCard",props:{invite:{type:Object,required:!0}},emits:["update:selectedMap","update:selectedParty","hideInvite","acceptInvite"],data:()=>({info:""}),methods:{selectBeatmap(){this.$emit("update:selectedMap",this.invite.map)},selectParty(){this.$emit("update:selectedParty",this.invite.party)},hideInvite(e){this.$emit("hideInvite",{id:this.invite.id,e})},acceptInvite(e){this.$emit("acceptInvite",{id:this.invite.id,e})}}});j.render=function(e,t,o,a,n,s){const c=(0,i.resolveComponent)("user-link");return(0,i.openBlock)(),(0,i.createBlock)("div",x,[(0,i.createVNode)("div",D,[(0,i.createVNode)("div",M,[(0,i.createVNode)(c,{user:e.invite.sender},null,8,["user"]),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(e.invite.info)+" ",1),e.invite.map?((0,i.openBlock)(),(0,i.createBlock)("span",S,[e.invite.map.url?((0,i.openBlock)(),(0,i.createBlock)("span",I,[(0,i.createVNode)("a",{href:e.invite.map.url,target:"_blank"},(0,i.toDisplayString)(e.invite.map.song.artist)+" - "+(0,i.toDisplayString)(e.invite.map.song.title),9,["href"])])):((0,i.openBlock)(),(0,i.createBlock)("span",P,(0,i.toDisplayString)(e.invite.map.song.artist)+" - "+(0,i.toDisplayString)(e.invite.map.song.title),1)),(0,i.createVNode)("a",{href:"#",class:"text-done ms-1","data-bs-toggle":"modal","data-bs-target":"#limitedEditBeatmap",onClick:t[1]||(t[1]=(0,i.withModifiers)((t=>e.selectBeatmap()),["prevent"]))},[$])])):(0,i.createCommentVNode)("",!0),e.invite.party?((0,i.openBlock)(),(0,i.createBlock)("span",T,[(0,i.createTextVNode)('for quest "'+(0,i.toDisplayString)(e.invite.quest.name)+'" ',1),(0,i.createVNode)("a",{href:"#",class:"text-done","data-bs-toggle":"modal","data-bs-target":"#limitedEditParty",onClick:t[2]||(t[2]=(0,i.withModifiers)((t=>e.selectParty()),["prevent"]))},[L])])):(0,i.createCommentVNode)("",!0)]),E,(0,i.createVNode)("div",A,[(0,i.createVNode)("span",q,(0,i.toDisplayString)(e.invite.createdAt.toString().slice(0,10)),1),O,(0,i.createVNode)("span",U,(0,i.toDisplayString)(e.info),1),(0,i.createVNode)("div",null,[(0,i.createVNode)("button",{class:"btn btn-outline-danger btn-sm mx-1",onClick:t[3]||(t[3]=(0,i.withModifiers)((t=>e.hideInvite(t)),["prevent"]))}," Decline "),(0,i.createVNode)("button",{class:"btn btn-outline-info btn-sm",onClick:t[4]||(t[4]=(0,i.withModifiers)((t=>e.acceptInvite(t)),["prevent"]))}," Accept ")])])])])};const Z=j,_={class:"container"},z={class:"row"},F={class:"col-sm-12"},R={class:"table table-sm"},H=(0,i.createVNode)("th",{scope:"col"}," Difficulty ",-1),G=(0,i.createVNode)("th",{scope:"col"}," Mapper(s) ",-1),W={key:0,scope:"col"},X={scope:"row"},Y={scope:"row"};var J=o(1516),K=o(2064),Q=o(358),ee=o(8834);const te=(0,i.defineComponent)({name:"LimitedMapInfo",components:{ModalDialog:J.Z,UserLinkList:K.Z,ModesIcons:ee.Z},props:{beatmap:{type:Object,required:!0}},computed:{sortTasks(){const e=Object.values(Q.XE);return Object.assign({},this.beatmap).tasks.sort((function(t,o){return e.indexOf(t.name)-e.indexOf(o.name)}))}}});te.render=function(e,t,o,a,n,s){const c=(0,i.resolveComponent)("modes-icons"),r=(0,i.resolveComponent)("user-link-list"),l=(0,i.resolveComponent)("modal-dialog");return(0,i.openBlock)(),(0,i.createBlock)(l,{id:"limitedEditBeatmap","modal-size":"md","header-class":e.beatmap?"bg-"+e.beatmap.status.toLowerCase():"",loaded:Boolean(e.beatmap)},{header:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.beatmap.song.artist)+" - "+(0,i.toDisplayString)(e.beatmap.song.title)+" ("+(0,i.toDisplayString)(e.beatmap.host.username)+") ",1),"osu"!==e.beatmap.mode?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0,modes:[e.beatmap.mode]},null,8,["modes"])):(0,i.createCommentVNode)("",!0)])),default:(0,i.withCtx)((()=>[(0,i.createVNode)("div",_,[(0,i.createVNode)("div",z,[(0,i.createVNode)("div",F,[(0,i.createVNode)("table",R,[(0,i.createVNode)("thead",null,[(0,i.createVNode)("tr",null,[H,G,"Ranked"!=e.beatmap.status?((0,i.openBlock)(),(0,i.createBlock)("th",W," Status ")):(0,i.createCommentVNode)("",!0)])]),(0,i.createVNode)(i.TransitionGroup,{id:"difficulties",tag:"tbody",name:"list"},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createBlock)(i.Fragment,null,(0,i.renderList)(e.beatmap.tasks,(t=>((0,i.openBlock)(),(0,i.createBlock)("tr",{id:t.id+"Row",key:t.id},[(0,i.createVNode)("td",X,(0,i.toDisplayString)(t.name),1),(0,i.createVNode)("td",Y,[(0,i.createVNode)(r,{users:t.mappers},null,8,["users"])]),"Ranked"!=e.beatmap.status?((0,i.openBlock)(),(0,i.createBlock)("td",{key:0,scope:"row",class:t.status.toLowerCase()},(0,i.toDisplayString)(t.status),3)):(0,i.createCommentVNode)("",!0)],8,["id"])))),128))])),_:1})])])])])])),_:1},8,["header-class","loaded"])};const oe=te,ie=(0,i.createTextVNode)(" Members: ("),ae=(0,i.createTextVNode)(") "),ne=(0,i.createTextVNode)(" Leader: "),se=(0,i.defineComponent)({name:"LimitedPartyInfo",components:{ModalDialog:J.Z,UserLinkList:K.Z},props:{party:{type:Object,required:!0}}});se.render=function(e,t,o,a,n,s){const c=(0,i.resolveComponent)("user-link-list"),r=(0,i.resolveComponent)("user-link"),l=(0,i.resolveComponent)("modal-dialog");return(0,i.openBlock)(),(0,i.createBlock)(l,{id:"limitedEditParty","header-class":e.party?"bg-rank-"+e.party.rank:"",loaded:Boolean(e.party)},{header:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.party.leader.username)+"'s party ",1)])),default:(0,i.withCtx)((()=>[(0,i.createVNode)("p",null,[ie,(0,i.createVNode)("span",{class:e.party.id+"-member-count"},(0,i.toDisplayString)(e.party.members.length),3),ae]),(0,i.createVNode)("p",null,[(0,i.createVNode)(c,{users:e.party.members},null,8,["users"])]),(0,i.createVNode)("p",null,[ne,(0,i.createVNode)(r,{user:e.party.leader},null,8,["user"])]),(0,i.createVNode)("p",null," Rank: "+(0,i.toDisplayString)(e.party.rank),1)])),_:1},8,["header-class","loaded"])};const ce=se;var re=function(e,t,o,i){return new(o||(o=Promise))((function(a,n){function s(e){try{r(i.next(e))}catch(e){n(e)}}function c(e){try{r(i.throw(e))}catch(e){n(e)}}function r(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,c)}r((i=i.apply(e,t||[])).next())}))};const le=(0,i.defineComponent)({name:"NotificationPage",components:{NotificationCard:w,InviteCard:Z,LimitedMapInfo:oe,LimitedPartyInfo:ce},data:()=>({notifications:[],invites:[],info:"",selectedMap:null,selectedParty:null}),created(){return re(this,void 0,void 0,(function*(){const e=yield this.$http.initialRequest("/notifications/relevantInfo");e&&(this.notifications=e.notifications,this.invites=e.invites)}))},methods:{hideNotification(e){return re(this,void 0,void 0,(function*(){const t=e.id,o=e.e,i=this.notifications.findIndex((e=>e.id===t));this.notifications.splice(i,1),yield this.$http.executePost(`/notifications/${t}/hide`,{},o)}))},hideAll(e){return re(this,void 0,void 0,(function*(){this.notifications=[],yield this.$http.executePost("/notifications/hideAll/",{},e)}))},hideInvite(e){return re(this,void 0,void 0,(function*(){const t=e.id,o=e.e,i=this.invites.findIndex((e=>e.id===t));this.invites.splice(i,1),yield this.$http.executePost(`/invites/${t}/hide`,{},o)}))},declineAll(e){return re(this,void 0,void 0,(function*(){this.invites=[],yield this.$http.executePost("/invites/declineAll/",{},e)}))},acceptInvite(e){return re(this,void 0,void 0,(function*(){const t=e.id,o=e.e,i=yield this.$http.executePost(`/invites/${t}/accept`,{},o);if(!this.$http.isError(i)){const e=this.invites.findIndex((e=>e.id===t));this.invites.splice(e,1)}}))}}});le.render=function(e,t,o,m,u,f){const h=(0,i.resolveComponent)("notification-card"),k=(0,i.resolveComponent)("invite-card"),v=(0,i.resolveComponent)("limited-map-info"),y=(0,i.resolveComponent)("limited-party-info");return(0,i.openBlock)(),(0,i.createBlock)("div",null,[(0,i.createVNode)("div",a,[(0,i.createVNode)("div",n,[(0,i.createVNode)("div",s,[(0,i.createVNode)("h2",null,[c,(0,i.createVNode)("button",{class:"btn btn-outline-info btn-sm ms-1",onClick:t[1]||(t[1]=(0,i.withModifiers)((t=>e.hideAll(t)),["prevent"]))}," Mark all as read ")]),(0,i.createVNode)(i.TransitionGroup,{name:"list",tag:"div",class:"row"},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createBlock)(i.Fragment,null,(0,i.renderList)(e.notifications,(o=>((0,i.openBlock)(),(0,i.createBlock)(h,{key:o.id,notification:o,"onUpdate:selectedMap":t[2]||(t[2]=t=>e.selectedMap=t),"onUpdate:selectedParty":t[3]||(t[3]=t=>e.selectedParty=t),onHideNotification:t[4]||(t[4]=t=>e.hideNotification(t))},null,8,["notification"])))),128))])),_:1}),e.notifications.length?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)("p",r," No notifications... "))]),(0,i.createVNode)("div",l,[(0,i.createVNode)("h2",null,[d,(0,i.createVNode)("button",{class:"btn btn-outline-danger btn-sm ms-1",onClick:t[5]||(t[5]=(0,i.withModifiers)((t=>e.declineAll(t)),["prevent"]))}," Decline all ")]),(0,i.createVNode)(i.TransitionGroup,{name:"list",tag:"div",class:"row"},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createBlock)(i.Fragment,null,(0,i.renderList)(e.invites,(o=>((0,i.openBlock)(),(0,i.createBlock)(k,{key:o.id,invite:o,"onUpdate:info":t[6]||(t[6]=t=>e.info=t),"onUpdate:selectedMap":t[7]||(t[7]=t=>e.selectedMap=t),"onUpdate:selectedParty":t[8]||(t[8]=t=>e.selectedParty=t),onHideInvite:t[9]||(t[9]=t=>e.hideInvite(t)),onAcceptInvite:t[10]||(t[10]=t=>e.acceptInvite(t))},null,8,["invite"])))),128))])),_:1}),e.invites.length?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)("p",p," No invites... "))])])]),e.selectedMap?((0,i.openBlock)(),(0,i.createBlock)(v,{key:0,beatmap:e.selectedMap},null,8,["beatmap"])):(0,i.createCommentVNode)("",!0),e.selectedParty?((0,i.openBlock)(),(0,i.createBlock)(y,{key:1,party:e.selectedParty},null,8,["party"])):(0,i.createCommentVNode)("",!0)])};const de=le}}]);