(self.webpackChunkmappersguild=self.webpackChunkmappersguild||[]).push([[844],{3887:(t,s,e)=>{"use strict";e.d(s,{Z:()=>n});const n={state:{users:[]},mutations:{setUsers(t,s){t.users=s},updateBadge(t,s){const e=t.users.find((t=>t.id==s.userId));e&&(e.badge=s.badge)},updateDiscordId(t,s){const e=t.users.find((t=>t.id==s.userId));e&&(e.discordId=s.discordId)},updateBypassLogin(t,s){const e=t.users.find((t=>t.id==s.userId));e&&(e.bypassLogin=s.bypassLogin)}}}},3844:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>l});var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t.submission?e("div",{staticClass:"container p-3"},[e("div",{staticClass:"text-center"},[e("h4",[t._v("\n                "+t._s(t.submission.contest.name)+"\n            ")]),t._v(" "),e("h5",{attrs:{"data-toggle":"tooltip",title:"anonymized submission name"}},[t._v("\n                "+t._s(t.submission.name)+"\n            ")]),t._v(" "),e("p",[t._v("\n                created by\n                "),e("a",{attrs:{href:"https://osu.ppy.sh/users/"+t.submission.creator.osuId,target:"_blank"}},[t._v("\n                    "+t._s(t.submission.creator.username)+"\n                ")])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"mx-2"},[e("h5",[t._v("\n                Screening results\n            ")]),t._v(" "),e("p",{staticClass:"ml-3"},[t._v("\n                Comments are usually each screener's initial thoughts. They're not intended to be constructive feedback and many screeners use comments as notes for determining their top 5.\n            ")]),t._v(" "),t._l(t.randomizedScreening,(function(s,n){return e("div",{key:s.id},[e("div",[e("div",{staticClass:"ml-3"},[t._v("\n                        User "+t._s(n+1)+"\n                        "),s.vote?e("i",{staticClass:"fas fa-check text-done",attrs:{"data-toggle":"tooltip",title:"user placed in top 5"}}):t._e()]),t._v(" "),e("div",{staticClass:"ml-4 mb-2 small text-white-50",staticStyle:{"word-break":"break-word"}},[t._v("\n                        "+t._s(s.comment?s.comment:"[no comment]")+"\n                    ")])])])})),t._v(" "),t._l(t.emptyEvaluationCount,(function(s){return e("div",{key:s},[e("div",[e("div",{staticClass:"ml-3"},[t._v("\n                        User "+t._s(t.submission.evaluations.length+s)+"\n                    ")]),t._v(" "),e("div",{staticClass:"ml-4 mb-2 small text-white-50",staticStyle:{"word-break":"break-word"}},[t._v("\n                        [no comment]\n                    ")])])])}))],2),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"mx-2"},[e("h5",[t._v("\n                Judging results\n            ")]),t._v(" "),t.submission.judgings&&t.submission.judgings.length?e("div",t._l(t.randomizedJudging,(function(s,n){return e("div",{key:s.id},[e("div",[e("p",{staticClass:"ml-3"},[t._v("\n                            User "+t._s(n+1)+"\n                        ")]),t._v(" "),e("div",{staticClass:"row"},[e("table",{staticClass:"col-sm-5 ml-4 table table-sm table-responsive-sm"},[t._m(0,!0),t._v(" "),e("tbody",[t._l(t.filteredAndSortedJudgingScores(s.judgingScores),(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"text-left text-capitalize"},[t._v("\n                                            "+t._s(s.criteria.name)+"\n                                        ")]),t._v(" "),e("td",{staticClass:"text-left"},[t._v("\n                                            "+t._s(s.score)+"/"+t._s(s.criteria.maxScore)+"\n                                        ")])])})),t._v(" "),e("tr",[e("td",{staticClass:"text-left"},[t._v("\n                                            TOTAL\n                                        ")]),t._v(" "),e("td",{staticClass:"text-left"},[t._v("\n                                            "+t._s(t.findTotalJudgingPoints(s.judgingScores))+"/"+t._s(t.findTotalCriteriaPoints(s.judgingScores))+"\n                                        ")])])],2)]),t._v(" "),e("div",{staticClass:"col-sm-6 small"},[t._v("\n                                Comment:\n                                "),e("span",{staticClass:"text-white-50",staticStyle:{"white-space":"pre-line"}},[t._v("\n                                    "+t._s(t.findJudgeComment(s.judgingScores))+"\n                                ")])])])])])})),0):e("div",{staticClass:"ml-3"},[t._v("\n                This entry did not receive enough screening votes to reach the judging stage. :(\n            ")])])]):t._e()])};n._withStripped=!0;var i=e(2934),a=e.n(i),r=e(6564),o=e(3887);const c=a().extend({name:"ContestResultsPage",computed:Object.assign(Object.assign({},(0,r.rn)({submission:t=>t.contestResultsAdmin.submission})),{voteCount(){let t=0;return this.submission.evaluations.forEach((s=>{isNaN(s.vote)||(t+=s.vote)})),t},emptyEvaluationCount(){return this.submission.contest.screeners.length-this.submission.evaluations.length},randomizedJudging(){let t=[...this.submission.judgings];return t=t.sort((()=>Math.random()-.5)),t},randomizedScreening(){let t=[...this.submission.evaluations];return t=t.sort((()=>Math.random()-.5)),t}}),beforeCreate(){this.$store.hasModule("contestResultsAdmin")||this.$store.registerModule("contestResultsAdmin",o.Z)},destroyed(){this.$store.hasModule("contestResultsAdmin")&&this.$store.unregisterModule("contestResultsAdmin")},created(){return t=this,s=void 0,n=function*(){const t=new URLSearchParams(document.location.search.substring(1));let s;t.get("submission")&&t.get("submission").length&&(s=yield this.initialRequest("/contestResults/searchSubmission/"+t.get("submission"))),!s||this.isError(s)?window.location.replace("/"):this.$store.commit("setSubmission",s)},new((e=void 0)||(e=Promise))((function(i,a){function r(t){try{c(n.next(t))}catch(t){a(t)}}function o(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var s;t.done?i(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,o)}c((n=n.apply(t,s||[])).next())}));var t,s,e,n},methods:{findTotalJudgingPoints(t){let s=0;return t.forEach((t=>{s+=t.score})),s},findTotalCriteriaPoints(t){let s=0;return t.forEach((t=>{s+=t.criteria.maxScore})),s},findJudgeComment(t){let s="";return t.forEach((t=>{"comments"==t.criteria.name&&(s=t.comment)})),s},filteredAndSortedJudgingScores(t){t=t.filter((t=>"comments"!=t.criteria.name));const s=["musical representation","creativity","limitation","gameplay"];return[...t].sort((function(t,e){return s.indexOf(t.criteria.name)-s.indexOf(e.criteria.name)}))}}});var d=(0,e(1900).Z)(c,n,[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("\n                                            Category\n                                        ")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("\n                                            Score\n                                        ")])])])}],!1,null,null,null);d.options.__file="src/pages/ContestResultsPage.vue";const l=d.exports}}]);