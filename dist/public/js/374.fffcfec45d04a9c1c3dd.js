(self.webpackChunkmappersguild=self.webpackChunkmappersguild||[]).push([[374],{3374:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>c});var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container card card-body pt-1 pb-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-sm mt-3"},[t._m(0),t._v(" "),e("tbody",t._l(t.logs,(function(s){return e("tr",{key:s.id},[e("td",{attrs:{scope:"row"}},[t._v("\n                            "+t._s(t.shortDate(s.createdAt))+"\n                        ")]),t._v(" "),e("td",{attrs:{scope:"row"}},[t._v("\n                            "+t._s(s.user.username)+"\n                        ")]),t._v(" "),e("td",{attrs:{scope:"row"}},[t._v("\n                            "+t._s(t.shortAction(s.action))+"\n                        ")])])})),0)]),t._v(" "),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(s){return t.showMore(s)}}},[e("i",{staticClass:"fas fa-angle-down mr-1"}),t._v(" show more "),e("i",{staticClass:"fas fa-angle-down ml-1"})])])])])])};n._withStripped=!0;var o=e(2934),i=function(t,s,e,n){return new(e||(e=Promise))((function(o,i){function r(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var s;t.done?o(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,a)}c((n=n.apply(t,s||[])).next())}))};const r=e.n(o)().extend({data:()=>({skip:100,logs:[]}),created(){return i(this,void 0,void 0,(function*(){const t=yield this.initialRequest("/logs/query");this.isError(t)||(this.logs=t.logs)}))},methods:{shortDate:t=>t?new Date(t).toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"",shortAction:t=>t?t.length>120?t.toString().slice(0,120)+"...":t:"",showMore(t){return i(this,void 0,void 0,(function*(){const s=yield this.executeGet(`/logs/query?skip=${this.skip}`,t);this.isError(s)||(this.skip+=100,this.logs=[...this.logs,...s.logs])}))}}});var a=(0,e(1900).Z)(r,n,[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("th",{attrs:{scope:"col"}},[t._v("\n                        date\n                    ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n                        user\n                    ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n                        action\n                    ")])])}],!1,null,null,null);a.options.__file="src/pages/Logs.vue";const c=a.exports}}]);