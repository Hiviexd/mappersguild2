import{d as t,p as e,a as s,i as a,o as i,u as o,w as n,l as d,t as r,j as c,f as u,s as l,b as p,q as m,O as h,m as f,k as y,e as b,F as g,g as I,n as q}from"./vendor.8b5721c7.js";import{_ as w}from"./BeatmapInfoAdmin.78107f6c.js";import{_ as v}from"./QuestInfo.2a2934a1.js";import{_ as k}from"./ModalDialog.2c18b0dc.js";import{C as $}from"./CopyPaste.7cb4b414.js";import{_ as A}from"./UserInfo.f6b51365.js";import{a as C}from"./beatmap.b8797e7f.js";import{_ as P}from"./ModesIcons.88090f43.js";import{_ as M}from"./UserLinkList.c17ae490.js";import"./AssociatedBeatmaps.6385f459.js";var x=t({name:"ReviewQuest",components:{CopyPaste:$,ModalDialog:k},props:{quest:{type:Object,required:!0}},data(){return{showArtistInput:!1,artistInput:this.quest.art,showNameInput:!1,nameInput:this.quest.name,showObjectiveInput:!1,objectiveInput:this.quest.descriptionMain,showRequiredMapsetsInput:!1,requiredMapsetsInput:this.quest.requiredMapsets,showPriceInput:!1,priceInput:this.quest.price,showTimeframeInput:!1,timeframeInput:this.quest.timeframe/864e5,showPartySizeInput:!1,minPartyInput:this.quest.minParty,maxPartyInput:this.quest.maxParty}},watch:{quest(){this.showArtistInput=!1,this.artistInput=this.quest.art,this.showNameInput=!1,this.nameInput=this.quest.name,this.showObjectiveInput=!1,this.objectiveInput=this.quest.descriptionMain,this.showRequiredMapsetsInput=!1,this.requiredMapsetsInput=this.quest.requiredMapsets,this.showPriceInput=!1,this.priceInput=this.quest.price,this.showTimeframeInput=!1,this.timeframeInput=this.quest.timeframe/864e5}},methods:{async acceptPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/schedule`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"scheduled quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async rejectPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/reject`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"rejected quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async updateArt(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateArt`,{art:this.artistInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated artist",type:"info"}),this.$store.commit("updateArt",{questId:this.quest.id,art:e}),this.showArtistInput=!1)},async renameQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/rename`,{name:this.nameInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"renamed quest",type:"info"}),this.$store.commit("renameQuest",{questId:this.quest.id,name:e}),this.showNameInput=!1)},async updateDescription(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateDescription/`,{description:this.objectiveInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated quest description",type:"info"}),this.$store.commit("updateDescription",{questId:this.quest.id,description:e}),this.showObjectiveInput=!1)},async updateRequiredMapsets(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateRequiredMapsets`,{requiredMapsets:this.requiredMapsetsInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated required mapsets",type:"info"}),this.$store.commit("updateRequiredMapsets",{questId:this.quest.id,requiredMapsets:e}),this.showRequiredMapsetsInput=!1)},async updatePrice(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updatePrice`,{price:this.priceInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated price",type:"info"}),this.$store.commit("updatePrice",{questId:this.quest.id,price:e}),this.showPriceInput=!1)},async updateTimeframe(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateTimeframe`,{timeframe:this.timeframeInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated timeframe",type:"info"}),this.$store.commit("updateTimeframe",{questId:this.quest.id,timeframe:e}),this.showTimeframeInput=!1)},async updateMinParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMinParty`,{minParty:this.minPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated minParty",type:"info"}),this.$store.commit("updateMinParty",{questId:this.quest.id,minParty:e}),this.showPartySizeInput=!1)},async updateMaxParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMaxParty`,{maxParty:this.maxPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated maxParty",type:"info"}),this.$store.commit("updateMaxParty",{questId:this.quest.id,maxParty:e}),this.showPartySizeInput=!1)}}});e("data-v-6ed48360");const Q={class:"container"},B={class:"small text-white-50"},U=d(" Artist "),L=[u("i",{class:"fas fa-edit"},null,-1)],T={key:0},j={key:1,class:"ms-2"},S=["href"],E=["src"],R={key:2,class:"ms-2"},D={class:"small text-white-50"},N=d(" Name "),O=[u("i",{class:"fas fa-edit"},null,-1)],_={key:3},z={key:4,class:"ms-2"},G={class:"small text-white-50"},V=d(" Objective "),F=[u("i",{class:"fas fa-edit"},null,-1)],K={key:5},H={key:6,class:"ms-2"},J={class:"small text-white-50"},W=d(" Required mapsets "),X=[u("i",{class:"fas fa-edit"},null,-1)],Y={key:7},Z={key:8,class:"ms-2"},tt={class:"small text-white-50"},et=d(" Price "),st=[u("i",{class:"fas fa-edit"},null,-1)],at={key:9},it={key:10,class:"ms-2"},ot={class:"small text-white-50"},nt=d(" Timeframe "),dt=[u("i",{class:"fas fa-edit"},null,-1)],rt={key:11},ct={key:12,class:"ms-2"},ut={class:"small text-white-50"},lt=d(" Party size "),pt=[u("i",{class:"fas fa-edit"},null,-1)],mt={key:13},ht={key:14,class:"ms-2"},ft=u("div",{class:"small text-white-50"}," Party rank ",-1),yt={class:"ms-2"},bt=u("div",{class:"small text-white-50"}," MBC ",-1),gt={class:"ms-2"},It=u("div",{class:"radial-divisor"},null,-1),qt=u("button",{class:"btn btn-outline-secondary w-100","data-bs-toggle":"collapse","data-bs-target":"#forumPm"},[d(" See rejection message "),u("i",{class:"fas fa-angle-down"})],-1),wt={id:"forumPm",class:"collapse"},vt=u("div",null,"hello, you're receiving this message because you submitted a Mappers' Guild quest for review",-1),kt=u("div",null,"[box=your quest info]",-1),$t=u("div",null,"[/box]",-1),At=u("div",null,"your quest has been rejected for the following reason(s):",-1),Ct=u("div",null,"[notice] REASONS [/notice]",-1),Pt=u("div",null,"points spent for submitting the quest have been returned to your \"available points\" pool. if you'd like to modify the quest according to above feedback, you can resubmit it and i'll review it again! or if you'd like to submit any other quest, that's fine too!",-1),Mt=u("div",null,"thanks for being cool",-1);s(),x.render=function(t,e,s,f,y,b){const g=a("user-link"),I=a("copy-paste"),q=a("modal-dialog");return i(),o(q,{id:"reviewQuest",loaded:Boolean(t.quest)},{header:n((()=>[d(r(t.quest.name)+" by ",1),c(g,{class:"text-dark",user:t.quest.creator},null,8,["user"])])),default:n((()=>[u("div",Q,[u("div",B,[U,u("a",{href:"#",onClick:e[0]||(e[0]=l((e=>t.showArtistInput=!t.showArtistInput),["prevent"]))},L)]),t.showArtistInput?(i(),p("p",T,[m(u("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.artistInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"artist ID...",onChange:e[2]||(e[2]=e=>t.updateArt(e))},null,544),[[h,t.artistInput,void 0,{number:!0}]])])):t.quest.art?(i(),p("p",j,[u("a",{href:"https://osu.ppy.sh/beatmaps/artists/"+t.quest.art,target:"_blank"},[u("img",{src:"https://assets.ppy.sh/artists/"+t.quest.art+"/cover.jpg",class:"card-avatar-img"},null,8,E)],8,S)])):(i(),p("p",R," None ")),u("div",D,[N,u("a",{href:"#",onClick:e[3]||(e[3]=l((e=>t.showNameInput=!t.showNameInput),["prevent"]))},O)]),t.showNameInput?(i(),p("p",_,[m(u("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.nameInput=e),class:"form-control form-control-sm w-100",type:"text",autocomplete:"off",placeholder:"name...",onChange:e[5]||(e[5]=e=>t.renameQuest(e))},null,544),[[h,t.nameInput]])])):(i(),p("p",z,r(t.quest.name),1)),u("div",G,[V,u("a",{href:"#",onClick:e[6]||(e[6]=l((e=>t.showObjectiveInput=!t.showObjectiveInput),["prevent"]))},F)]),t.showObjectiveInput?(i(),p("p",K,[m(u("textarea",{"onUpdate:modelValue":e[7]||(e[7]=e=>t.objectiveInput=e),class:"form-control form-control-sm w-100",rows:"2",type:"text",autocomplete:"off",placeholder:"objective...",onChange:e[8]||(e[8]=e=>t.updateDescription(e))},null,544),[[h,t.objectiveInput]])])):(i(),p("p",H,r(t.quest.descriptionMain),1)),u("div",J,[W,u("a",{href:"#",onClick:e[9]||(e[9]=l((e=>t.showRequiredMapsetsInput=!t.showRequiredMapsetsInput),["prevent"]))},X)]),t.showRequiredMapsetsInput?(i(),p("p",Y,[m(u("input",{"onUpdate:modelValue":e[10]||(e[10]=e=>t.requiredMapsetsInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"required mapsets...",onChange:e[11]||(e[11]=e=>t.updateRequiredMapsets(e))},null,544),[[h,t.requiredMapsetsInput,void 0,{number:!0}]])])):(i(),p("p",Z,r(t.quest.requiredMapsets),1)),u("div",tt,[et,u("a",{href:"#",onClick:e[12]||(e[12]=l((e=>t.showPriceInput=!t.showPriceInput),["prevent"]))},st)]),t.showPriceInput?(i(),p("p",at,[m(u("input",{"onUpdate:modelValue":e[13]||(e[13]=e=>t.priceInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"price per party member...",onChange:e[14]||(e[14]=e=>t.updatePrice(e))},null,544),[[h,t.priceInput,void 0,{number:!0}]])])):(i(),p("p",it,r(t.quest.price)+" points per user ",1)),u("div",ot,[nt,u("a",{href:"#",onClick:e[15]||(e[15]=l((e=>t.showTimeframeInput=!t.showTimeframeInput),["prevent"]))},dt)]),t.showTimeframeInput?(i(),p("p",rt,[m(u("input",{"onUpdate:modelValue":e[16]||(e[16]=e=>t.timeframeInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"days...",onChange:e[17]||(e[17]=e=>t.updateTimeframe(e))},null,544),[[h,t.timeframeInput,void 0,{number:!0}]])])):(i(),p("p",ct,r(t.quest.timeframe/864e5)+" days ",1)),u("div",ut,[lt,u("a",{href:"#",onClick:e[18]||(e[18]=l((e=>t.showPartySizeInput=!t.showPartySizeInput),["prevent"]))},pt)]),t.showPartySizeInput?(i(),p("p",mt,[m(u("input",{"onUpdate:modelValue":e[19]||(e[19]=e=>t.minPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"minimum",onChange:e[20]||(e[20]=e=>t.updateMinParty(e))},null,544),[[h,t.minPartyInput,void 0,{number:!0}]]),m(u("input",{"onUpdate:modelValue":e[21]||(e[21]=e=>t.maxPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"maximum",onChange:e[22]||(e[22]=e=>t.updateMaxParty(e))},null,544),[[h,t.maxPartyInput,void 0,{number:!0}]])])):(i(),p("p",ht,r(t.quest.minParty)+"-"+r(t.quest.maxParty)+" members ",1)),ft,u("p",yt,r(t.quest.minRank)+" rank required ",1),bt,u("p",gt,r(t.quest.isMbc?"yes":"no"),1),It,u("button",{type:"submit",class:"btn btn-outline-success w-100",onClick:e[23]||(e[23]=e=>t.acceptPendingQuest(e))}," Schedule quest "),u("button",{type:"submit",class:"btn btn-outline-danger w-100",onClick:e[24]||(e[24]=e=>t.rejectPendingQuest(e))}," Reject quest "),qt,u("div",wt,[c(I,null,{default:n((()=>[vt,kt,u("div",null,"Artist: "+r("https://osu.ppy.sh/beatmaps/artists/"+t.quest.art),1),u("div",null,"Name: "+r(t.quest.name),1),u("div",null,"Objective: "+r(t.quest.descriptionMain),1),u("div",null,"Required mapsets: "+r(t.quest.requiredMapsets),1),u("div",null,"Price: "+r(t.quest.price)+" points per user",1),u("div",null,"Timeframe: "+r(t.quest.timeframe/864e5)+" days",1),u("div",null,"Party size: "+r(t.quest.minParty)+"-"+r(t.quest.maxParty)+" members",1),$t,At,Ct,Pt,Mt])),_:1})])])])),_:1},8,["loaded"])},x.__scopeId="data-v-6ed48360";var xt=t({name:"ContestInfo",components:{ModalDialog:k},props:{contest:{type:Object,default:null}},methods:{async toggleIsApproved(t){const e=await this.$http.executePost(`/admin/contests/${this.contest.id}/toggleIsApproved`,{isApproved:!this.contest.isApproved},t);e&&(this.$store.dispatch("updateToastMessages",{message:`set isApproved to ${e.isApproved}`,type:"info"}),this.$store.commit("updateIsApproved",{contestId:this.contest.id,isApproved:e.isApproved}))}}});const Qt={class:"container"};xt.render=function(t,e,s,c,l,p){const m=a("modal-dialog");return i(),o(m,{id:"editContest",loaded:Boolean(t.contest)},{header:n((()=>[d(r(t.contest.name),1)])),default:n((()=>[u("div",Qt,[u("p",null,[u("button",{class:"btn btn-sm btn-outline-info w-100",onClick:e[0]||(e[0]=e=>t.toggleIsApproved(e))},r(t.contest.isApproved?"Disable":"Enable")+" public visibility ",1)])])])),_:1},8,["loaded"])};var Bt={state:{actionBeatmaps:[],actionBeatmapsLoading:!1,actionQuests:[],actionQuestsLoading:!1,actionUsers:[],actionUsersLoading:!1,actionContests:[],actionContestsLoading:!1,selectedBeatmap:null,selectedQuest:null,selectedUser:null,selectedContest:null},mutations:{setActionBeatmaps(t,e){t.actionBeatmaps=e},setActionBeatmapsLoading(t,e){t.actionBeatmapsLoading=e},setActionQuests(t,e){t.actionQuests=e},setActionQuestsLoading(t,e){t.actionQuestsLoading=e},setActionUsers(t,e){t.actionUsers=e},setActionUsersLoading(t,e){t.actionUsersLoading=e},setActionContests(t,e){t.actionContests=e},setActionContestsLoading(t,e){t.actionContestsLoading=e},setSelectedBeatmap(t,e){t.selectedBeatmap=e},setSelectedQuest(t,e){t.selectedQuest=e},setSelectedUser(t,e){t.selectedUser=e},setSelectedContest(t,e){t.selectedContest=e},updateBeatmapStatus(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s&&(s.status=e.status,s.status==C.Ranked)){const s=t.actionBeatmaps.findIndex((t=>t.id===e.beatmapId));t.actionBeatmaps.splice(s,1)}},deleteTask(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&s.tasks.splice(t,1)}},deleteModder(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.modders.findIndex((t=>t.id==e.modderId));-1!==t&&s.modders.splice(t,1)}},updateUrl(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.url=e.url)},updateStoryboardQuality(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&(s.tasks[t]=e.task)}},updatePackId(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.packId=e.packId)},updateIsShowcase(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.isShowcase=e.isShowcase)},updateQueuedForRank(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.queuedForRank=e.queuedForRank)},updateArt(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.art=e.art)},renameQuest(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.name=e.name)},updateDescription(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.descriptionMain=e.description)},updateRequiredMapsets(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.requiredMapsets=e.requiredMapsets)},updatePrice(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.price=e.price)},updateTimeframe(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.timeframe=864e5*e.timeframe)},updateMinParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.minParty=e.minParty)},updateMaxParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.maxParty=e.maxParty)},updateStatus(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));if(s&&(s.status=e.status,"open"==s.status||"rejected"==s.status)){const s=t.actionQuests.findIndex((t=>t.id===e.questId));t.actionQuests.splice(s,1)}},updateQueuedForCompletion(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.queuedForCompletion=e.queuedForCompletion)},updateGroup(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.group=e.group)},updateBadge(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.queuedBadge=e.badge)},updateDiscordId(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.discordId=e.discordId)},updateBypassLogin(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.bypassLogin=e.bypassLogin)}}},Ut=t({name:"AdminPage",components:{BeatmapInfoAdmin:w,QuestInfo:v,ReviewQuest:x,UserInfo:A,ContestInfo:xt,ModesIcons:P,UserLinkList:M},computed:f({actionBeatmaps:t=>t.admin.actionBeatmaps,actionBeatmapsLoading:t=>t.admin.actionBeatmapsLoading,actionQuests:t=>t.admin.actionQuests,actionQuestsLoading:t=>t.admin.actionQuestsLoading,actionUsers:t=>t.admin.actionUsers,actionUsersLoading:t=>t.admin.actionUsersLoading,actionContests:t=>t.admin.actionContests,actionContestsLoading:t=>t.admin.actionContestsLoading,selectedBeatmap:t=>t.admin.selectedBeatmap,selectedQuest:t=>t.admin.selectedQuest,selectedUser:t=>t.admin.selectedUser,selectedContest:t=>t.admin.selectedContest}),beforeCreate(){this.$store.hasModule("admin")||this.$store.registerModule("admin",Bt)},unmounted(){this.$store.hasModule("admin")&&this.$store.unregisterModule("admin")},methods:{generateMetadata(t){let e=t.artist+" - ";return t.title.length>40?e+=t.title.slice(0,40)+"...":e+=t.title,e},async loadActionBeatmaps(t){{this.$store.commit("setActionBeatmaps",[]),this.$store.commit("setActionBeatmapsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionBeatmaps",t);this.$http.isError(e)||this.$store.commit("setActionBeatmaps",e),this.$store.commit("setActionBeatmapsLoading",!1)}},async loadActionQuests(t){this.$store.commit("setActionQuests",[]),this.$store.commit("setActionQuestsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionQuests",t);this.$http.isError(e)||this.$store.commit("setActionQuests",e),this.$store.commit("setActionQuestsLoading",!1)},async loadActionUsers(t){this.$store.commit("setActionUsers",[]),this.$store.commit("setActionUsersLoading",!0);const e=await this.$http.executeGet("/admin/loadActionUsers",t);this.$http.isError(e)||this.$store.commit("setActionUsers",e),this.$store.commit("setActionUsersLoading",!1)},async loadActionContests(t){this.$store.commit("setActionContests",[]),this.$store.commit("setActionContestsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionContests",t);this.$http.isError(e)||this.$store.commit("setActionContests",e),this.$store.commit("setActionContestsLoading",!1)}}});const Lt={class:"container card card-body py-1 mb-4"},Tt={class:"row mx-3 mt-2"},jt={class:"row"},St={class:"col"},Et={class:"ms-4 mt-2"},Rt=u("a",{href:"#actionBeatmaps","data-bs-toggle":"collapse"},[d(" Beatmaps "),u("i",{class:"fas fa-angle-down"})],-1),Dt={key:0,class:"ms-2 small text-white-50"},Nt={id:"actionBeatmaps",class:"show"},Ot={key:0,class:"table table-sm"},_t=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," METADATA "),u("th",{scope:"col"}," PACK ID "),u("th",{scope:"col"}," STATUS "),u("th",{scope:"col"}," EDIT ")])],-1),zt={scope:"row"},Gt=["href"],Vt={key:1,class:"ms-1"},Ft={scope:"row"},Kt={scope:"row"},Ht={scope:"row"},Jt=["onClick"],Wt={key:1,class:"text-white-50 ms-5"},Xt={class:"container card card-body py-1 mb-4"},Yt={class:"row mx-3 mt-2"},Zt={class:"row"},te={class:"col"},ee={class:"ms-4 mt-2"},se=u("a",{href:"#actionQuests","data-bs-toggle":"collapse"},[d(" Quests "),u("i",{class:"fas fa-angle-down"})],-1),ae={key:0,class:"ms-2 small text-white-50"},ie={id:"actionQuests",class:"show"},oe={key:0,class:"table table-sm"},ne=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," NAME "),u("th",{scope:"col"}," CREATOR "),u("th",{scope:"col"}," MODES "),u("th",{scope:"col"}," STATUS "),u("th",{scope:"col"}," MAPSETS "),u("th",{scope:"col"}," EDIT ")])],-1),de={scope:"row"},re={scope:"row"},ce={scope:"row"},ue={scope:"row"},le={scope:"row"},pe={scope:"row"},me=["data-bs-target","onClick"],he={key:1,class:"text-white-50 ms-5"},fe={class:"container card card-body py-1 mb-4"},ye={class:"row mx-3 mt-2"},be={class:"row"},ge={class:"col"},Ie={class:"ms-4 mt-2"},qe=u("a",{href:"#actionUsers","data-bs-toggle":"collapse"},[d(" Users "),u("i",{class:"fas fa-angle-down"})],-1),we={key:0,class:"ms-2 small text-white-50"},ve={key:0,id:"actionUsers",class:"show"},ke={key:0,class:"table table-sm"},$e=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," USERNAME "),u("th",{scope:"col"}," RANK "),u("th",{scope:"col"}," QUEUED BADGE "),u("th",{scope:"col"}," BADGE "),u("th",{scope:"col"}," EDIT ")])],-1),Ae={scope:"row"},Ce={scope:"row"},Pe={scope:"row"},Me=["onClick"],xe={key:1,class:"text-white-50 ms-5"},Qe={class:"container card card-body py-1"},Be={class:"row mx-3 mt-2"},Ue={class:"row"},Le={class:"col"},Te={class:"ms-4 mt-2"},je=u("a",{href:"#actionContests","data-bs-toggle":"collapse"},[d(" Contests "),u("i",{class:"fas fa-angle-down"})],-1),Se={key:0,class:"ms-2 small text-white-50"},Ee={key:0,id:"actionContests",class:"show"},Re={key:0,class:"table table-sm"},De=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," CONTEST "),u("th",{scope:"col"}," CREATOR "),u("th",{scope:"col"}," EDIT ")])],-1),Ne={scope:"row"},Oe=["href"],_e={scope:"row"},ze={scope:"row"},Ge=["onClick"],Ve={key:1,class:"text-white-50 ms-5"},Fe=u("div",{class:"radial-divisor"},null,-1);Ut.render=function(t,e,s,n,d,h){const f=a("modes-icons"),w=a("user-link"),v=a("user-link-list"),k=a("beatmap-info-admin"),$=a("quest-info"),A=a("review-quest"),C=a("user-info"),P=a("contest-info"),M=y("bs-tooltip");return i(),p("div",null,[u("div",Lt,[u("div",Tt,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[0]||(e[0]=e=>t.loadActionBeatmaps(e))}," Load beatmaps ")]),u("div",jt,[u("div",St,[u("h5",Et,[Rt,t.actionBeatmapsLoading?(i(),p("span",Dt,"loading...")):b("",!0)]),u("div",Nt,[t.actionBeatmaps.length?(i(),p("table",Ot,[_t,u("tbody",null,[(i(!0),p(g,null,I(t.actionBeatmaps,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",zt,[c(f,{modes:[e.mode]},null,8,["modes"]),e.url?(i(),p("a",{key:0,href:e.url,class:"ms-1"},r(t.generateMetadata(e.song)),9,Gt)):(i(),p("span",Vt,r(t.generateMetadata(e.song)),1))]),u("td",Ft,r(e.packId),1),u("td",Kt,r(e.status),1),u("td",Ht,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editBeatmap",onClick:l((s=>t.$store.commit("setSelectedBeatmap",e)),["prevent"])}," edit ",8,Jt)])])))),128))])])):t.actionBeatmapsLoading?b("",!0):(i(),p("span",Wt,"None..."))])])])]),u("div",Xt,[u("div",Yt,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[1]||(e[1]=e=>t.loadActionQuests(e))}," Load quests ")]),u("div",Zt,[u("div",te,[u("h5",ee,[se,t.actionQuestsLoading?(i(),p("span",ae,"loading...")):b("",!0)]),u("div",ie,[t.actionQuests.length?(i(),p("table",oe,[ne,u("tbody",null,[(i(!0),p(g,null,I(t.actionQuests,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",de,r(e.name),1),u("td",re,r(e.creator.username),1),u("td",ce,[c(f,{modes:e.modes},null,8,["modes"])]),u("td",ue,r(e.status),1),u("td",le,r(e.requiredMapsets),1),u("td",pe,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"pending"==e.status?"#reviewQuest":"#editQuest",onClick:l((s=>t.$store.commit("setSelectedQuest",e)),["prevent"])}," edit ",8,me)])])))),128))])])):t.actionQuestsLoading?b("",!0):(i(),p("span",he,"None..."))])])])]),u("div",fe,[u("div",ye,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[2]||(e[2]=e=>t.loadActionUsers(e))}," Load users ")]),u("div",be,[u("div",ge,[u("h5",Ie,[qe,t.actionUsersLoading?(i(),p("span",we,"loading...")):b("",!0)]),t.actionUsers?(i(),p("div",ve,[t.actionUsers.length?(i(),p("table",ke,[$e,u("tbody",null,[(i(!0),p(g,null,I(t.actionUsers,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",Ae,[c(w,{user:e},null,8,["user"])]),u("td",Ce,[e.rank?m((i(),p("i",{key:0,class:q(["fas fa-crown","text-rank-"+e.rank])},null,2)),[[M,`rank ${e.rank} user`]]):b("",!0)]),u("td",{scope:"row",class:q({"bg-open":e.rank!=e.queuedBadge})},[e.queuedBadge?m((i(),p("i",{key:0,class:q(["fas fa-crown","text-rank-"+e.queuedBadge])},null,2)),[[M,`rank ${e.queuedBadge} user`]]):b("",!0)],2),u("td",{scope:"row",class:q({"bg-open":e.rank!=e.badge})},[e.badge?m((i(),p("i",{key:0,class:q(["fas fa-crown","text-rank-"+e.badge])},null,2)),[[M,`rank ${e.badge} user`]]):b("",!0)],2),u("td",Pe,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editUser",onClick:l((s=>t.$store.commit("setSelectedUser",e)),["prevent"])}," edit ",8,Me)])])))),128))])])):t.actionUsersLoading?b("",!0):(i(),p("span",xe,"None..."))])):b("",!0)])])]),u("div",Qe,[u("div",Be,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[3]||(e[3]=e=>t.loadActionContests(e))}," Load contests ")]),u("div",Ue,[u("div",Le,[u("h5",Te,[je,t.actionContestsLoading?(i(),p("span",Se,"loading...")):b("",!0)]),t.actionContests?(i(),p("div",Ee,[t.actionContests.length?(i(),p("table",Re,[De,u("tbody",null,[(i(!0),p(g,null,I(t.actionContests,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",Ne,[u("a",{href:"/contests/listing?contest="+e.id},r(e.name),9,Oe)]),u("td",_e,[c(v,{users:e.creators},null,8,["users"])]),u("td",ze,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editContest",onClick:l((s=>t.$store.commit("setSelectedContest",e)),["prevent"])}," edit ",8,Ge)])])))),128))])])):t.actionContestsLoading?b("",!0):(i(),p("span",Ve,"None..."))])):b("",!0)])])]),Fe,t.selectedBeatmap?(i(),o(k,{key:0,beatmap:t.selectedBeatmap},null,8,["beatmap"])):b("",!0),t.selectedQuest?(i(),o($,{key:1,quest:t.selectedQuest},null,8,["quest"])):b("",!0),t.selectedQuest?(i(),o(A,{key:2,quest:t.selectedQuest},null,8,["quest"])):b("",!0),t.selectedUser?(i(),o(C,{key:3,user:t.selectedUser},null,8,["user"])):b("",!0),t.selectedContest?(i(),o(P,{key:4,contest:t.selectedContest},null,8,["contest"])):b("",!0)])};export{Ut as default};
