import{d as _,m as g,z as y,_ as v,o as t,e as o,a as s,j as h,t as r,k as c,F as u,r as p,b as k,v as w,s as b,u as f,X as M}from"./index-e8d68c0f.js";const C={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,i){e.merch=i}},getters:{allMerch:e=>e.merch}},I=C,S=_({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1,worldCupSweaterSize:""}},computed:{...g(["loggedInUser"]),...y("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",I)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,i){this.clicked=!0;const n=await this.$http.executePost("/merch/checkout",{vid:e,size:this.worldCupSweaterSize},i);console.log(n),this.$http.isError(n)||(this.checkoutOutput=n,window.location.replace(n.webUrl))}}});const a=e=>(b("data-v-8818e479"),e=e(),f(),e),U=a(()=>s("p",{class:"opacity-0"}," . ",-1)),$={key:0,class:"my-4"},z={key:0,class:"col-sm-12 card card-body ps-4"},L=M('<h5 class="mt-2" data-v-8818e479> info </h5><div class="mb-2" data-v-8818e479>all products listed here have a 100% discount. prices are still listed on the checkout page for tax/customs reasons. depending on the product, they may be lower than store prices</div><div data-v-8818e479>you can only begin the checkout process <b data-v-8818e479>once</b>! this requires...</div><ul data-v-8818e479><li data-v-8818e479>contact email <span class="text-secondary small" data-v-8818e479>(this must be the same as your osu! account&#39;s email)</span></li><li data-v-8818e479>shipping address</li><li data-v-8818e479>billing address <span class="text-secondary small" data-v-8818e479>(can be the same as your shipping address)</span></li></ul><div data-v-8818e479>when you&#39;ve gathered this info, checkout below :)</div>',5),X=[L],O={key:1,class:"double-center text-center"},V=a(()=>s("p",null,"request expired",-1)),q=a(()=>s("p",null,[h("if you think something went wrong, "),s("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat")],-1)),N=[V,q],P={key:2},B=a(()=>s("hr",null,null,-1)),D={key:0},E={key:1},A={class:"card card-body my-2 ps-4"},F=a(()=>s("div",null," based on your world cup placement(s), you'll receive these prizes: ",-1)),T={key:0,class:"text-secondary small"},j={key:0},G=a(()=>s("span",{class:"small text-secondary"},"(instead of the extra sweater above^)",-1)),R={key:1},H=a(()=>s("li",null,"world cup sticker",-1)),J={key:2},K=a(()=>s("option",{disabled:"",value:""}," Select a size ",-1)),Q=["disabled"],W=a(()=>s("option",{value:"M"}," Medium ",-1)),Y=a(()=>s("option",{value:"L"}," Large ",-1)),Z=a(()=>s("option",{value:"XL"}," XL ",-1)),x=["disabled"],ee=["disabled"],se=["disabled"],te={key:2},oe={class:"text-lowercase"},de={class:"d-inline"},ae=["src"],ie={class:"small text-secondary"},le=["onClick"],re={key:0},ce=a(()=>s("p",{class:"opacity-0"}," . ",-1)),ne={key:1,class:"double-center"};function he(e,i,n,ue,pe,me){return t(),o("div",null,[U,e.clicked?(t(),o("div",ne," redirecting to shopify checkout... ")):(t(),o("div",$,[e.loggedInUser.hasMerchAccess?(t(),o("div",z,X)):(t(),o("div",O,N)),e.loggedInUser.hasMerchAccess?(t(),o("div",P,[B,e.loggedInUser.hasSpecificMerchOrder?(t(),o("div",D,[s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:i[0]||(i[0]=d=>e.checkout(null,d))}," your order has already been selected! proceed to checkout ")])):e.loggedInUser.worldCupMerch.active?(t(),o("div",E,[s("div",A,[F,s("ul",null,[s("li",null,[h(r(e.loggedInUser.worldCupMerch.sweater)+" world cup sweater ",1),e.loggedInUser.worldCupMerch.additionalItems?(t(),o("span",T,"(for shipping reasons, we can only send one sweater)")):c("",!0)]),e.loggedInUser.worldCupMerch.additionalItems?(t(),o("li",j,[h(r(e.loggedInUser.worldCupMerch.additionalItems)+" additional item(s) ",1),G])):c("",!0),e.loggedInUser.worldCupMerch.pin?(t(),o("li",R,"world cup pin")):c("",!0),H,e.loggedInUser.worldCupMerch.coins.length?(t(),o("span",J,[(t(!0),o(u,null,p(e.loggedInUser.worldCupMerch.coins,d=>(t(),o("li",{key:d},r(d)+" challenge coin",1))),128))])):c("",!0)]),h(" choose a sweater size: "),k(s("select",{"onUpdate:modelValue":i[1]||(i[1]=d=>e.worldCupSweaterSize=d),class:"form-select form-select-sm mb-2"},[K,s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023&&e.loggedInUser.username!="mrekk",value:"S"}," Small ",8,Q),W,Y,Z,s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023,value:"2XL"}," 2XL ",8,x),s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023,value:"3XL"}," 3xL ",8,ee)],512),[[w,e.worldCupSweaterSize]]),s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",disabled:!e.worldCupSweaterSize,onClick:i[2]||(i[2]=d=>e.checkout(null,d))}," proceed to shopify checkout ",8,se)])])):(t(),o("div",te,[(t(!0),o(u,null,p(e.allMerch,d=>(t(),o("div",{key:d.id,class:"card card-level-2 card-body my-2 ps-4"},[s("h4",oe,r(d.title),1),s("div",de,[(t(!0),o(u,null,p(d.images,l=>(t(),o("img",{key:l.id,src:l.src,class:"merch-img me-2 mb-2"},null,8,ae))),128))]),s("div",ie,r(d.description),1),(t(!0),o(u,null,p(d.variants,l=>(t(),o("div",{key:l.id},[s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(l.id,m)},[h(" proceed to shopify checkout "),l.title!=="Default Title"?(t(),o("span",re,"("+r(l.selectedOptions[0].name)+": "+r(l.selectedOptions[0].value)+")",1)):c("",!0)],8,le)]))),128))]))),128))])),ce])):c("",!0)]))])}const ge=v(S,[["render",he],["__scopeId","data-v-8818e479"]]);export{ge as default};
