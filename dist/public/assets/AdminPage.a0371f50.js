import{d as t,p as e,a as s,i as a,o as i,q as o,w as n,k as d,t as r,j as u,f as c,l as p,b as l,G as m,N as h,m as f,L as y,e as q,F as b,g as I,n as g}from"./vendor.cb33bf1d.js";import{_ as w}from"./BeatmapInfoAdmin.1da9d027.js";import{_ as k}from"./QuestInfo.07bb55b0.js";import{_ as v}from"./ModalDialog.0d82a3c5.js";import{C as P}from"./CopyPaste.55439f96.js";import{_ as $}from"./UserInfo.51759e9c.js";import{a as M}from"./beatmap.b8797e7f.js";import{_ as x}from"./ModesIcons.529dd388.js";import"./AssociatedBeatmaps.80cdbadf.js";var Q=t({name:"ReviewQuest",components:{CopyPaste:P,ModalDialog:v},props:{quest:{type:Object,required:!0}},data(){return{showArtistInput:!1,artistInput:this.quest.art,showNameInput:!1,nameInput:this.quest.name,showObjectiveInput:!1,objectiveInput:this.quest.descriptionMain,showRequiredMapsetsInput:!1,requiredMapsetsInput:this.quest.requiredMapsets,showPriceInput:!1,priceInput:this.quest.price,showTimeframeInput:!1,timeframeInput:this.quest.timeframe/864e5,showPartySizeInput:!1,minPartyInput:this.quest.minParty,maxPartyInput:this.quest.maxParty}},watch:{quest(){this.showArtistInput=!1,this.artistInput=this.quest.art,this.showNameInput=!1,this.nameInput=this.quest.name,this.showObjectiveInput=!1,this.objectiveInput=this.quest.descriptionMain,this.showRequiredMapsetsInput=!1,this.requiredMapsetsInput=this.quest.requiredMapsets,this.showPriceInput=!1,this.priceInput=this.quest.price,this.showTimeframeInput=!1,this.timeframeInput=this.quest.timeframe/864e5}},methods:{async acceptPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/schedule`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"scheduled quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async rejectPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/reject`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"rejected quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async updateArt(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateArt`,{art:this.artistInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated artist",type:"info"}),this.$store.commit("updateArt",{questId:this.quest.id,art:e}),this.showArtistInput=!1)},async renameQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/rename`,{name:this.nameInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"renamed quest",type:"info"}),this.$store.commit("renameQuest",{questId:this.quest.id,name:e}),this.showNameInput=!1)},async updateDescription(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateDescription/`,{description:this.objectiveInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated quest description",type:"info"}),this.$store.commit("updateDescription",{questId:this.quest.id,description:e}),this.showObjectiveInput=!1)},async updateRequiredMapsets(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateRequiredMapsets`,{requiredMapsets:this.requiredMapsetsInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated required mapsets",type:"info"}),this.$store.commit("updateRequiredMapsets",{questId:this.quest.id,requiredMapsets:e}),this.showRequiredMapsetsInput=!1)},async updatePrice(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updatePrice`,{price:this.priceInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated price",type:"info"}),this.$store.commit("updatePrice",{questId:this.quest.id,price:e}),this.showPriceInput=!1)},async updateTimeframe(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateTimeframe`,{timeframe:this.timeframeInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated timeframe",type:"info"}),this.$store.commit("updateTimeframe",{questId:this.quest.id,timeframe:e}),this.showTimeframeInput=!1)},async updateMinParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMinParty`,{minParty:this.minPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated minParty",type:"info"}),this.$store.commit("updateMinParty",{questId:this.quest.id,minParty:e}),this.showPartySizeInput=!1)},async updateMaxParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMaxParty`,{maxParty:this.maxPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated maxParty",type:"info"}),this.$store.commit("updateMaxParty",{questId:this.quest.id,maxParty:e}),this.showPartySizeInput=!1)}}});e("data-v-22839fa3");const A={class:"container"},B={class:"small text-white-50"},U=d(" Artist "),C=[c("i",{class:"fas fa-edit"},null,-1)],T={key:0},j={key:1,class:"ms-2"},L=["href"],S=["src"],E={key:2,class:"ms-2"},R={class:"small text-white-50"},D=d(" Name "),N=[c("i",{class:"fas fa-edit"},null,-1)],O={key:3},_={key:4,class:"ms-2"},z={class:"small text-white-50"},G=d(" Objective "),V=[c("i",{class:"fas fa-edit"},null,-1)],F={key:5},K={key:6,class:"ms-2"},H={class:"small text-white-50"},J=d(" Required mapsets "),W=[c("i",{class:"fas fa-edit"},null,-1)],X={key:7},Y={key:8,class:"ms-2"},Z={class:"small text-white-50"},tt=d(" Price "),et=[c("i",{class:"fas fa-edit"},null,-1)],st={key:9},at={key:10,class:"ms-2"},it={class:"small text-white-50"},ot=d(" Timeframe "),nt=[c("i",{class:"fas fa-edit"},null,-1)],dt={key:11},rt={key:12,class:"ms-2"},ut={class:"small text-white-50"},ct=d(" Party size "),pt=[c("i",{class:"fas fa-edit"},null,-1)],lt={key:13},mt={key:14,class:"ms-2"},ht=c("div",{class:"small text-white-50"}," Party rank ",-1),ft={class:"ms-2"},yt=c("div",{class:"small text-white-50"}," MBC ",-1),qt={class:"ms-2"},bt=c("div",{class:"radial-divisor"},null,-1),It=c("button",{class:"btn btn-outline-secondary w-100","data-bs-toggle":"collapse","data-bs-target":"#forumPm"},[d(" See rejection message "),c("i",{class:"fas fa-angle-down"})],-1),gt={id:"forumPm",class:"collapse"},wt=c("div",null,"hello, you're receiving this message because you submitted a Mappers' Guild quest for review",-1),kt=c("div",null,"[box=your quest info]",-1),vt=c("div",null,"[/box]",-1),Pt=c("div",null,"your quest has been rejected for the following reason(s):",-1),$t=c("div",null,"[notice] REASONS [/notice]",-1),Mt=c("div",null,"points spent for submitting the quest have been returned to your \"available points\" pool. if you'd like to modify the quest according to above feedback, you can resubmit it and i'll review it again! or if you'd like to submit any other quest, that's fine too!",-1),xt=c("div",null,"thanks for being cool",-1);s(),Q.render=function(t,e,s,f,y,q){const b=a("user-link"),I=a("copy-paste"),g=a("modal-dialog");return i(),o(g,{id:"reviewQuest",loaded:Boolean(t.quest)},{header:n((()=>[d(r(t.quest.name)+" by ",1),u(b,{class:"text-dark",user:t.quest.creator},null,8,["user"])])),default:n((()=>[c("div",A,[c("div",B,[U,c("a",{href:"#",onClick:e[0]||(e[0]=p((e=>t.showArtistInput=!t.showArtistInput),["prevent"]))},C)]),t.showArtistInput?(i(),l("p",T,[m(c("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.artistInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"artist ID...",onChange:e[2]||(e[2]=e=>t.updateArt(e))},null,544),[[h,t.artistInput,void 0,{number:!0}]])])):t.quest.art?(i(),l("p",j,[c("a",{href:"https://osu.ppy.sh/beatmaps/artists/"+t.quest.art,target:"_blank"},[c("img",{src:"https://assets.ppy.sh/artists/"+t.quest.art+"/cover.jpg",class:"card-avatar-img"},null,8,S)],8,L)])):(i(),l("p",E," None ")),c("div",R,[D,c("a",{href:"#",onClick:e[3]||(e[3]=p((e=>t.showNameInput=!t.showNameInput),["prevent"]))},N)]),t.showNameInput?(i(),l("p",O,[m(c("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.nameInput=e),class:"form-control form-control-sm w-100",type:"text",autocomplete:"off",placeholder:"name...",onChange:e[5]||(e[5]=e=>t.renameQuest(e))},null,544),[[h,t.nameInput]])])):(i(),l("p",_,r(t.quest.name),1)),c("div",z,[G,c("a",{href:"#",onClick:e[6]||(e[6]=p((e=>t.showObjectiveInput=!t.showObjectiveInput),["prevent"]))},V)]),t.showObjectiveInput?(i(),l("p",F,[m(c("textarea",{"onUpdate:modelValue":e[7]||(e[7]=e=>t.objectiveInput=e),class:"form-control form-control-sm w-100",rows:"2",type:"text",autocomplete:"off",placeholder:"objective...",onChange:e[8]||(e[8]=e=>t.updateDescription(e))},null,544),[[h,t.objectiveInput]])])):(i(),l("p",K,r(t.quest.descriptionMain),1)),c("div",H,[J,c("a",{href:"#",onClick:e[9]||(e[9]=p((e=>t.showRequiredMapsetsInput=!t.showRequiredMapsetsInput),["prevent"]))},W)]),t.showRequiredMapsetsInput?(i(),l("p",X,[m(c("input",{"onUpdate:modelValue":e[10]||(e[10]=e=>t.requiredMapsetsInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"required mapsets...",onChange:e[11]||(e[11]=e=>t.updateRequiredMapsets(e))},null,544),[[h,t.requiredMapsetsInput,void 0,{number:!0}]])])):(i(),l("p",Y,r(t.quest.requiredMapsets),1)),c("div",Z,[tt,c("a",{href:"#",onClick:e[12]||(e[12]=p((e=>t.showPriceInput=!t.showPriceInput),["prevent"]))},et)]),t.showPriceInput?(i(),l("p",st,[m(c("input",{"onUpdate:modelValue":e[13]||(e[13]=e=>t.priceInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"price per party member...",onChange:e[14]||(e[14]=e=>t.updatePrice(e))},null,544),[[h,t.priceInput,void 0,{number:!0}]])])):(i(),l("p",at,r(t.quest.price)+" points per user ",1)),c("div",it,[ot,c("a",{href:"#",onClick:e[15]||(e[15]=p((e=>t.showTimeframeInput=!t.showTimeframeInput),["prevent"]))},nt)]),t.showTimeframeInput?(i(),l("p",dt,[m(c("input",{"onUpdate:modelValue":e[16]||(e[16]=e=>t.timeframeInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"days...",onChange:e[17]||(e[17]=e=>t.updateTimeframe(e))},null,544),[[h,t.timeframeInput,void 0,{number:!0}]])])):(i(),l("p",rt,r(t.quest.timeframe/864e5)+" days ",1)),c("div",ut,[ct,c("a",{href:"#",onClick:e[18]||(e[18]=p((e=>t.showPartySizeInput=!t.showPartySizeInput),["prevent"]))},pt)]),t.showPartySizeInput?(i(),l("p",lt,[m(c("input",{"onUpdate:modelValue":e[19]||(e[19]=e=>t.minPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"minimum",onChange:e[20]||(e[20]=e=>t.updateMinParty(e))},null,544),[[h,t.minPartyInput,void 0,{number:!0}]]),m(c("input",{"onUpdate:modelValue":e[21]||(e[21]=e=>t.maxPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"maximum",onChange:e[22]||(e[22]=e=>t.updateMaxParty(e))},null,544),[[h,t.maxPartyInput,void 0,{number:!0}]])])):(i(),l("p",mt,r(t.quest.minParty)+"-"+r(t.quest.maxParty)+" members ",1)),ht,c("p",ft,r(t.quest.minRank)+" rank required ",1),yt,c("p",qt,r(t.quest.isMbc?"yes":"no"),1),bt,c("button",{type:"submit",class:"btn btn-outline-success w-100",onClick:e[23]||(e[23]=e=>t.acceptPendingQuest(e))}," Schedule quest "),c("button",{type:"submit",class:"btn btn-outline-danger w-100",onClick:e[24]||(e[24]=e=>t.rejectPendingQuest(e))}," Reject quest "),It,c("div",gt,[u(I,null,{default:n((()=>[wt,kt,c("div",null,"Artist: "+r("https://osu.ppy.sh/beatmaps/artists/"+t.quest.art),1),c("div",null,"Name: "+r(t.quest.name),1),c("div",null,"Objective: "+r(t.quest.descriptionMain),1),c("div",null,"Required mapsets: "+r(t.quest.requiredMapsets),1),c("div",null,"Price: "+r(t.quest.price)+" points per user",1),c("div",null,"Timeframe: "+r(t.quest.timeframe/864e5)+" days",1),c("div",null,"Party size: "+r(t.quest.minParty)+"-"+r(t.quest.maxParty)+" members",1),vt,Pt,$t,Mt,xt])),_:1})])])])),_:1},8,["loaded"])},Q.__scopeId="data-v-22839fa3";var Qt={state:{actionBeatmaps:[],actionBeatmapsLoading:!1,actionQuests:[],actionQuestsLoading:!1,actionUsers:[],actionUsersLoading:!1,selectedBeatmap:null,selectedQuest:null,selectedUser:null},mutations:{setActionBeatmaps(t,e){t.actionBeatmaps=e},setActionBeatmapsLoading(t,e){t.actionBeatmapsLoading=e},setActionQuests(t,e){t.actionQuests=e},setActionQuestsLoading(t,e){t.actionQuestsLoading=e},setActionUsers(t,e){t.actionUsers=e},setActionUsersLoading(t,e){t.actionUsersLoading=e},setSelectedBeatmap(t,e){t.selectedBeatmap=e},setSelectedQuest(t,e){t.selectedQuest=e},setSelectedUser(t,e){t.selectedUser=e},updateBeatmapStatus(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s&&(s.status=e.status,s.status==M.Ranked)){const s=t.actionBeatmaps.findIndex((t=>t.id===e.beatmapId));t.actionBeatmaps.splice(s,1)}},deleteTask(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&s.tasks.splice(t,1)}},deleteModder(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.modders.findIndex((t=>t.id==e.modderId));-1!==t&&s.modders.splice(t,1)}},updateUrl(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.url=e.url)},updateStoryboardQuality(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&(s.tasks[t]=e.task)}},updatePackId(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.packId=e.packId)},updateIsShowcase(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.isShowcase=e.isShowcase)},updateQueuedForRank(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.queuedForRank=e.queuedForRank)},updateArt(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.art=e.art)},renameQuest(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.name=e.name)},updateDescription(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.descriptionMain=e.description)},updateRequiredMapsets(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.requiredMapsets=e.requiredMapsets)},updatePrice(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.price=e.price)},updateTimeframe(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.timeframe=864e5*e.timeframe)},updateMinParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.minParty=e.minParty)},updateMaxParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.maxParty=e.maxParty)},updateStatus(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));if(s&&(s.status=e.status,"open"==s.status||"rejected"==s.status)){const s=t.actionQuests.findIndex((t=>t.id===e.questId));t.actionQuests.splice(s,1)}},updateQueuedForCompletion(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.queuedForCompletion=e.queuedForCompletion)},updateGroup(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.group=e.group)},updateBadge(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.queuedBadge=e.badge)},updateDiscordId(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.discordId=e.discordId)},updateBypassLogin(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.bypassLogin=e.bypassLogin)}}},At=t({name:"AdminPage",components:{BeatmapInfoAdmin:w,QuestInfo:k,ReviewQuest:Q,UserInfo:$,ModesIcons:x},data:()=>({calculatingPoints:!1}),computed:f({actionBeatmaps:t=>t.admin.actionBeatmaps,actionBeatmapsLoading:t=>t.admin.actionBeatmapsLoading,actionQuests:t=>t.admin.actionQuests,actionQuestsLoading:t=>t.admin.actionQuestsLoading,actionUsers:t=>t.admin.actionUsers,actionUsersLoading:t=>t.admin.actionUsersLoading,selectedBeatmap:t=>t.admin.selectedBeatmap,selectedQuest:t=>t.admin.selectedQuest,selectedUser:t=>t.admin.selectedUser}),beforeCreate(){this.$store.hasModule("admin")||this.$store.registerModule("admin",Qt)},unmounted(){this.$store.hasModule("admin")&&this.$store.unregisterModule("admin")},methods:{generateMetadata(t){let e=t.artist+" - ";return t.title.length>40?e+=t.title.slice(0,40)+"...":e+=t.title,e},async loadActionBeatmaps(t){{this.$store.commit("setActionBeatmaps",[]),this.$store.commit("setActionBeatmapsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionBeatmaps",t);this.$http.isError(e)||this.$store.commit("setActionBeatmaps",e),this.$store.commit("setActionBeatmapsLoading",!1)}},async loadActionQuests(t){this.$store.commit("setActionQuests",[]),this.$store.commit("setActionQuestsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionQuests",t);this.$http.isError(e)||this.$store.commit("setActionQuests",e),this.$store.commit("setActionQuestsLoading",!1)},async loadActionUsers(t){this.$store.commit("setActionUsers",[]),this.$store.commit("setActionUsersLoading",!0);const e=await this.$http.executeGet("/admin/loadActionUsers",t);this.$http.isError(e)||this.$store.commit("setActionUsers",e),this.$store.commit("setActionUsersLoading",!1)},async updateUserPoints(t){this.calculatingPoints=!0;await this.$http.executePost("/admin/users/updateAllUserPoints",{},t)&&(this.calculatingPoints=!1)}}});const Bt={class:"container card card-body py-1 mb-4"},Ut={class:"row mx-3 mt-2"},Ct={class:"row"},Tt={class:"col"},jt={class:"ms-4 mt-2"},Lt=c("a",{href:"#actionBeatmaps","data-bs-toggle":"collapse"},[d(" Beatmaps "),c("i",{class:"fas fa-angle-down"})],-1),St={key:0,class:"ms-2 small text-white-50"},Et={id:"actionBeatmaps",class:"show"},Rt={key:0,class:"table table-sm"},Dt=c("thead",null,[c("tr",null,[c("th",{scope:"col"}," METADATA "),c("th",{scope:"col"}," PACK ID "),c("th",{scope:"col"}," STATUS "),c("th",{scope:"col"}," EDIT ")])],-1),Nt={scope:"row"},Ot=["href"],_t={key:1,class:"ms-1"},zt={scope:"row"},Gt={scope:"row"},Vt={scope:"row"},Ft=["onClick"],Kt={key:1,class:"text-white-50 ms-5"},Ht={class:"container card card-body py-1 mb-4"},Jt={class:"row mx-3 mt-2"},Wt={class:"row"},Xt={class:"col"},Yt={class:"ms-4 mt-2"},Zt=c("a",{href:"#actionQuests","data-bs-toggle":"collapse"},[d(" Quests "),c("i",{class:"fas fa-angle-down"})],-1),te={key:0,class:"ms-2 small text-white-50"},ee={id:"actionQuests",class:"show"},se={key:0,class:"table table-sm"},ae=c("thead",null,[c("tr",null,[c("th",{scope:"col"}," NAME "),c("th",{scope:"col"}," CREATOR "),c("th",{scope:"col"}," MODES "),c("th",{scope:"col"}," STATUS "),c("th",{scope:"col"}," MAPSETS "),c("th",{scope:"col"}," EDIT ")])],-1),ie={scope:"row"},oe={scope:"row"},ne={scope:"row"},de={scope:"row"},re={scope:"row"},ue={scope:"row"},ce=["data-bs-target","onClick"],pe={key:1,class:"text-white-50 ms-5"},le={class:"container card card-body py-1"},me={class:"row mx-3 mt-2"},he={key:0,class:"ms-2 small text-white-50"},fe={class:"row"},ye={class:"col"},qe={class:"ms-4 mt-2"},be=c("a",{href:"#actionUsers","data-bs-toggle":"collapse"},[d(" Users "),c("i",{class:"fas fa-angle-down"})],-1),Ie={key:0,class:"ms-2 small text-white-50"},ge={key:0,id:"actionUsers",class:"show"},we={key:0,class:"table table-sm"},ke=c("thead",null,[c("tr",null,[c("th",{scope:"col"}," USERNAME "),c("th",{scope:"col"}," RANK "),c("th",{scope:"col"}," QUEUED BADGE "),c("th",{scope:"col"}," BADGE "),c("th",{scope:"col"}," EDIT ")])],-1),ve={scope:"row"},Pe={scope:"row"},$e={scope:"row"},Me=["onClick"],xe={key:1,class:"text-white-50 ms-5"},Qe=c("div",{class:"radial-divisor"},null,-1);At.render=function(t,e,s,n,d,h){const f=a("modes-icons"),w=a("user-link"),k=a("beatmap-info-admin"),v=a("quest-info"),P=a("review-quest"),$=a("user-info"),M=y("bs-tooltip");return i(),l("div",null,[c("div",Bt,[c("div",Ut,[c("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[0]||(e[0]=e=>t.loadActionBeatmaps(e,!1))}," Load beatmaps ")]),c("div",Ct,[c("div",Tt,[c("h5",jt,[Lt,t.actionBeatmapsLoading?(i(),l("span",St,"loading...")):q("",!0)]),c("div",Et,[t.actionBeatmaps.length?(i(),l("table",Rt,[Dt,c("tbody",null,[(i(!0),l(b,null,I(t.actionBeatmaps,(e=>(i(),l("tr",{key:e.id,class:"text-white-50"},[c("td",Nt,[u(f,{modes:[e.mode]},null,8,["modes"]),e.url?(i(),l("a",{key:0,href:e.url,class:"ms-1"},r(t.generateMetadata(e.song)),9,Ot)):(i(),l("span",_t,r(t.generateMetadata(e.song)),1))]),c("td",zt,r(e.packId),1),c("td",Gt,r(e.status),1),c("td",Vt,[c("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editBeatmap",onClick:p((s=>t.$store.commit("setSelectedBeatmap",e)),["prevent"])}," edit ",8,Ft)])])))),128))])])):t.actionBeatmapsLoading?q("",!0):(i(),l("span",Kt,"None..."))])])])]),c("div",Ht,[c("div",Jt,[c("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[1]||(e[1]=e=>t.loadActionQuests(e))}," Load quests ")]),c("div",Wt,[c("div",Xt,[c("h5",Yt,[Zt,t.actionQuestsLoading?(i(),l("span",te,"loading...")):q("",!0)]),c("div",ee,[t.actionQuests.length?(i(),l("table",se,[ae,c("tbody",null,[(i(!0),l(b,null,I(t.actionQuests,(e=>(i(),l("tr",{key:e.id,class:"text-white-50"},[c("td",ie,r(e.name),1),c("td",oe,r(e.creator.username),1),c("td",ne,[u(f,{modes:e.modes},null,8,["modes"])]),c("td",de,r(e.status),1),c("td",re,r(e.requiredMapsets),1),c("td",ue,[c("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"pending"==e.status?"#reviewQuest":"#editQuest",onClick:p((s=>t.$store.commit("setSelectedQuest",e)),["prevent"])}," edit ",8,ce)])])))),128))])])):t.actionQuestsLoading?q("",!0):(i(),l("span",pe,"None..."))])])])]),c("div",le,[c("div",me,[c("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[2]||(e[2]=e=>t.updateUserPoints(e))}," Update user points "),t.calculatingPoints?(i(),l("span",he,"calculating points...")):q("",!0),c("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[3]||(e[3]=e=>t.loadActionUsers(e))}," Load users ")]),c("div",fe,[c("div",ye,[c("h5",qe,[be,t.actionUsersLoading?(i(),l("span",Ie,"loading...")):q("",!0)]),t.actionUsers?(i(),l("div",ge,[t.actionUsers.length?(i(),l("table",we,[ke,c("tbody",null,[(i(!0),l(b,null,I(t.actionUsers,(e=>(i(),l("tr",{key:e.id,class:"text-white-50"},[c("td",ve,[u(w,{user:e},null,8,["user"])]),c("td",Pe,[e.rank?m((i(),l("i",{key:0,class:g(["fas fa-crown","text-rank-"+e.rank])},null,2)),[[M,`rank ${e.rank} user`]]):q("",!0)]),c("td",{scope:"row",class:g({"bg-open":e.rank!=e.queuedBadge})},[e.queuedBadge?m((i(),l("i",{key:0,class:g(["fas fa-crown","text-rank-"+e.queuedBadge])},null,2)),[[M,`rank ${e.queuedBadge} user`]]):q("",!0)],2),c("td",{scope:"row",class:g({"bg-open":e.rank!=e.badge})},[e.badge?m((i(),l("i",{key:0,class:g(["fas fa-crown","text-rank-"+e.badge])},null,2)),[[M,`rank ${e.badge} user`]]):q("",!0)],2),c("td",$e,[c("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editUser",onClick:p((s=>t.$store.commit("setSelectedUser",e)),["prevent"])}," edit ",8,Me)])])))),128))])])):t.actionUsersLoading?q("",!0):(i(),l("span",xe,"None..."))])):q("",!0)])])]),Qe,t.selectedBeatmap?(i(),o(k,{key:0,beatmap:t.selectedBeatmap},null,8,["beatmap"])):q("",!0),t.selectedQuest?(i(),o(v,{key:1,quest:t.selectedQuest},null,8,["quest"])):q("",!0),t.selectedQuest?(i(),o(P,{key:2,quest:t.selectedQuest},null,8,["quest"])):q("",!0),t.selectedUser?(i(),o($,{key:3,user:t.selectedUser},null,8,["user"])):q("",!0)])};export{At as default};
