import{d as f,m as y,A as b,_ as k,o as t,e as s,k as _,a,F as l,r as h,t as n,j as u,s as g,u as v,X as M}from"./index-96ae160e.js";const w={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,i){e.merch=i}},getters:{allMerch:e=>e.merch}},$=w,x=f({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1}},computed:{...y(["loggedInUser"]),...b("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",$)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,i,p){this.clicked=!0;const r=await this.$http.executePost("/merch/checkout",{gid:e,vid:i},p);this.$http.isError(r)||(this.checkoutOutput=r,window.location.replace(r.webUrl))}}});const d=e=>(g("data-v-f0e2aabc"),e=e(),v(),e),I=d(()=>a("p",{class:"opacity-0"}," . ",-1)),S={key:0,class:"my-4"},C={key:0,class:"col-sm-12 card card-body ps-4"},q=M('<h5 class="mt-2" data-v-f0e2aabc> info </h5><p data-v-f0e2aabc>to ensure nobody snags multiple free products, you can only begin the checkout process <b data-v-f0e2aabc>once</b>!</p><p data-v-f0e2aabc>this requires:</p><ul data-v-f0e2aabc><li data-v-f0e2aabc>contact email <span class="text-secondary small" data-v-f0e2aabc>(must match your osu! account&#39;s email address)</span></li><li data-v-f0e2aabc>shipping address</li><li data-v-f0e2aabc>billing address <span class="text-secondary small" data-v-f0e2aabc>(can be the same as your shipping address)</span></li></ul><p data-v-f0e2aabc>when you&#39;ve gathered this info, checkout any product below :)</p>',5),N=[q],O={key:1,class:"double-center text-center"},P=d(()=>a("p",null,"request expired",-1)),U=d(()=>a("p",null,[u("if you think something went wrong, "),a("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat"),u(".")],-1)),V=[P,U],A={key:2},B={class:"text-lowercase"},E={class:"d-inline"},D=["src"],F={class:"small text-secondary"},T=["onClick"],j={key:0},G=d(()=>a("p",{class:"opacity-0"}," . ",-1)),L={key:1,class:"double-center"};function R(e,i,p,r,X,z){return t(),s("div",null,[I,e.clicked?(t(),s("div",L," redirecting to shopify checkout... ")):(t(),s("div",S,[e.loggedInUser.hasMerchAccess?(t(),s("div",C,N)):(t(),s("div",O,V)),e.loggedInUser.hasMerchAccess?(t(),s("hr",A)):_("",!0),a("div",null,[(t(!0),s(l,null,h(e.allMerch,o=>(t(),s("div",{key:o.id,class:"card card-level-2 card-body my-2 ps-4"},[a("h4",B,n(o.title),1),a("div",E,[(t(!0),s(l,null,h(o.images,c=>(t(),s("img",{key:c.id,src:c.src,class:"merch-img me-2 mb-2"},null,8,D))),128))]),a("div",F,n(o.description),1),(t(!0),s(l,null,h(o.variants,c=>(t(),s("div",{key:c.id},[a("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(o.id,c.id,m)},[u(" proceed to shopify checkout "),c.title!=="Default Title"?(t(),s("span",j,"("+n(c.selectedOptions[0].name)+": "+n(c.selectedOptions[0].value)+")",1)):_("",!0)],8,T)]))),128))]))),128))]),G]))])}const J=k(x,[["render",R],["__scopeId","data-v-f0e2aabc"]]);export{J as default};
