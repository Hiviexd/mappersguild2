var t=Object.defineProperty,e=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(e,s,r)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;import{d as n,h as o,o as u,b as f,f as c,j as l,w as p,F as m,g as A,t as b,e as g,m as y}from"./vendor.b9ef672a.js";import{_ as h}from"./FeaturedArtistInfo.3a60f15f.js";import{_ as I}from"./CopyPaste.4b23b3fb.js";import{_ as v}from"./DataTable.01cd035d.js";import"./ModalDialog.4a9168b4.js";import"./UserLinkList.9aab0eb3.js";var j=n({name:"ShowcaseUserList",components:{CopyPaste:I},data:()=>({songs:[]}),methods:{async findRecentlyLicensedSongs(t){const e=await this.$http.executeGet("/admin/featuredArtists/findRecentlyLicensedSongs",t);e&&!e.error&&(this.songs=e.songs)}}});const w={class:"container card card-body py-1 my-2"},O={key:0};j.render=function(t,e,s,r,d,a){const i=o("copy-paste");return u(),f("div",w,[c("button",{class:"btn btn-sm w-50 btn-outline-info mb-3",onClick:e[0]||(e[0]=e=>t.findRecentlyLicensedSongs(e))}," Load recently licensed songs "),t.songs.length?(u(),f("div",O,[l(i,{distinct:"songs"},{default:p((()=>[(u(!0),f(m,null,A(t.songs,((t,e)=>(u(),f("div",{key:e},b(t.artist)+" - "+b(t.title),1)))),128))])),_:1})])):g("",!0)])};var U,F,R={state:{featuredArtists:[]},mutations:{setFeaturedArtists(t,e){t.featuredArtists=e},updateOsuId(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.osuId=e.osuId)},updateName(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.label=e.name)},updateReferenceUrl(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.referenceUrl=e.referenceUrl)},updateOszTemplatesUrl(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.oszTemplatesUrl=e.oszTemplatesUrl)},updateOfferedUsers(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.offeredUsers=e.offeredUsers)},addSong(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&s.songs.push(e.song)},updateSong(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));if(s){const t=s.songs.findIndex((t=>t.id==e.song.id));-1!==t&&(s.songs[t]=e.song)}},deleteSong(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));if(s){const t=s.songs.findIndex((t=>t.id==e.songId));-1!==t&&s.songs.splice(t,1)}},updateNotes(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.notes=e.notes)},updateLastReviewed(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.lastReviewed=e.lastReviewed)},updatePermanentlyDismiss(t,e){const s=t.featuredArtists.find((t=>t.id==e.featuredArtistId));s&&(s.permanentlyDismiss=e.permanentlyDismiss)}}},S=n({components:{DataTable:v,FeaturedArtistInfo:h,RecentLicensedSongs:j},data:()=>({selectedFeaturedArtistId:""}),computed:(U=((t,e)=>{for(var s in e||(e={}))d.call(e,s)&&i(t,s,e[s]);if(r)for(var s of r(e))a.call(e,s)&&i(t,s,e[s]);return t})({},y({featuredArtists:t=>t.artistsAdmin.featuredArtists})),F={selectedFeaturedArtist(){return this.featuredArtists.find((t=>t.id===this.selectedFeaturedArtistId))}},e(U,s(F))),beforeCreate(){this.$store.hasModule("artistsAdmin")||this.$store.registerModule("artistsAdmin",R)},unmounted(){this.$store.hasModule("artistsAdmin")&&this.$store.unregisterModule("artistsAdmin")},async created(){const t=await this.$http.initialRequest("/admin/featuredArtists/load");this.$http.isError(t)||this.$store.commit("setFeaturedArtists",t)}});const L={class:"container card card-body py-1"},P={class:"row"},$={class:"col-sm"},k=["href"],D={key:1};S.render=function(t,e,s,r,d,a){const i=o("data-table"),n=o("recent-licensed-songs"),m=o("featured-artist-info");return u(),f("div",null,[c("div",L,[c("div",P,[c("div",$,[l(i,{data:t.featuredArtists,headers:["ARTIST"],"custom-data-target":"#editFeaturedArtist","onUpdate:selectedId":e[0]||(e[0]=e=>t.selectedFeaturedArtistId=e)},{default:p((({obj:t})=>[c("td",null,[t.osuId?(u(),f("a",{key:0,href:"https://osu.ppy.sh/beatmaps/artists/"+t.osuId,target:"_blank"},b(t.label),9,k)):(u(),f("span",D,b(t.label),1))])])),_:1},8,["data"])])])]),l(n),l(m,{"featured-artist":t.selectedFeaturedArtist},null,8,["featured-artist"])])};export{S as default};
