import{d as t,o as s,b as o,f as e,F as a,g as r,t as i,k as n}from"./vendor.cb33bf1d.js";var l=t({data:()=>({skip:100,logs:[]}),async created(){const t=await this.$http.initialRequest("/logs/query");this.$http.isError(t)||(this.logs=t.logs)},methods:{shortDate:t=>t?new Date(t).toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"",shortAction:t=>t?t.length>120?t.toString().slice(0,120)+"...":t:"",async showMore(t){const s=await this.$http.executeGet(`/logs/query?skip=${this.skip}`,t);this.$http.isError(s)||(this.skip+=100,this.logs=[...this.logs,...s.logs])}}});const c={class:"container card card-body pt-1 pb-4"},h={class:"row"},d={class:"col-md-12"},u={class:"table table-sm mt-3"},p=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," date "),e("th",{scope:"col"}," user "),e("th",{scope:"col"}," action ")])],-1),m={scope:"row"},g={scope:"row"},b={scope:"row"},w={class:"text-center"},y=[e("i",{class:"fas fa-angle-down me-1"},null,-1),n(" show more "),e("i",{class:"fas fa-angle-down ms-1"},null,-1)];l.render=function(t,n,l,f,k,v){return s(),o("div",c,[e("div",h,[e("div",d,[e("table",u,[p,e("tbody",null,[(s(!0),o(a,null,r(t.logs,(a=>(s(),o("tr",{key:a.id},[e("td",m,i(t.shortDate(a.createdAt)),1),e("td",g,i(a.user.username),1),e("td",b,i(t.shortAction(a.action)),1)])))),128))])]),e("div",w,[e("button",{class:"btn btn-sm btn-primary",type:"button",onClick:n[0]||(n[0]=s=>t.showMore(s))},y)])])])])};export{l as default};
