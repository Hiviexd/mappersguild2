import{d as t,p as e,a as s,i as a,o as i,u as o,w as n,l as d,t as c,j as r,f as u,s as l,b as p,q as m,O as h,m as f,k as y,e as g,F as b,g as I,n as q}from"./vendor.8b5721c7.js";import{_ as w}from"./BeatmapInfoAdmin.fe0ae126.js";import{_ as v}from"./QuestInfo.2a2934a1.js";import{_ as k}from"./ModalDialog.2c18b0dc.js";import{C as $}from"./CopyPaste.7cb4b414.js";import{_ as A}from"./UserInfo.76a821f9.js";import{a as C}from"./beatmap.b8797e7f.js";import{_ as P}from"./ModesIcons.88090f43.js";import"./AssociatedBeatmaps.6385f459.js";var M=t({name:"ReviewQuest",components:{CopyPaste:$,ModalDialog:k},props:{quest:{type:Object,required:!0}},data(){return{showArtistInput:!1,artistInput:this.quest.art,showNameInput:!1,nameInput:this.quest.name,showObjectiveInput:!1,objectiveInput:this.quest.descriptionMain,showRequiredMapsetsInput:!1,requiredMapsetsInput:this.quest.requiredMapsets,showPriceInput:!1,priceInput:this.quest.price,showTimeframeInput:!1,timeframeInput:this.quest.timeframe/864e5,showPartySizeInput:!1,minPartyInput:this.quest.minParty,maxPartyInput:this.quest.maxParty}},watch:{quest(){this.showArtistInput=!1,this.artistInput=this.quest.art,this.showNameInput=!1,this.nameInput=this.quest.name,this.showObjectiveInput=!1,this.objectiveInput=this.quest.descriptionMain,this.showRequiredMapsetsInput=!1,this.requiredMapsetsInput=this.quest.requiredMapsets,this.showPriceInput=!1,this.priceInput=this.quest.price,this.showTimeframeInput=!1,this.timeframeInput=this.quest.timeframe/864e5}},methods:{async acceptPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/schedule`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"scheduled quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async rejectPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/reject`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"rejected quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async updateArt(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateArt`,{art:this.artistInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated artist",type:"info"}),this.$store.commit("updateArt",{questId:this.quest.id,art:e}),this.showArtistInput=!1)},async renameQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/rename`,{name:this.nameInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"renamed quest",type:"info"}),this.$store.commit("renameQuest",{questId:this.quest.id,name:e}),this.showNameInput=!1)},async updateDescription(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateDescription/`,{description:this.objectiveInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated quest description",type:"info"}),this.$store.commit("updateDescription",{questId:this.quest.id,description:e}),this.showObjectiveInput=!1)},async updateRequiredMapsets(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateRequiredMapsets`,{requiredMapsets:this.requiredMapsetsInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated required mapsets",type:"info"}),this.$store.commit("updateRequiredMapsets",{questId:this.quest.id,requiredMapsets:e}),this.showRequiredMapsetsInput=!1)},async updatePrice(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updatePrice`,{price:this.priceInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated price",type:"info"}),this.$store.commit("updatePrice",{questId:this.quest.id,price:e}),this.showPriceInput=!1)},async updateTimeframe(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateTimeframe`,{timeframe:this.timeframeInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated timeframe",type:"info"}),this.$store.commit("updateTimeframe",{questId:this.quest.id,timeframe:e}),this.showTimeframeInput=!1)},async updateMinParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMinParty`,{minParty:this.minPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated minParty",type:"info"}),this.$store.commit("updateMinParty",{questId:this.quest.id,minParty:e}),this.showPartySizeInput=!1)},async updateMaxParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMaxParty`,{maxParty:this.maxPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated maxParty",type:"info"}),this.$store.commit("updateMaxParty",{questId:this.quest.id,maxParty:e}),this.showPartySizeInput=!1)}}});e("data-v-6ed48360");const x={class:"container"},Q={class:"small text-white-50"},B=d(" Artist "),U=[u("i",{class:"fas fa-edit"},null,-1)],L={key:0},T={key:1,class:"ms-2"},j=["href"],S=["src"],E={key:2,class:"ms-2"},R={class:"small text-white-50"},D=d(" Name "),N=[u("i",{class:"fas fa-edit"},null,-1)],O={key:3},_={key:4,class:"ms-2"},z={class:"small text-white-50"},G=d(" Objective "),V=[u("i",{class:"fas fa-edit"},null,-1)],F={key:5},K={key:6,class:"ms-2"},H={class:"small text-white-50"},J=d(" Required mapsets "),W=[u("i",{class:"fas fa-edit"},null,-1)],X={key:7},Y={key:8,class:"ms-2"},Z={class:"small text-white-50"},tt=d(" Price "),et=[u("i",{class:"fas fa-edit"},null,-1)],st={key:9},at={key:10,class:"ms-2"},it={class:"small text-white-50"},ot=d(" Timeframe "),nt=[u("i",{class:"fas fa-edit"},null,-1)],dt={key:11},ct={key:12,class:"ms-2"},rt={class:"small text-white-50"},ut=d(" Party size "),lt=[u("i",{class:"fas fa-edit"},null,-1)],pt={key:13},mt={key:14,class:"ms-2"},ht=u("div",{class:"small text-white-50"}," Party rank ",-1),ft={class:"ms-2"},yt=u("div",{class:"small text-white-50"}," MBC ",-1),gt={class:"ms-2"},bt=u("div",{class:"radial-divisor"},null,-1),It=u("button",{class:"btn btn-outline-secondary w-100","data-bs-toggle":"collapse","data-bs-target":"#forumPm"},[d(" See rejection message "),u("i",{class:"fas fa-angle-down"})],-1),qt={id:"forumPm",class:"collapse"},wt=u("div",null,"hello, you're receiving this message because you submitted a Mappers' Guild quest for review",-1),vt=u("div",null,"[box=your quest info]",-1),kt=u("div",null,"[/box]",-1),$t=u("div",null,"your quest has been rejected for the following reason(s):",-1),At=u("div",null,"[notice] REASONS [/notice]",-1),Ct=u("div",null,"points spent for submitting the quest have been returned to your \"available points\" pool. if you'd like to modify the quest according to above feedback, you can resubmit it and i'll review it again! or if you'd like to submit any other quest, that's fine too!",-1),Pt=u("div",null,"thanks for being cool",-1);s(),M.render=function(t,e,s,f,y,g){const b=a("user-link"),I=a("copy-paste"),q=a("modal-dialog");return i(),o(q,{id:"reviewQuest",loaded:Boolean(t.quest)},{header:n((()=>[d(c(t.quest.name)+" by ",1),r(b,{class:"text-dark",user:t.quest.creator},null,8,["user"])])),default:n((()=>[u("div",x,[u("div",Q,[B,u("a",{href:"#",onClick:e[0]||(e[0]=l((e=>t.showArtistInput=!t.showArtistInput),["prevent"]))},U)]),t.showArtistInput?(i(),p("p",L,[m(u("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.artistInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"artist ID...",onChange:e[2]||(e[2]=e=>t.updateArt(e))},null,544),[[h,t.artistInput,void 0,{number:!0}]])])):t.quest.art?(i(),p("p",T,[u("a",{href:"https://osu.ppy.sh/beatmaps/artists/"+t.quest.art,target:"_blank"},[u("img",{src:"https://assets.ppy.sh/artists/"+t.quest.art+"/cover.jpg",class:"card-avatar-img"},null,8,S)],8,j)])):(i(),p("p",E," None ")),u("div",R,[D,u("a",{href:"#",onClick:e[3]||(e[3]=l((e=>t.showNameInput=!t.showNameInput),["prevent"]))},N)]),t.showNameInput?(i(),p("p",O,[m(u("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.nameInput=e),class:"form-control form-control-sm w-100",type:"text",autocomplete:"off",placeholder:"name...",onChange:e[5]||(e[5]=e=>t.renameQuest(e))},null,544),[[h,t.nameInput]])])):(i(),p("p",_,c(t.quest.name),1)),u("div",z,[G,u("a",{href:"#",onClick:e[6]||(e[6]=l((e=>t.showObjectiveInput=!t.showObjectiveInput),["prevent"]))},V)]),t.showObjectiveInput?(i(),p("p",F,[m(u("textarea",{"onUpdate:modelValue":e[7]||(e[7]=e=>t.objectiveInput=e),class:"form-control form-control-sm w-100",rows:"2",type:"text",autocomplete:"off",placeholder:"objective...",onChange:e[8]||(e[8]=e=>t.updateDescription(e))},null,544),[[h,t.objectiveInput]])])):(i(),p("p",K,c(t.quest.descriptionMain),1)),u("div",H,[J,u("a",{href:"#",onClick:e[9]||(e[9]=l((e=>t.showRequiredMapsetsInput=!t.showRequiredMapsetsInput),["prevent"]))},W)]),t.showRequiredMapsetsInput?(i(),p("p",X,[m(u("input",{"onUpdate:modelValue":e[10]||(e[10]=e=>t.requiredMapsetsInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"required mapsets...",onChange:e[11]||(e[11]=e=>t.updateRequiredMapsets(e))},null,544),[[h,t.requiredMapsetsInput,void 0,{number:!0}]])])):(i(),p("p",Y,c(t.quest.requiredMapsets),1)),u("div",Z,[tt,u("a",{href:"#",onClick:e[12]||(e[12]=l((e=>t.showPriceInput=!t.showPriceInput),["prevent"]))},et)]),t.showPriceInput?(i(),p("p",st,[m(u("input",{"onUpdate:modelValue":e[13]||(e[13]=e=>t.priceInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"price per party member...",onChange:e[14]||(e[14]=e=>t.updatePrice(e))},null,544),[[h,t.priceInput,void 0,{number:!0}]])])):(i(),p("p",at,c(t.quest.price)+" points per user ",1)),u("div",it,[ot,u("a",{href:"#",onClick:e[15]||(e[15]=l((e=>t.showTimeframeInput=!t.showTimeframeInput),["prevent"]))},nt)]),t.showTimeframeInput?(i(),p("p",dt,[m(u("input",{"onUpdate:modelValue":e[16]||(e[16]=e=>t.timeframeInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"days...",onChange:e[17]||(e[17]=e=>t.updateTimeframe(e))},null,544),[[h,t.timeframeInput,void 0,{number:!0}]])])):(i(),p("p",ct,c(t.quest.timeframe/864e5)+" days ",1)),u("div",rt,[ut,u("a",{href:"#",onClick:e[18]||(e[18]=l((e=>t.showPartySizeInput=!t.showPartySizeInput),["prevent"]))},lt)]),t.showPartySizeInput?(i(),p("p",pt,[m(u("input",{"onUpdate:modelValue":e[19]||(e[19]=e=>t.minPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"minimum",onChange:e[20]||(e[20]=e=>t.updateMinParty(e))},null,544),[[h,t.minPartyInput,void 0,{number:!0}]]),m(u("input",{"onUpdate:modelValue":e[21]||(e[21]=e=>t.maxPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"maximum",onChange:e[22]||(e[22]=e=>t.updateMaxParty(e))},null,544),[[h,t.maxPartyInput,void 0,{number:!0}]])])):(i(),p("p",mt,c(t.quest.minParty)+"-"+c(t.quest.maxParty)+" members ",1)),ht,u("p",ft,c(t.quest.minRank)+" rank required ",1),yt,u("p",gt,c(t.quest.isMbc?"yes":"no"),1),bt,u("button",{type:"submit",class:"btn btn-outline-success w-100",onClick:e[23]||(e[23]=e=>t.acceptPendingQuest(e))}," Schedule quest "),u("button",{type:"submit",class:"btn btn-outline-danger w-100",onClick:e[24]||(e[24]=e=>t.rejectPendingQuest(e))}," Reject quest "),It,u("div",qt,[r(I,null,{default:n((()=>[wt,vt,u("div",null,"Artist: "+c("https://osu.ppy.sh/beatmaps/artists/"+t.quest.art),1),u("div",null,"Name: "+c(t.quest.name),1),u("div",null,"Objective: "+c(t.quest.descriptionMain),1),u("div",null,"Required mapsets: "+c(t.quest.requiredMapsets),1),u("div",null,"Price: "+c(t.quest.price)+" points per user",1),u("div",null,"Timeframe: "+c(t.quest.timeframe/864e5)+" days",1),u("div",null,"Party size: "+c(t.quest.minParty)+"-"+c(t.quest.maxParty)+" members",1),kt,$t,At,Ct,Pt])),_:1})])])])),_:1},8,["loaded"])},M.__scopeId="data-v-6ed48360";var Mt=t({name:"ContestInfo",components:{ModalDialog:k},props:{contest:{type:Object,default:null}},methods:{async toggleIsApproved(t){const e=await this.$http.executePost(`/admin/contests/${this.contest.id}/toggleIsApproved`,{isApproved:!this.contest.isApproved},t);e&&(this.$store.dispatch("updateToastMessages",{message:`set isApproved to ${e.isApproved}`,type:"info"}),this.$store.commit("updateIsApproved",{contestId:this.contest.id,isApproved:e.isApproved}))}}});const xt={class:"container"};Mt.render=function(t,e,s,r,l,p){const m=a("modal-dialog");return i(),o(m,{id:"editContest",loaded:Boolean(t.contest)},{header:n((()=>[d(c(t.contest.name),1)])),default:n((()=>[u("div",xt,[u("p",null,[u("button",{class:"btn btn-sm btn-outline-info w-100",onClick:e[0]||(e[0]=e=>t.toggleIsApproved(e))},c(t.contest.isApproved?"Disable":"Enable")+" public visibility ",1)])])])),_:1},8,["loaded"])};var Qt={state:{actionBeatmaps:[],actionBeatmapsLoading:!1,actionQuests:[],actionQuestsLoading:!1,actionUsers:[],actionUsersLoading:!1,actionContests:[],actionContestsLoading:!1,selectedBeatmap:null,selectedQuest:null,selectedUser:null,selectedContest:null},mutations:{setActionBeatmaps(t,e){t.actionBeatmaps=e},setActionBeatmapsLoading(t,e){t.actionBeatmapsLoading=e},setActionQuests(t,e){t.actionQuests=e},setActionQuestsLoading(t,e){t.actionQuestsLoading=e},setActionUsers(t,e){t.actionUsers=e},setActionUsersLoading(t,e){t.actionUsersLoading=e},setActionContests(t,e){t.actionContests=e},setActionContestsLoading(t,e){t.actionContestsLoading=e},setSelectedBeatmap(t,e){t.selectedBeatmap=e},setSelectedQuest(t,e){t.selectedQuest=e},setSelectedUser(t,e){t.selectedUser=e},setSelectedContest(t,e){t.selectedContest=e},updateBeatmapStatus(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s&&(s.status=e.status,s.status==C.Ranked)){const s=t.actionBeatmaps.findIndex((t=>t.id===e.beatmapId));t.actionBeatmaps.splice(s,1)}},deleteTask(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&s.tasks.splice(t,1)}},deleteModder(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.modders.findIndex((t=>t.id==e.modderId));-1!==t&&s.modders.splice(t,1)}},updateUrl(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.url=e.url)},updateStoryboardQuality(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&(s.tasks[t]=e.task)}},updatePackId(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.packId=e.packId)},updateIsShowcase(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.isShowcase=e.isShowcase)},updateQueuedForRank(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.queuedForRank=e.queuedForRank)},updateArt(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.art=e.art)},renameQuest(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.name=e.name)},updateDescription(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.descriptionMain=e.description)},updateRequiredMapsets(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.requiredMapsets=e.requiredMapsets)},updatePrice(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.price=e.price)},updateTimeframe(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.timeframe=864e5*e.timeframe)},updateMinParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.minParty=e.minParty)},updateMaxParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.maxParty=e.maxParty)},updateStatus(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));if(s&&(s.status=e.status,"open"==s.status||"rejected"==s.status)){const s=t.actionQuests.findIndex((t=>t.id===e.questId));t.actionQuests.splice(s,1)}},updateQueuedForCompletion(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.queuedForCompletion=e.queuedForCompletion)},updateGroup(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.group=e.group)},updateBadge(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.queuedBadge=e.badge)},updateDiscordId(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.discordId=e.discordId)},updateBypassLogin(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.bypassLogin=e.bypassLogin)}}},Bt=t({name:"AdminPage",components:{BeatmapInfoAdmin:w,QuestInfo:v,ReviewQuest:M,UserInfo:A,ContestInfo:Mt,ModesIcons:P},computed:f({actionBeatmaps:t=>t.admin.actionBeatmaps,actionBeatmapsLoading:t=>t.admin.actionBeatmapsLoading,actionQuests:t=>t.admin.actionQuests,actionQuestsLoading:t=>t.admin.actionQuestsLoading,actionUsers:t=>t.admin.actionUsers,actionUsersLoading:t=>t.admin.actionUsersLoading,actionContests:t=>t.admin.actionContests,actionContestsLoading:t=>t.admin.actionContestsLoading,selectedBeatmap:t=>t.admin.selectedBeatmap,selectedQuest:t=>t.admin.selectedQuest,selectedUser:t=>t.admin.selectedUser,selectedContest:t=>t.admin.selectedContest}),beforeCreate(){this.$store.hasModule("admin")||this.$store.registerModule("admin",Qt)},unmounted(){this.$store.hasModule("admin")&&this.$store.unregisterModule("admin")},methods:{generateMetadata(t){let e=t.artist+" - ";return t.title.length>40?e+=t.title.slice(0,40)+"...":e+=t.title,e},async loadActionBeatmaps(t){{this.$store.commit("setActionBeatmaps",[]),this.$store.commit("setActionBeatmapsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionBeatmaps",t);this.$http.isError(e)||this.$store.commit("setActionBeatmaps",e),this.$store.commit("setActionBeatmapsLoading",!1)}},async loadActionQuests(t){this.$store.commit("setActionQuests",[]),this.$store.commit("setActionQuestsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionQuests",t);this.$http.isError(e)||this.$store.commit("setActionQuests",e),this.$store.commit("setActionQuestsLoading",!1)},async loadActionUsers(t){this.$store.commit("setActionUsers",[]),this.$store.commit("setActionUsersLoading",!0);const e=await this.$http.executeGet("/admin/loadActionUsers",t);this.$http.isError(e)||this.$store.commit("setActionUsers",e),this.$store.commit("setActionUsersLoading",!1)},async loadActionContests(t){this.$store.commit("setActionContests",[]),this.$store.commit("setActionContestsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionContests",t);this.$http.isError(e)||this.$store.commit("setActionContests",e),this.$store.commit("setActionContestsLoading",!1)}}});const Ut={class:"container card card-body py-1 mb-4"},Lt={class:"row mx-3 mt-2"},Tt={class:"row"},jt={class:"col"},St={class:"ms-4 mt-2"},Et=u("a",{href:"#actionBeatmaps","data-bs-toggle":"collapse"},[d(" Beatmaps "),u("i",{class:"fas fa-angle-down"})],-1),Rt={key:0,class:"ms-2 small text-white-50"},Dt={id:"actionBeatmaps",class:"show"},Nt={key:0,class:"table table-sm"},Ot=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," METADATA "),u("th",{scope:"col"}," PACK ID "),u("th",{scope:"col"}," STATUS "),u("th",{scope:"col"}," EDIT ")])],-1),_t={scope:"row"},zt=["href"],Gt={key:1,class:"ms-1"},Vt={scope:"row"},Ft={scope:"row"},Kt={scope:"row"},Ht=["onClick"],Jt={key:1,class:"text-white-50 ms-5"},Wt={class:"container card card-body py-1 mb-4"},Xt={class:"row mx-3 mt-2"},Yt={class:"row"},Zt={class:"col"},te={class:"ms-4 mt-2"},ee=u("a",{href:"#actionQuests","data-bs-toggle":"collapse"},[d(" Quests "),u("i",{class:"fas fa-angle-down"})],-1),se={key:0,class:"ms-2 small text-white-50"},ae={id:"actionQuests",class:"show"},ie={key:0,class:"table table-sm"},oe=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," NAME "),u("th",{scope:"col"}," CREATOR "),u("th",{scope:"col"}," MODES "),u("th",{scope:"col"}," STATUS "),u("th",{scope:"col"}," MAPSETS "),u("th",{scope:"col"}," EDIT ")])],-1),ne={scope:"row"},de={scope:"row"},ce={scope:"row"},re={scope:"row"},ue={scope:"row"},le={scope:"row"},pe=["data-bs-target","onClick"],me={key:1,class:"text-white-50 ms-5"},he={class:"container card card-body py-1 mb-4"},fe={class:"row mx-3 mt-2"},ye={class:"row"},ge={class:"col"},be={class:"ms-4 mt-2"},Ie=u("a",{href:"#actionUsers","data-bs-toggle":"collapse"},[d(" Users "),u("i",{class:"fas fa-angle-down"})],-1),qe={key:0,class:"ms-2 small text-white-50"},we={key:0,id:"actionUsers",class:"show"},ve={key:0,class:"table table-sm"},ke=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," USERNAME "),u("th",{scope:"col"}," RANK "),u("th",{scope:"col"}," QUEUED BADGE "),u("th",{scope:"col"}," BADGE "),u("th",{scope:"col"}," EDIT ")])],-1),$e={scope:"row"},Ae={scope:"row"},Ce={scope:"row"},Pe=["onClick"],Me={key:1,class:"text-white-50 ms-5"},xe={class:"container card card-body py-1"},Qe={class:"row mx-3 mt-2"},Be={class:"row"},Ue={class:"col"},Le={class:"ms-4 mt-2"},Te=u("a",{href:"#actionContests","data-bs-toggle":"collapse"},[d(" Contests "),u("i",{class:"fas fa-angle-down"})],-1),je={key:0,class:"ms-2 small text-white-50"},Se={key:0,id:"actionContests",class:"show"},Ee={key:0,class:"table table-sm"},Re=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," CONTEST "),u("th",{scope:"col"}," CREATOR "),u("th",{scope:"col"}," EDIT ")])],-1),De={scope:"row"},Ne=["href"],Oe={scope:"row"},_e={scope:"row"},ze=["onClick"],Ge={key:1,class:"text-white-50 ms-5"},Ve=u("div",{class:"radial-divisor"},null,-1);Bt.render=function(t,e,s,n,d,h){const f=a("modes-icons"),w=a("user-link"),v=a("beatmap-info-admin"),k=a("quest-info"),$=a("review-quest"),A=a("user-info"),C=a("contest-info"),P=y("bs-tooltip");return i(),p("div",null,[u("div",Ut,[u("div",Lt,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[0]||(e[0]=e=>t.loadActionBeatmaps(e,!1))}," Load beatmaps ")]),u("div",Tt,[u("div",jt,[u("h5",St,[Et,t.actionBeatmapsLoading?(i(),p("span",Rt,"loading...")):g("",!0)]),u("div",Dt,[t.actionBeatmaps.length?(i(),p("table",Nt,[Ot,u("tbody",null,[(i(!0),p(b,null,I(t.actionBeatmaps,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",_t,[r(f,{modes:[e.mode]},null,8,["modes"]),e.url?(i(),p("a",{key:0,href:e.url,class:"ms-1"},c(t.generateMetadata(e.song)),9,zt)):(i(),p("span",Gt,c(t.generateMetadata(e.song)),1))]),u("td",Vt,c(e.packId),1),u("td",Ft,c(e.status),1),u("td",Kt,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editBeatmap",onClick:l((s=>t.$store.commit("setSelectedBeatmap",e)),["prevent"])}," edit ",8,Ht)])])))),128))])])):t.actionBeatmapsLoading?g("",!0):(i(),p("span",Jt,"None..."))])])])]),u("div",Wt,[u("div",Xt,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[1]||(e[1]=e=>t.loadActionQuests(e))}," Load quests ")]),u("div",Yt,[u("div",Zt,[u("h5",te,[ee,t.actionQuestsLoading?(i(),p("span",se,"loading...")):g("",!0)]),u("div",ae,[t.actionQuests.length?(i(),p("table",ie,[oe,u("tbody",null,[(i(!0),p(b,null,I(t.actionQuests,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",ne,c(e.name),1),u("td",de,c(e.creator.username),1),u("td",ce,[r(f,{modes:e.modes},null,8,["modes"])]),u("td",re,c(e.status),1),u("td",ue,c(e.requiredMapsets),1),u("td",le,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"pending"==e.status?"#reviewQuest":"#editQuest",onClick:l((s=>t.$store.commit("setSelectedQuest",e)),["prevent"])}," edit ",8,pe)])])))),128))])])):t.actionQuestsLoading?g("",!0):(i(),p("span",me,"None..."))])])])]),u("div",he,[u("div",fe,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[2]||(e[2]=e=>t.loadActionUsers(e))}," Load users ")]),u("div",ye,[u("div",ge,[u("h5",be,[Ie,t.actionUsersLoading?(i(),p("span",qe,"loading...")):g("",!0)]),t.actionUsers?(i(),p("div",we,[t.actionUsers.length?(i(),p("table",ve,[ke,u("tbody",null,[(i(!0),p(b,null,I(t.actionUsers,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",$e,[r(w,{user:e},null,8,["user"])]),u("td",Ae,[e.rank?m((i(),p("i",{key:0,class:q(["fas fa-crown","text-rank-"+e.rank])},null,2)),[[P,`rank ${e.rank} user`]]):g("",!0)]),u("td",{scope:"row",class:q({"bg-open":e.rank!=e.queuedBadge})},[e.queuedBadge?m((i(),p("i",{key:0,class:q(["fas fa-crown","text-rank-"+e.queuedBadge])},null,2)),[[P,`rank ${e.queuedBadge} user`]]):g("",!0)],2),u("td",{scope:"row",class:q({"bg-open":e.rank!=e.badge})},[e.badge?m((i(),p("i",{key:0,class:q(["fas fa-crown","text-rank-"+e.badge])},null,2)),[[P,`rank ${e.badge} user`]]):g("",!0)],2),u("td",Ce,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editUser",onClick:l((s=>t.$store.commit("setSelectedUser",e)),["prevent"])}," edit ",8,Pe)])])))),128))])])):t.actionUsersLoading?g("",!0):(i(),p("span",Me,"None..."))])):g("",!0)])])]),u("div",xe,[u("div",Qe,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[3]||(e[3]=e=>t.loadActionContests(e))}," Load contests ")]),u("div",Be,[u("div",Ue,[u("h5",Le,[Te,t.actionContestsLoading?(i(),p("span",je,"loading...")):g("",!0)]),t.actionContests?(i(),p("div",Se,[t.actionContests.length?(i(),p("table",Ee,[Re,u("tbody",null,[(i(!0),p(b,null,I(t.actionContests,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",De,[u("a",{href:"/contests/listing?contest="+e.id},c(e.name),9,Ne)]),u("td",Oe,[r(w,{user:e.creator},null,8,["user"])]),u("td",_e,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editContest",onClick:l((s=>t.$store.commit("setSelectedContest",e)),["prevent"])}," edit ",8,ze)])])))),128))])])):t.actionContestsLoading?g("",!0):(i(),p("span",Ge,"None..."))])):g("",!0)])])]),Ve,t.selectedBeatmap?(i(),o(v,{key:0,beatmap:t.selectedBeatmap},null,8,["beatmap"])):g("",!0),t.selectedQuest?(i(),o(k,{key:1,quest:t.selectedQuest},null,8,["quest"])):g("",!0),t.selectedQuest?(i(),o($,{key:2,quest:t.selectedQuest},null,8,["quest"])):g("",!0),t.selectedUser?(i(),o(A,{key:3,user:t.selectedUser},null,8,["user"])):g("",!0),t.selectedContest?(i(),o(C,{key:4,contest:t.selectedContest},null,8,["contest"])):g("",!0)])};export{Bt as default};
