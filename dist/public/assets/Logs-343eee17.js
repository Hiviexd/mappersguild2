import{d as a,_ as c,o as r,e as n,a as s,F as l,r as d,t as i,h}from"./index-e8fe40e3.js";const u=a({data(){return{skip:100,logs:[]}},async created(){const t=await this.$http.initialRequest("/logs/query");this.$http.isError(t)||(this.logs=t.logs)},methods:{shortDate(t){return t?new Date(t).toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):""},shortAction(t){return t?t.length>120?t.toString().slice(0,120)+"...":t:""},async showMore(t){const o=await this.$http.executeGet(`/logs/query?skip=${this.skip}`,t);this.$http.isError(o)||(this.skip+=100,this.logs=[...this.logs,...o.logs])}}}),p={class:"container card card-body pt-1 pb-4"},_={class:"row"},m={class:"col-md-12"},f={class:"table table-sm mt-3"},g=s("thead",null,[s("tr",null,[s("th",{scope:"col"}," date "),s("th",{scope:"col"}," user "),s("th",{scope:"col"}," action ")])],-1),w={scope:"row"},y={scope:"row"},b={scope:"row"},$={class:"text-center"},k=s("i",{class:"fas fa-angle-down me-1"},null,-1),v=s("i",{class:"fas fa-angle-down ms-1"},null,-1);function D(t,o,S,q,A,B){return r(),n("div",p,[s("div",_,[s("div",m,[s("table",f,[g,s("tbody",null,[(r(!0),n(l,null,d(t.logs,e=>(r(),n("tr",{key:e.id},[s("td",w,i(t.shortDate(e.createdAt)),1),s("td",y,i(e.user.username),1),s("td",b,i(t.shortAction(e.action)),1)]))),128))])]),s("div",$,[s("button",{class:"btn btn-sm btn-primary",type:"button",onClick:o[0]||(o[0]=e=>t.showMore(e))},[k,h(" show more "),v])])])])])}const E=c(u,[["render",D]]);export{E as default};
