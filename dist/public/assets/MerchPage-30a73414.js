import{d as k,m as f,z as y,_ as g,o as t,e as s,a as c,F as l,r as h,t as n,j as u,k as _,s as v,u as b,X as w}from"./index-d778fb55.js";const M={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,o){e.merch=o}},getters:{allMerch:e=>e.merch}},$=M,S=k({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1}},computed:{...f(["loggedInUser"]),...y("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",$)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,o,p){this.clicked=!0;const r=await this.$http.executePost("/merch/checkout",{gid:e,vid:o},p);this.$http.isError(r)||(this.checkoutOutput=r,window.location.replace(r.webUrl))},async checkoutSpecific(e){this.clicked=!0;const o=await this.$http.executePost("/merch/checkout",{},e);this.$http.isError(o)||(this.checkoutOutput=o,window.location.replace(o.webUrl))}}});const i=e=>(v("data-v-3daccfd5"),e=e(),b(),e),x=i(()=>c("p",{class:"opacity-0"}," . ",-1)),I={key:0,class:"my-4"},C={key:0,class:"col-sm-12 card card-body ps-4"},O=w('<h5 class="mt-2" data-v-3daccfd5> info </h5><p data-v-3daccfd5>all products listed here have a 100% discount. prices are still listed on the checkout page for tax reasons</p><p data-v-3daccfd5>you can only begin the checkout process <b data-v-3daccfd5>once</b>! this requires...</p><ul data-v-3daccfd5><li data-v-3daccfd5>contact email</li><li data-v-3daccfd5>shipping address</li><li data-v-3daccfd5>billing address <span class="text-secondary small" data-v-3daccfd5>(can be the same as your shipping address)</span></li></ul><p data-v-3daccfd5>when you&#39;ve gathered this info, checkout below :)</p>',5),U=[O],P={key:1,class:"double-center text-center"},q=i(()=>c("p",null,"request expired",-1)),E=i(()=>c("p",null,[u("if you think something went wrong, "),c("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat"),u(".")],-1)),N=[q,E],V={key:2},B=i(()=>c("hr",null,null,-1)),A={key:0},D={key:1},F={class:"text-lowercase"},T={class:"d-inline"},j=["src"],z={class:"small text-secondary"},G=["onClick"],L={key:0},R=i(()=>c("p",{class:"opacity-0"}," . ",-1)),X={key:1,class:"double-center"};function H(e,o,p,r,J,K){return t(),s("div",null,[x,e.clicked?(t(),s("div",X," redirecting to shopify checkout... ")):(t(),s("div",I,[e.loggedInUser.hasMerchAccess?(t(),s("div",C,U)):(t(),s("div",P,N)),e.loggedInUser.hasMerchAccess?(t(),s("div",V,[B,e.loggedInUser.hasSpecificMerchOrder?(t(),s("div",A,[c("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:o[0]||(o[0]=a=>e.checkoutSpecific(a))}," your order has already been selected. proceed to checkout ")])):(t(),s("div",D,[(t(!0),s(l,null,h(e.allMerch,a=>(t(),s("div",{key:a.id,class:"card card-level-2 card-body my-2 ps-4"},[c("h4",F,n(a.title),1),c("div",T,[(t(!0),s(l,null,h(a.images,d=>(t(),s("img",{key:d.id,src:d.src,class:"merch-img me-2 mb-2"},null,8,j))),128))]),c("div",z,n(a.description),1),(t(!0),s(l,null,h(a.variants,d=>(t(),s("div",{key:d.id},[c("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(a.id,d.id,m)},[u(" proceed to shopify checkout "),d.title!=="Default Title"?(t(),s("span",L,"("+n(d.selectedOptions[0].name)+": "+n(d.selectedOptions[0].value)+")",1)):_("",!0)],8,G)]))),128))]))),128))])),R])):_("",!0)]))])}const W=g(S,[["render",H],["__scopeId","data-v-3daccfd5"]]);export{W as default};
