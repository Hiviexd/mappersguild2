import{d as _,m as g,z as y,_ as k,o as t,e as o,a as s,j as h,t as l,k as r,F as u,r as p,b as v,v as w,s as b,u as f,X as M}from"./index-79e4d061.js";const C={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,c){e.merch=c}},getters:{allMerch:e=>e.merch}},I=C,S=_({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1,worldCupSweaterSize:""}},computed:{...g(["loggedInUser"]),...y("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",I)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,c){this.clicked=!0;const n=await this.$http.executePost("/merch/checkout",{vid:e,size:this.worldCupSweaterSize},c);console.log(n),this.$http.isError(n)||(this.checkoutOutput=n,window.location.replace(n.webUrl))}}});const a=e=>(b("data-v-7c29315f"),e=e(),f(),e),U=a(()=>s("p",{class:"opacity-0"}," . ",-1)),$={key:0,class:"my-4"},z={key:0,class:"col-sm-12 card card-body ps-4"},L=M('<h5 class="mt-2" data-v-7c29315f> info </h5><div data-v-7c29315f>you can only begin the checkout process <b data-v-7c29315f>once</b>! this requires...</div><ul data-v-7c29315f><li data-v-7c29315f>contact email <span class="text-secondary small" data-v-7c29315f>(this must be the same as your osu! account&#39;s email)</span></li><li data-v-7c29315f>shipping address</li><li data-v-7c29315f>billing address <span class="text-secondary small" data-v-7c29315f>(can be the same as your shipping address)</span></li></ul><div data-v-7c29315f>when you&#39;ve gathered this info, checkout below :)</div>',4),X=[L],O={key:1,class:"double-center text-center"},V=a(()=>s("p",null,"request expired",-1)),q=a(()=>s("p",null,[h("if you think something went wrong, "),s("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat")],-1)),N=[V,q],P={key:2},B=a(()=>s("hr",null,null,-1)),D={key:0},E={key:1},A={class:"card card-body my-2 ps-4"},F=a(()=>s("div",null," based on your world cup placement(s), you'll receive these prizes: ",-1)),T={key:0,class:"text-secondary small"},j={key:0},G=a(()=>s("span",{class:"small text-secondary"},"(instead of the extra sweater above^)",-1)),R={key:1},H=a(()=>s("li",null,"world cup sticker",-1)),J={key:2},K=a(()=>s("option",{disabled:"",value:""}," Select a size ",-1)),Q=["disabled"],W=a(()=>s("option",{value:"M"}," Medium ",-1)),Y=a(()=>s("option",{value:"L"}," Large ",-1)),Z=a(()=>s("option",{value:"XL"}," XL ",-1)),x=["disabled"],ee=["disabled"],se=["disabled"],te={key:2},oe={class:"text-lowercase"},de={class:"d-inline"},ae=["src"],ce={class:"small text-secondary"},ie=["onClick"],le={key:0},re=a(()=>s("p",{class:"opacity-0"}," . ",-1)),ne={key:1,class:"double-center"};function he(e,c,n,ue,pe,me){return t(),o("div",null,[U,e.clicked?(t(),o("div",ne," redirecting to shopify checkout... ")):(t(),o("div",$,[e.loggedInUser.hasMerchAccess?(t(),o("div",z,X)):(t(),o("div",O,N)),e.loggedInUser.hasMerchAccess?(t(),o("div",P,[B,e.loggedInUser.hasSpecificMerchOrder?(t(),o("div",D,[s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:c[0]||(c[0]=d=>e.checkout(null,d))}," your order has already been selected! proceed to checkout ")])):e.loggedInUser.worldCupMerch.active?(t(),o("div",E,[s("div",A,[F,s("ul",null,[s("li",null,[h(l(e.loggedInUser.worldCupMerch.sweater)+" world cup sweater ",1),e.loggedInUser.worldCupMerch.additionalItems?(t(),o("span",T,"(for shipping reasons, we can only send one sweater)")):r("",!0)]),e.loggedInUser.worldCupMerch.additionalItems?(t(),o("li",j,[h(l(e.loggedInUser.worldCupMerch.additionalItems)+" additional item(s) ",1),G])):r("",!0),e.loggedInUser.worldCupMerch.pin?(t(),o("li",R,"world cup pin")):r("",!0),H,e.loggedInUser.worldCupMerch.coins.length?(t(),o("span",J,[(t(!0),o(u,null,p(e.loggedInUser.worldCupMerch.coins,d=>(t(),o("li",{key:d},l(d)+" challenge coin",1))),128))])):r("",!0)]),h(" choose a sweater size: "),v(s("select",{"onUpdate:modelValue":c[1]||(c[1]=d=>e.worldCupSweaterSize=d),class:"form-select form-select-sm mb-2"},[K,s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023&&e.loggedInUser.username!="mrekk",value:"S"}," Small ",8,Q),W,Y,Z,s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023,value:"2XL"}," 2XL ",8,x),s("option",{disabled:e.loggedInUser.worldCupMerch.sweater==2023,value:"3XL"}," 3xL ",8,ee)],512),[[w,e.worldCupSweaterSize]]),s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",disabled:!e.worldCupSweaterSize,onClick:c[2]||(c[2]=d=>e.checkout(null,d))}," proceed to shopify checkout ",8,se)])])):(t(),o("div",te,[(t(!0),o(u,null,p(e.allMerch,d=>(t(),o("div",{key:d.id,class:"card card-level-2 card-body my-2 ps-4"},[s("h4",oe,l(d.title),1),s("div",de,[(t(!0),o(u,null,p(d.images,i=>(t(),o("img",{key:i.id,src:i.src,class:"merch-img me-2 mb-2"},null,8,ae))),128))]),s("div",ce,l(d.description),1),(t(!0),o(u,null,p(d.variants,i=>(t(),o("div",{key:i.id},[s("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(i.id,m)},[h(" proceed to shopify checkout "),i.title!=="Default Title"?(t(),o("span",le,"("+l(i.selectedOptions[0].name)+": "+l(i.selectedOptions[0].value)+")",1)):r("",!0)],8,ie)]))),128))]))),128))])),re])):r("",!0)]))])}const ge=k(S,[["render",he],["__scopeId","data-v-7c29315f"]]);export{ge as default};
