import{d as _,m as v,z as g,_ as y,o as t,e as s,a as o,j as u,t as c,k as n,F as h,r as p,b as k,v as w,s as f,u as M,X as b}from"./index-3a3c2d9b.js";const S={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,d){e.merch=d}},getters:{allMerch:e=>e.merch}},C=S,I=_({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1,worldCupSweaterSize:""}},computed:{...v(["loggedInUser"]),...g("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",C)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,d){this.clicked=!0;const r=await this.$http.executePost("/merch/checkout",{vid:e,size:this.worldCupSweaterSize},d);console.log(r),this.$http.isError(r)||(this.checkoutOutput=r,window.location.replace(r.webUrl))}}});const l=e=>(f("data-v-9deab67b"),e=e(),M(),e),U=l(()=>o("p",{class:"opacity-0"}," . ",-1)),$={key:0,class:"my-4"},z={key:0,class:"col-sm-12 card card-body ps-4"},L=b('<h5 class="mt-2" data-v-9deab67b> info </h5><div class="mb-2" data-v-9deab67b>all products listed here have a 100% discount. prices are still listed on the checkout page for tax/customs reasons. they are lower than retail prices.</div><div data-v-9deab67b>you can only begin the checkout process <b data-v-9deab67b>once</b>! this requires...</div><ul data-v-9deab67b><li data-v-9deab67b>contact email <span class="text-secondary small" data-v-9deab67b>(this must be the same as your osu! account&#39;s email)</span></li><li data-v-9deab67b>shipping address</li><li data-v-9deab67b>billing address <span class="text-secondary small" data-v-9deab67b>(can be the same as your shipping address)</span></li></ul><div data-v-9deab67b>when you&#39;ve gathered this info, checkout below :)</div>',5),X=[L],O={key:1,class:"double-center text-center"},V=l(()=>o("p",null,"request expired",-1)),q=l(()=>o("p",null,[u("if you think something went wrong, "),o("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat")],-1)),N=[V,q],P={key:2},B=l(()=>o("hr",null,null,-1)),D={key:0},E={key:1},A={class:"card card-body my-2 ps-4"},F=l(()=>o("div",null," based on your world cup placement(s), you'll receive these prizes: ",-1)),T={key:0,class:"text-secondary small"},j={key:0},x=l(()=>o("span",{class:"small text-secondary"},"(instead of the extra sweater above^)",-1)),G={key:1},R=l(()=>o("li",null,"world cup sticker",-1)),H={key:2},J=b('<option disabled value="" data-v-9deab67b> Select a size </option><option value="S" data-v-9deab67b> Small </option><option value="M" data-v-9deab67b> Medium </option><option value="L" data-v-9deab67b> Large </option><option value="XL" data-v-9deab67b> XL </option><option value="2XL" data-v-9deab67b> 2XL </option><option value="3XL" data-v-9deab67b> 3xL </option>',7),K=[J],Q=["disabled"],W={key:2},Y={class:"text-lowercase"},Z={class:"d-inline"},ee=["src"],te={class:"small text-secondary"},se=["onClick"],oe={key:0},ae=l(()=>o("p",{class:"opacity-0"}," . ",-1)),de={key:1,class:"double-center"};function ie(e,d,r,le,ce,ne){return t(),s("div",null,[U,e.clicked?(t(),s("div",de," redirecting to shopify checkout... ")):(t(),s("div",$,[e.loggedInUser.hasMerchAccess?(t(),s("div",z,X)):(t(),s("div",O,N)),e.loggedInUser.hasMerchAccess?(t(),s("div",P,[B,e.loggedInUser.hasSpecificMerchOrder?(t(),s("div",D,[o("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:d[0]||(d[0]=a=>e.checkout(null,a))}," your order has already been selected! proceed to checkout ")])):e.loggedInUser.worldCupMerch.active?(t(),s("div",E,[o("div",A,[F,o("ul",null,[o("li",null,[u(c(e.loggedInUser.worldCupMerch.sweater)+" world cup sweater ",1),e.loggedInUser.worldCupMerch.additionalItems?(t(),s("span",T,"(for shipping reasons, we can only send one sweater)")):n("",!0)]),e.loggedInUser.worldCupMerch.additionalItems?(t(),s("li",j,[u(c(e.loggedInUser.worldCupMerch.additionalItems)+" additional item(s) ",1),x])):n("",!0),e.loggedInUser.worldCupMerch.pin?(t(),s("li",G,"world cup pin")):n("",!0),R,e.loggedInUser.worldCupMerch.coins.length?(t(),s("span",H,[(t(!0),s(h,null,p(e.loggedInUser.worldCupMerch.coins,a=>(t(),s("li",{key:a},c(a)+" challenge coin",1))),128))])):n("",!0)]),u(" choose a sweater size: "),k(o("select",{"onUpdate:modelValue":d[1]||(d[1]=a=>e.worldCupSweaterSize=a),class:"form-select form-select-sm mb-2"},K,512),[[w,e.worldCupSweaterSize]]),o("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",disabled:!e.worldCupSweaterSize,onClick:d[2]||(d[2]=a=>e.checkout(null,a))}," proceed to shopify checkout ",8,Q)])])):(t(),s("div",W,[(t(!0),s(h,null,p(e.allMerch,a=>(t(),s("div",{key:a.id,class:"card card-level-2 card-body my-2 ps-4"},[o("h4",Y,c(a.title),1),o("div",Z,[(t(!0),s(h,null,p(a.images,i=>(t(),s("img",{key:i.id,src:i.src,class:"merch-img me-2 mb-2"},null,8,ee))),128))]),o("div",te,c(a.description),1),(t(!0),s(h,null,p(a.variants,i=>(t(),s("div",{key:i.id},[o("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(i.id,m)},[u(" proceed to shopify checkout "),i.title!=="Default Title"?(t(),s("span",oe,"("+c(i.selectedOptions[0].name)+": "+c(i.selectedOptions[0].value)+")",1)):n("",!0)],8,se)]))),128))]))),128))])),ae])):n("",!0)]))])}const ue=y(I,[["render",ie],["__scopeId","data-v-9deab67b"]]);export{ue as default};
