import{d as f,m as y,A as k,_ as g,o as t,e as s,k as _,a as c,F as l,r as h,t as d,j as u,s as v,u as b,Y as M}from"./index-2c9227cb.js";const w={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,r){e.merch=r}},getters:{allMerch:e=>e.merch}},$=w,x=f({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1}},computed:{...y(["loggedInUser"]),...k("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",$)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,r,p){this.clicked=!0;const i=await this.$http.executePost("/merch/checkout",{gid:e,vid:r},p);this.$http.isError(i)||(this.checkoutOutput=i,window.location.replace(i.webUrl))}}});const n=e=>(v("data-v-5eec20f9"),e=e(),b(),e),I=n(()=>c("p",{class:"opacity-0"}," . ",-1)),S={key:0,class:"my-4"},C={key:0,class:"col-sm-12 card card-body ps-4"},q=M('<h5 class="mt-2" data-v-5eec20f9> info </h5><p data-v-5eec20f9>all products listed here have a 100% discount. the prices you see on shopify checkout are lower than the actual product values to reduce import fees.</p><p data-v-5eec20f9>to ensure nobody snags multiple free products, you can only begin the checkout process <b data-v-5eec20f9>once</b>! this requires...</p><ul data-v-5eec20f9><li data-v-5eec20f9>contact email <span class="text-secondary small" data-v-5eec20f9>(must match your osu! account&#39;s email address)</span></li><li data-v-5eec20f9>shipping address</li><li data-v-5eec20f9>billing address <span class="text-secondary small" data-v-5eec20f9>(can be the same as your shipping address)</span></li></ul><p data-v-5eec20f9>when you&#39;ve gathered this info, checkout any product below :)</p>',5),N=[q],O={key:1,class:"double-center text-center"},P=n(()=>c("p",null,"request expired",-1)),U=n(()=>c("p",null,[u("if you think something went wrong, "),c("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat"),u(".")],-1)),V=[P,U],A={key:2},B={class:"text-lowercase"},E={class:"d-inline"},D=["src"],F={class:"small text-secondary"},T=["onClick"],j={key:0},G=n(()=>c("p",{class:"opacity-0"}," . ",-1)),L={key:1,class:"double-center"};function R(e,r,p,i,Y,z){return t(),s("div",null,[I,e.clicked?(t(),s("div",L," redirecting to shopify checkout... ")):(t(),s("div",S,[e.loggedInUser.hasMerchAccess?(t(),s("div",C,N)):(t(),s("div",O,V)),e.loggedInUser.hasMerchAccess?(t(),s("hr",A)):_("",!0),c("div",null,[(t(!0),s(l,null,h(e.allMerch,a=>(t(),s("div",{key:a.id,class:"card card-level-2 card-body my-2 ps-4"},[c("h4",B,d(a.title),1),c("div",E,[(t(!0),s(l,null,h(a.images,o=>(t(),s("img",{key:o.id,src:o.src,class:"merch-img me-2 mb-2"},null,8,D))),128))]),c("div",F,d(a.description),1),(t(!0),s(l,null,h(a.variants,o=>(t(),s("div",{key:o.id},[c("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(a.id,o.id,m)},[u(" proceed to shopify checkout "),o.title!=="Default Title"?(t(),s("span",j,"("+d(o.selectedOptions[0].name)+": "+d(o.selectedOptions[0].value)+")",1)):_("",!0)],8,T)]))),128))]))),128))]),G]))])}const J=g(x,[["render",R],["__scopeId","data-v-5eec20f9"]]);export{J as default};
