import{d as t,p as e,a as s,i as a,o as i,u as o,w as n,l as d,t as r,j as c,f as u,s as l,b as p,q as m,O as h,m as f,k as g,e as b,F as y,g as I,n as w}from"./vendor.df51a6ea.js";import{_ as q}from"./BeatmapInfoAdmin.b1675496.js";import{_ as v}from"./QuestInfo.f846543a.js";import{_ as k}from"./ModalDialog.472e77e7.js";import{C as $}from"./CopyPaste.90b16e87.js";import{_ as C}from"./UserInfo.64665c4b.js";import{B as A}from"./beatmap.8dd9b4cb.js";import{_ as P}from"./index.4c7cc028.js";import{_ as x}from"./UserLinkList.e91517e6.js";import"./AssociatedBeatmaps.42345698.js";var M=t({name:"ReviewQuest",components:{CopyPaste:$,ModalDialog:k},props:{quest:{type:Object,required:!0}},data(){return{showArtistInput:!1,artistInput:this.quest.art,showNameInput:!1,nameInput:this.quest.name,showObjectiveInput:!1,objectiveInput:this.quest.descriptionMain,showRequiredMapsetsInput:!1,requiredMapsetsInput:this.quest.requiredMapsets,showPriceInput:!1,priceInput:this.quest.price,showTimeframeInput:!1,timeframeInput:this.quest.timeframe/864e5,showPartySizeInput:!1,minPartyInput:this.quest.minParty,maxPartyInput:this.quest.maxParty}},watch:{quest(){this.showArtistInput=!1,this.artistInput=this.quest.art,this.showNameInput=!1,this.nameInput=this.quest.name,this.showObjectiveInput=!1,this.objectiveInput=this.quest.descriptionMain,this.showRequiredMapsetsInput=!1,this.requiredMapsetsInput=this.quest.requiredMapsets,this.showPriceInput=!1,this.priceInput=this.quest.price,this.showTimeframeInput=!1,this.timeframeInput=this.quest.timeframe/864e5}},methods:{async acceptPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/schedule`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"scheduled quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async rejectPendingQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/reject`,{},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"rejected quest",type:"info"}),this.$store.commit("updateStatus",{questId:this.quest.id,status:e}),this.$bs.hideModal("reviewQuest"))},async updateArt(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateArt`,{art:this.artistInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated artist",type:"info"}),this.$store.commit("updateArt",{questId:this.quest.id,art:e}),this.showArtistInput=!1)},async renameQuest(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/rename`,{name:this.nameInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"renamed quest",type:"info"}),this.$store.commit("renameQuest",{questId:this.quest.id,name:e}),this.showNameInput=!1)},async updateDescription(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateDescription/`,{description:this.objectiveInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated quest description",type:"info"}),this.$store.commit("updateDescription",{questId:this.quest.id,description:e}),this.showObjectiveInput=!1)},async updateRequiredMapsets(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateRequiredMapsets`,{requiredMapsets:this.requiredMapsetsInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated required mapsets",type:"info"}),this.$store.commit("updateRequiredMapsets",{questId:this.quest.id,requiredMapsets:e}),this.showRequiredMapsetsInput=!1)},async updatePrice(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updatePrice`,{price:this.priceInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated price",type:"info"}),this.$store.commit("updatePrice",{questId:this.quest.id,price:e}),this.showPriceInput=!1)},async updateTimeframe(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateTimeframe`,{timeframe:this.timeframeInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated timeframe",type:"info"}),this.$store.commit("updateTimeframe",{questId:this.quest.id,timeframe:e}),this.showTimeframeInput=!1)},async updateMinParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMinParty`,{minParty:this.minPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated minParty",type:"info"}),this.$store.commit("updateMinParty",{questId:this.quest.id,minParty:e}),this.showPartySizeInput=!1)},async updateMaxParty(t){const e=await this.$http.executePost(`/admin/quests/${this.quest.id}/updateMaxParty`,{maxParty:this.maxPartyInput},t);this.$http.isError(e)||(this.$store.dispatch("updateToastMessages",{message:"updated maxParty",type:"info"}),this.$store.commit("updateMaxParty",{questId:this.quest.id,maxParty:e}),this.showPartySizeInput=!1)}}});e("data-v-6ed48360");const Q={class:"container"},B={class:"small text-white-50"},U=d(" Artist "),L=[u("i",{class:"fas fa-edit"},null,-1)],E={key:0},T={key:1,class:"ms-2"},j=["href"],F=["src"],S={key:2,class:"ms-2"},R={class:"small text-white-50"},D=d(" Name "),N=[u("i",{class:"fas fa-edit"},null,-1)],O={key:3},_={key:4,class:"ms-2"},z={class:"small text-white-50"},G=d(" Objective "),V=[u("i",{class:"fas fa-edit"},null,-1)],K={key:5},H={key:6,class:"ms-2"},J={class:"small text-white-50"},W=d(" Required mapsets "),X=[u("i",{class:"fas fa-edit"},null,-1)],Y={key:7},Z={key:8,class:"ms-2"},tt={class:"small text-white-50"},et=d(" Price "),st=[u("i",{class:"fas fa-edit"},null,-1)],at={key:9},it={key:10,class:"ms-2"},ot={class:"small text-white-50"},nt=d(" Timeframe "),dt=[u("i",{class:"fas fa-edit"},null,-1)],rt={key:11},ct={key:12,class:"ms-2"},ut={class:"small text-white-50"},lt=d(" Party size "),pt=[u("i",{class:"fas fa-edit"},null,-1)],mt={key:13},ht={key:14,class:"ms-2"},ft=u("div",{class:"small text-white-50"}," Party rank ",-1),gt={class:"ms-2"},bt=u("div",{class:"small text-white-50"}," MBC ",-1),yt={class:"ms-2"},It=u("div",{class:"radial-divisor"},null,-1),wt=u("button",{class:"btn btn-outline-secondary w-100","data-bs-toggle":"collapse","data-bs-target":"#forumPm"},[d(" See rejection message "),u("i",{class:"fas fa-angle-down"})],-1),qt={id:"forumPm",class:"collapse"},vt=u("div",null,"hello, you're receiving this message because you submitted a Mappers' Guild quest for review",-1),kt=u("div",null,"[box=your quest info]",-1),$t=u("div",null,"[/box]",-1),Ct=u("div",null,"your quest has been rejected for the following reason(s):",-1),At=u("div",null,"[notice] REASONS [/notice]",-1),Pt=u("div",null,"points spent for submitting the quest have been returned to your \"available points\" pool. if you'd like to modify the quest according to above feedback, you can resubmit it and i'll review it again! or if you'd like to submit any other quest, that's fine too!",-1),xt=u("div",null,"thanks for being cool",-1);s(),M.render=function(t,e,s,f,g,b){const y=a("user-link"),I=a("copy-paste"),w=a("modal-dialog");return i(),o(w,{id:"reviewQuest",loaded:Boolean(t.quest)},{header:n((()=>[d(r(t.quest.name)+" by ",1),c(y,{class:"text-dark",user:t.quest.creator},null,8,["user"])])),default:n((()=>[u("div",Q,[u("div",B,[U,u("a",{href:"#",onClick:e[0]||(e[0]=l((e=>t.showArtistInput=!t.showArtistInput),["prevent"]))},L)]),t.showArtistInput?(i(),p("p",E,[m(u("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.artistInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"artist ID...",onChange:e[2]||(e[2]=e=>t.updateArt(e))},null,544),[[h,t.artistInput,void 0,{number:!0}]])])):t.quest.art?(i(),p("p",T,[u("a",{href:"https://osu.ppy.sh/beatmaps/artists/"+t.quest.art,target:"_blank"},[u("img",{src:"https://assets.ppy.sh/artists/"+t.quest.art+"/cover.jpg",class:"card-avatar-img"},null,8,F)],8,j)])):(i(),p("p",S," None ")),u("div",R,[D,u("a",{href:"#",onClick:e[3]||(e[3]=l((e=>t.showNameInput=!t.showNameInput),["prevent"]))},N)]),t.showNameInput?(i(),p("p",O,[m(u("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.nameInput=e),class:"form-control form-control-sm w-100",type:"text",autocomplete:"off",placeholder:"name...",onChange:e[5]||(e[5]=e=>t.renameQuest(e))},null,544),[[h,t.nameInput]])])):(i(),p("p",_,r(t.quest.name),1)),u("div",z,[G,u("a",{href:"#",onClick:e[6]||(e[6]=l((e=>t.showObjectiveInput=!t.showObjectiveInput),["prevent"]))},V)]),t.showObjectiveInput?(i(),p("p",K,[m(u("textarea",{"onUpdate:modelValue":e[7]||(e[7]=e=>t.objectiveInput=e),class:"form-control form-control-sm w-100",rows:"2",type:"text",autocomplete:"off",placeholder:"objective...",onChange:e[8]||(e[8]=e=>t.updateDescription(e))},null,544),[[h,t.objectiveInput]])])):(i(),p("p",H,r(t.quest.descriptionMain),1)),u("div",J,[W,u("a",{href:"#",onClick:e[9]||(e[9]=l((e=>t.showRequiredMapsetsInput=!t.showRequiredMapsetsInput),["prevent"]))},X)]),t.showRequiredMapsetsInput?(i(),p("p",Y,[m(u("input",{"onUpdate:modelValue":e[10]||(e[10]=e=>t.requiredMapsetsInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"required mapsets...",onChange:e[11]||(e[11]=e=>t.updateRequiredMapsets(e))},null,544),[[h,t.requiredMapsetsInput,void 0,{number:!0}]])])):(i(),p("p",Z,r(t.quest.requiredMapsets),1)),u("div",tt,[et,u("a",{href:"#",onClick:e[12]||(e[12]=l((e=>t.showPriceInput=!t.showPriceInput),["prevent"]))},st)]),t.showPriceInput?(i(),p("p",at,[m(u("input",{"onUpdate:modelValue":e[13]||(e[13]=e=>t.priceInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"price per party member...",onChange:e[14]||(e[14]=e=>t.updatePrice(e))},null,544),[[h,t.priceInput,void 0,{number:!0}]])])):(i(),p("p",it,r(t.quest.price)+" points per user ",1)),u("div",ot,[nt,u("a",{href:"#",onClick:e[15]||(e[15]=l((e=>t.showTimeframeInput=!t.showTimeframeInput),["prevent"]))},dt)]),t.showTimeframeInput?(i(),p("p",rt,[m(u("input",{"onUpdate:modelValue":e[16]||(e[16]=e=>t.timeframeInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"days...",onChange:e[17]||(e[17]=e=>t.updateTimeframe(e))},null,544),[[h,t.timeframeInput,void 0,{number:!0}]])])):(i(),p("p",ct,r(t.quest.timeframe/864e5)+" days ",1)),u("div",ut,[lt,u("a",{href:"#",onClick:e[18]||(e[18]=l((e=>t.showPartySizeInput=!t.showPartySizeInput),["prevent"]))},pt)]),t.showPartySizeInput?(i(),p("p",mt,[m(u("input",{"onUpdate:modelValue":e[19]||(e[19]=e=>t.minPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"minimum",onChange:e[20]||(e[20]=e=>t.updateMinParty(e))},null,544),[[h,t.minPartyInput,void 0,{number:!0}]]),m(u("input",{"onUpdate:modelValue":e[21]||(e[21]=e=>t.maxPartyInput=e),class:"form-control form-control-sm w-100",type:"number",autocomplete:"off",placeholder:"maximum",onChange:e[22]||(e[22]=e=>t.updateMaxParty(e))},null,544),[[h,t.maxPartyInput,void 0,{number:!0}]])])):(i(),p("p",ht,r(t.quest.minParty)+"-"+r(t.quest.maxParty)+" members ",1)),ft,u("p",gt,r(t.quest.minRank)+" rank required ",1),bt,u("p",yt,r(t.quest.isMbc?"yes":"no"),1),It,u("button",{type:"submit",class:"btn btn-outline-success w-100",onClick:e[23]||(e[23]=e=>t.acceptPendingQuest(e))}," Schedule quest "),u("button",{type:"submit",class:"btn btn-outline-danger w-100",onClick:e[24]||(e[24]=e=>t.rejectPendingQuest(e))}," Reject quest "),wt,u("div",qt,[c(I,null,{default:n((()=>[vt,kt,u("div",null,"Artist: "+r("https://osu.ppy.sh/beatmaps/artists/"+t.quest.art),1),u("div",null,"Name: "+r(t.quest.name),1),u("div",null,"Objective: "+r(t.quest.descriptionMain),1),u("div",null,"Required mapsets: "+r(t.quest.requiredMapsets),1),u("div",null,"Price: "+r(t.quest.price)+" points per user",1),u("div",null,"Timeframe: "+r(t.quest.timeframe/864e5)+" days",1),u("div",null,"Party size: "+r(t.quest.minParty)+"-"+r(t.quest.maxParty)+" members",1),$t,Ct,At,Pt,xt])),_:1})])])])),_:1},8,["loaded"])},M.__scopeId="data-v-6ed48360";var Mt=t({name:"ContestInfo",components:{ModalDialog:k},props:{contest:{type:Object,default:null}},methods:{async toggleIsApproved(t){const e=await this.$http.executePost(`/admin/contests/${this.contest.id}/toggleIsApproved`,{isApproved:!this.contest.isApproved},t);e&&(this.$store.dispatch("updateToastMessages",{message:`set isApproved to ${e.isApproved}`,type:"info"}),this.$store.commit("updateIsApproved",{contestId:this.contest.id,isApproved:e.isApproved}))},async toggleIsFeaturedArtistContest(t){const e=await this.$http.executePost(`/admin/contests/${this.contest.id}/toggleIsFeaturedArtistContest`,{isFeaturedArtistContest:!this.contest.isFeaturedArtistContest},t);e&&(this.$store.dispatch("updateToastMessages",{message:`set isFeaturedArtistContest to ${e.isFeaturedArtistContest}`,type:"info"}),this.$store.commit("updateIsFeaturedArtistContest",{contestId:this.contest.id,isFeaturedArtistContest:e.isFeaturedArtistContest}))},async toggleIsEligibleForPoints(t){const e=await this.$http.executePost(`/admin/contests/${this.contest.id}/toggleIsEligibleForPoints`,{isEligibleForPoints:!this.contest.isEligibleForPoints},t);e&&(this.$store.dispatch("updateToastMessages",{message:`set isEligibleForPoints to ${e.isEligibleForPoints}`,type:"info"}),this.$store.commit("updateIsEligibleForPoints",{contestId:this.contest.id,isEligibleForPoints:e.isEligibleForPoints}))}}});const Qt={class:"container"},Bt={class:"row"},Ut={class:"col-sm-6"},Lt=d(" Featured Artist contest: "),Et={class:"text-danger me-2"},Tt={class:"row"},jt={class:"col-sm-6"},Ft=d(" Eligible for points: "),St={class:"text-danger me-2"},Rt=u("hr",null,null,-1),Dt={class:"row"},Nt={class:"col-sm-6"},Ot=d(" Publicly visible: "),_t={class:"text-danger me-2"};Mt.render=function(t,e,s,c,l,p){const m=a("modal-dialog");return i(),o(m,{id:"editContest",loaded:Boolean(t.contest)},{header:n((()=>[d(r(t.contest.name),1)])),default:n((()=>[u("div",Qt,[u("p",Bt,[u("span",Ut,[Lt,u("span",Et,r(t.contest.isFeaturedArtistContest?"true":"false"),1)]),u("button",{class:"btn btn-sm btn-outline-info ms-3 w-25",onClick:e[0]||(e[0]=e=>t.toggleIsFeaturedArtistContest(e))}," Toggle ")]),u("p",Tt,[u("span",jt,[Ft,u("span",St,r(t.contest.isEligibleForPoints?"true":"false"),1)]),u("button",{class:"btn btn-sm btn-outline-info ms-3 w-25",onClick:e[1]||(e[1]=e=>t.toggleIsEligibleForPoints(e))}," Toggle ")]),Rt,u("p",Dt,[u("span",Nt,[Ot,u("span",_t,r(t.contest.isApproved?"true":"false"),1)]),u("button",{class:"btn btn-sm btn-outline-info ms-3 w-25",onClick:e[2]||(e[2]=e=>t.toggleIsApproved(e))}," Toggle ")])])])),_:1},8,["loaded"])};var zt={state:{actionBeatmaps:[],actionBeatmapsLoading:!1,actionQuests:[],actionQuestsLoading:!1,actionUsers:[],actionUsersLoading:!1,actionContests:[],actionContestsLoading:!1,selectedBeatmap:null,selectedQuest:null,selectedUser:null,selectedContest:null},mutations:{setActionBeatmaps(t,e){t.actionBeatmaps=e},setActionBeatmapsLoading(t,e){t.actionBeatmapsLoading=e},setActionQuests(t,e){t.actionQuests=e},setActionQuestsLoading(t,e){t.actionQuestsLoading=e},setActionUsers(t,e){t.actionUsers=e},setActionUsersLoading(t,e){t.actionUsersLoading=e},setActionContests(t,e){t.actionContests=e},setActionContestsLoading(t,e){t.actionContestsLoading=e},setSelectedBeatmap(t,e){t.selectedBeatmap=e},setSelectedQuest(t,e){t.selectedQuest=e},setSelectedUser(t,e){t.selectedUser=e},setSelectedContest(t,e){t.selectedContest=e},updateBeatmapStatus(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s&&(s.status=e.status,s.status==A.Ranked)){const s=t.actionBeatmaps.findIndex((t=>t.id===e.beatmapId));t.actionBeatmaps.splice(s,1)}},deleteTask(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&s.tasks.splice(t,1)}},deleteModder(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.modders.findIndex((t=>t.id==e.modderId));-1!==t&&s.modders.splice(t,1)}},updateUrl(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.url=e.url)},updateStoryboardQuality(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));if(s){const t=s.tasks.findIndex((t=>t.id==e.taskId));-1!==t&&(s.tasks[t]=e.task)}},updatePackId(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.packId=e.packId)},updateIsShowcase(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.isShowcase=e.isShowcase)},updateQueuedForRank(t,e){const s=t.actionBeatmaps.find((t=>t.id==e.beatmapId));s&&(s.queuedForRank=e.queuedForRank)},updateArt(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.art=e.art)},renameQuest(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.name=e.name)},updateDescription(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.descriptionMain=e.description)},updateRequiredMapsets(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.requiredMapsets=e.requiredMapsets)},updatePrice(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.price=e.price)},updateTimeframe(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.timeframe=864e5*e.timeframe)},updateMinParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.minParty=e.minParty)},updateMaxParty(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.maxParty=e.maxParty)},updateStatus(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));if(s&&(s.status=e.status,"open"==s.status||"rejected"==s.status)){const s=t.actionQuests.findIndex((t=>t.id===e.questId));t.actionQuests.splice(s,1)}},updateQueuedForCompletion(t,e){const s=t.actionQuests.find((t=>t.id==e.questId));s&&(s.queuedForCompletion=e.queuedForCompletion)},updateGroup(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.group=e.group)},updateBadge(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.queuedBadge=e.badge)},updateDiscordId(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.discordId=e.discordId)},updateBypassLogin(t,e){const s=t.actionUsers.find((t=>t.id==e.userId));s&&(s.bypassLogin=e.bypassLogin)},updateIsApproved(t,e){const s=t.actionContests.find((t=>t.id==e.contestId));s&&(s.isApproved=e.isApproved)},updateIsFeaturedArtistContest(t,e){const s=t.actionContests.find((t=>t.id==e.contestId));s&&(s.isFeaturedArtistContest=e.isFeaturedArtistContest)},updateIsEligibleForPoints(t,e){const s=t.actionContests.find((t=>t.id==e.contestId));s&&(s.isFeaturedArtistContest=e.isFeaturedArtistContest)}}},Gt=t({name:"AdminPage",components:{BeatmapInfoAdmin:q,QuestInfo:v,ReviewQuest:M,UserInfo:C,ContestInfo:Mt,ModesIcons:P,UserLinkList:x},computed:f({actionBeatmaps:t=>t.admin.actionBeatmaps,actionBeatmapsLoading:t=>t.admin.actionBeatmapsLoading,actionQuests:t=>t.admin.actionQuests,actionQuestsLoading:t=>t.admin.actionQuestsLoading,actionUsers:t=>t.admin.actionUsers,actionUsersLoading:t=>t.admin.actionUsersLoading,actionContests:t=>t.admin.actionContests,actionContestsLoading:t=>t.admin.actionContestsLoading,selectedBeatmap:t=>t.admin.selectedBeatmap,selectedQuest:t=>t.admin.selectedQuest,selectedUser:t=>t.admin.selectedUser,selectedContest:t=>t.admin.selectedContest}),beforeCreate(){this.$store.hasModule("admin")||this.$store.registerModule("admin",zt)},unmounted(){this.$store.hasModule("admin")&&this.$store.unregisterModule("admin")},methods:{generateMetadata(t){let e=t.artist+" - ";return t.title.length>40?e+=t.title.slice(0,40)+"...":e+=t.title,e},async loadActionBeatmaps(t){{this.$store.commit("setActionBeatmaps",[]),this.$store.commit("setActionBeatmapsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionBeatmaps",t);this.$http.isError(e)||this.$store.commit("setActionBeatmaps",e),this.$store.commit("setActionBeatmapsLoading",!1)}},async loadActionQuests(t){this.$store.commit("setActionQuests",[]),this.$store.commit("setActionQuestsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionQuests",t);this.$http.isError(e)||this.$store.commit("setActionQuests",e),this.$store.commit("setActionQuestsLoading",!1)},async loadActionUsers(t){this.$store.commit("setActionUsers",[]),this.$store.commit("setActionUsersLoading",!0);const e=await this.$http.executeGet("/admin/loadActionUsers",t);this.$http.isError(e)||this.$store.commit("setActionUsers",e),this.$store.commit("setActionUsersLoading",!1)},async loadActionContests(t){this.$store.commit("setActionContests",[]),this.$store.commit("setActionContestsLoading",!0);const e=await this.$http.executeGet("/admin/loadActionContests",t);this.$http.isError(e)||this.$store.commit("setActionContests",e),this.$store.commit("setActionContestsLoading",!1)}}});const Vt={class:"container card card-body py-1 mb-4"},Kt={class:"row mx-3 mt-2"},Ht={class:"row"},Jt={class:"col"},Wt={class:"ms-4 mt-2"},Xt=u("a",{href:"#actionBeatmaps","data-bs-toggle":"collapse"},[d(" Beatmaps "),u("i",{class:"fas fa-angle-down"})],-1),Yt={key:0,class:"ms-2 small text-white-50"},Zt={id:"actionBeatmaps",class:"show"},te={key:0,class:"table table-sm"},ee=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," METADATA "),u("th",{scope:"col"}," PACK ID "),u("th",{scope:"col"}," STATUS "),u("th",{scope:"col"}," EDIT ")])],-1),se={scope:"row"},ae=["href"],ie={key:1,class:"ms-1"},oe={scope:"row"},ne={scope:"row"},de={scope:"row"},re=["onClick"],ce={key:1,class:"text-white-50 ms-5"},ue={class:"container card card-body py-1 mb-4"},le={class:"row mx-3 mt-2"},pe={class:"row"},me={class:"col"},he={class:"ms-4 mt-2"},fe=u("a",{href:"#actionQuests","data-bs-toggle":"collapse"},[d(" Quests "),u("i",{class:"fas fa-angle-down"})],-1),ge={key:0,class:"ms-2 small text-white-50"},be={id:"actionQuests",class:"show"},ye={key:0,class:"table table-sm"},Ie=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," NAME "),u("th",{scope:"col"}," CREATOR "),u("th",{scope:"col"}," MODES "),u("th",{scope:"col"}," STATUS "),u("th",{scope:"col"}," MAPSETS "),u("th",{scope:"col"}," EDIT ")])],-1),we={scope:"row"},qe={scope:"row"},ve={scope:"row"},ke={scope:"row"},$e={scope:"row"},Ce={scope:"row"},Ae=["data-bs-target","onClick"],Pe={key:1,class:"text-white-50 ms-5"},xe={class:"container card card-body py-1 mb-4"},Me={class:"row mx-3 mt-2"},Qe={class:"row"},Be={class:"col"},Ue={class:"ms-4 mt-2"},Le=u("a",{href:"#actionUsers","data-bs-toggle":"collapse"},[d(" Users "),u("i",{class:"fas fa-angle-down"})],-1),Ee={key:0,class:"ms-2 small text-white-50"},Te={key:0,id:"actionUsers",class:"show"},je={key:0,class:"table table-sm"},Fe=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," USERNAME "),u("th",{scope:"col"}," RANK "),u("th",{scope:"col"}," QUEUED BADGE "),u("th",{scope:"col"}," BADGE "),u("th",{scope:"col"}," EDIT ")])],-1),Se={scope:"row"},Re={scope:"row"},De={scope:"row"},Ne=["onClick"],Oe={key:1,class:"text-white-50 ms-5"},_e={class:"container card card-body py-1"},ze={class:"row mx-3 mt-2"},Ge={class:"row"},Ve={class:"col"},Ke={class:"ms-4 mt-2"},He=u("a",{href:"#actionContests","data-bs-toggle":"collapse"},[d(" Contests "),u("i",{class:"fas fa-angle-down"})],-1),Je={key:0,class:"ms-2 small text-white-50"},We={key:0,id:"actionContests",class:"show"},Xe={key:0,class:"table table-sm"},Ye=u("thead",null,[u("tr",null,[u("th",{scope:"col"}," CONTEST "),u("th",{scope:"col"}," CREATOR "),u("th",{scope:"col"}," EDIT ")])],-1),Ze={scope:"row"},ts=["href"],es={scope:"row"},ss={scope:"row"},as=["onClick"],is={key:1,class:"text-white-50 ms-5"},os=u("div",{class:"radial-divisor"},null,-1);Gt.render=function(t,e,s,n,d,h){const f=a("modes-icons"),q=a("user-link"),v=a("user-link-list"),k=a("beatmap-info-admin"),$=a("quest-info"),C=a("review-quest"),A=a("user-info"),P=a("contest-info"),x=g("bs-tooltip");return i(),p("div",null,[u("div",Vt,[u("div",Kt,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[0]||(e[0]=e=>t.loadActionBeatmaps(e))}," Load beatmaps ")]),u("div",Ht,[u("div",Jt,[u("h5",Wt,[Xt,t.actionBeatmapsLoading?(i(),p("span",Yt,"loading...")):b("",!0)]),u("div",Zt,[t.actionBeatmaps.length?(i(),p("table",te,[ee,u("tbody",null,[(i(!0),p(y,null,I(t.actionBeatmaps,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",se,[c(f,{modes:[e.mode]},null,8,["modes"]),e.url?(i(),p("a",{key:0,href:e.url,class:"ms-1"},r(t.generateMetadata(e.song)),9,ae)):(i(),p("span",ie,r(t.generateMetadata(e.song)),1))]),u("td",oe,r(e.packId),1),u("td",ne,r(e.status),1),u("td",de,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editBeatmap",onClick:l((s=>t.$store.commit("setSelectedBeatmap",e)),["prevent"])}," edit ",8,re)])])))),128))])])):t.actionBeatmapsLoading?b("",!0):(i(),p("span",ce,"None..."))])])])]),u("div",ue,[u("div",le,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[1]||(e[1]=e=>t.loadActionQuests(e))}," Load quests ")]),u("div",pe,[u("div",me,[u("h5",he,[fe,t.actionQuestsLoading?(i(),p("span",ge,"loading...")):b("",!0)]),u("div",be,[t.actionQuests.length?(i(),p("table",ye,[Ie,u("tbody",null,[(i(!0),p(y,null,I(t.actionQuests,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",we,r(e.name),1),u("td",qe,r(e.creator.username),1),u("td",ve,[c(f,{modes:e.modes},null,8,["modes"])]),u("td",ke,r(e.status),1),u("td",$e,r(e.requiredMapsets),1),u("td",Ce,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"pending"==e.status?"#reviewQuest":"#editQuest",onClick:l((s=>t.$store.commit("setSelectedQuest",e)),["prevent"])}," edit ",8,Ae)])])))),128))])])):t.actionQuestsLoading?b("",!0):(i(),p("span",Pe,"None..."))])])])]),u("div",xe,[u("div",Me,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[2]||(e[2]=e=>t.loadActionUsers(e))}," Load users ")]),u("div",Qe,[u("div",Be,[u("h5",Ue,[Le,t.actionUsersLoading?(i(),p("span",Ee,"loading...")):b("",!0)]),t.actionUsers?(i(),p("div",Te,[t.actionUsers.length?(i(),p("table",je,[Fe,u("tbody",null,[(i(!0),p(y,null,I(t.actionUsers,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",Se,[c(q,{user:e},null,8,["user"])]),u("td",Re,[e.rank?m((i(),p("i",{key:0,class:w(["fas fa-crown","text-rank-"+e.rank])},null,2)),[[x,`rank ${e.rank} user`]]):b("",!0)]),u("td",{scope:"row",class:w({"bg-open":e.rank!=e.queuedBadge})},[e.queuedBadge?m((i(),p("i",{key:0,class:w(["fas fa-crown","text-rank-"+e.queuedBadge])},null,2)),[[x,`rank ${e.queuedBadge} user`]]):b("",!0)],2),u("td",{scope:"row",class:w({"bg-open":e.rank!=e.badge})},[e.badge?m((i(),p("i",{key:0,class:w(["fas fa-crown","text-rank-"+e.badge])},null,2)),[[x,`rank ${e.badge} user`]]):b("",!0)],2),u("td",De,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editUser",onClick:l((s=>t.$store.commit("setSelectedUser",e)),["prevent"])}," edit ",8,Ne)])])))),128))])])):t.actionUsersLoading?b("",!0):(i(),p("span",Oe,"None..."))])):b("",!0)])])]),u("div",_e,[u("div",ze,[u("button",{class:"btn btn-sm btn-info w-100 mb-1",onClick:e[3]||(e[3]=e=>t.loadActionContests(e))}," Load contests ")]),u("div",Ge,[u("div",Ve,[u("h5",Ke,[He,t.actionContestsLoading?(i(),p("span",Je,"loading...")):b("",!0)]),t.actionContests?(i(),p("div",We,[t.actionContests.length?(i(),p("table",Xe,[Ye,u("tbody",null,[(i(!0),p(y,null,I(t.actionContests,(e=>(i(),p("tr",{key:e.id,class:"text-white-50"},[u("td",Ze,[u("a",{href:"/contests/listing?contest="+e.id},r(e.name),9,ts)]),u("td",es,[c(v,{users:e.creators},null,8,["users"])]),u("td",ss,[u("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#editContest",onClick:l((s=>t.$store.commit("setSelectedContest",e)),["prevent"])}," edit ",8,as)])])))),128))])])):t.actionContestsLoading?b("",!0):(i(),p("span",is,"None..."))])):b("",!0)])])]),os,t.selectedBeatmap?(i(),o(k,{key:0,beatmap:t.selectedBeatmap},null,8,["beatmap"])):b("",!0),t.selectedQuest?(i(),o($,{key:1,quest:t.selectedQuest},null,8,["quest"])):b("",!0),t.selectedQuest?(i(),o(C,{key:2,quest:t.selectedQuest},null,8,["quest"])):b("",!0),t.selectedUser?(i(),o(A,{key:3,user:t.selectedUser},null,8,["user"])):b("",!0),t.selectedContest?(i(),o(P,{key:4,contest:t.selectedContest},null,8,["contest"])):b("",!0)])};export{Gt as default};
