import{C as v}from"./CopyPaste-3a362422.js";import{d as m,_ as h,o as n,e as d,a as t,b as l,v as M,f as $,c as g,w as O,F as k,r as w,t as y,k as u,p as i,g as C,j as p,i as c}from"./index-1a40f6e0.js";import{L as U}from"./LoadUsers-21142e27.js";import"./UserInfo-337f4e6a.js";import"./ModalDialog-b1d0aa18.js";import"./DataTable-7f8b2a4e.js";const S=m({name:"ResetHasMerchAccess",components:{CopyPaste:v},data(){return{osuIdInput:"",field:"",users:[]}},methods:{async reset(s){if(confirm("Are you sure?")){const a=await this.$http.executePost("/admin/users/resetMerchUsers",{osuIdInput:this.osuIdInput,field:this.field},s);a&&!a.error&&this.$store.dispatch("updateToastMessages",{message:`reset ${a} users`,type:"success"}),this.users=[]}},async loadUsers(s){const e=await this.$http.executePost("/admin/users/loadMerchUsers",{field:this.field},s);e&&!e.error&&(this.users=e,this.$store.dispatch("updateToastMessages",{message:`loaded ${e.length} users`,type:"success"}))}}}),V={class:"container card card-body py-3 mb-2"},B=t("h5",null," Reset Merch ",-1),A={class:"mb-2"},F={class:"row"},L={class:"col-sm-6"},P=t("option",{disabled:"",value:""}," Select a field ",-1),D=t("option",{value:"HasMerchAccess"}," hasMerchAccess ",-1),N=t("option",{value:"HasSpecificMerchOrder"}," hasSpecificMerchOrder ",-1),R=t("option",{value:"WorldCupMerch"}," worldCupMerch ",-1),T=[P,D,N,R],H={class:"col-sm-6"},E=["disabled"],K=["disabled"];function j(s,e,a,f,_,b){const r=i("copy-paste");return n(),d("div",V,[B,t("div",A,[t("div",F,[t("div",L,[l(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.field=o),class:"form-select form-select-sm"},T,512),[[M,s.field]])]),t("div",H,[l(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.osuIdInput=o),class:"form-control form-control-sm mb-2",autocomplete:"off",placeholder:"exclude osuIds (comma separated) from reset..."},null,512),[[$,s.osuIdInput]])])]),t("button",{disabled:!s.field.length,class:"btn btn-sm btn-info w-25 me-2",onClick:e[2]||(e[2]=o=>s.loadUsers(o))}," Load users ",8,E),t("button",{disabled:!s.field.length,class:"btn btn-sm btn-danger w-25",onClick:e[3]||(e[3]=o=>s.reset(o))}," Reset ",8,K),s.users.length?(n(),g(r,{key:0,class:"col-sm-6"},{default:O(()=>[t("ol",null,[(n(!0),d(k,null,w(s.users,o=>(n(),d("li",{key:o.id},y(o.username),1))),128))])]),_:1})):u("",!0)])])}const W=h(S,[["render",j]]),q=m({name:"FindMerchByOsuId",data(){return{orderOutput:"",userInput:""}},methods:{async searchOrder(s){const e=await this.$http.executePost("/admin/merch/searchOrder",{userInput:this.userInput},s);this.$http.isError(e)||(this.orderOutput=e,console.log(e))}}}),z={class:"container card card-body"},G=t("h5",null," Find merch by osu! order ID ",-1),J=t("div",{class:"text-secondary small mb-1"},[p(" Use ASS to find provider output (something like "),t("code",null,".lookup-order 2222222"),p("), then paste that below ")],-1),Q={key:0},X={key:0};function Y(s,e,a,f,_,b){return n(),d("div",z,[G,J,l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.userInput=r),class:"form-control form-control-sm mb-2",type:"text",autocomplete:"off",placeholder:"enter to search...",onKeyup:e[1]||(e[1]=C(r=>s.searchOrder(r),["enter"]))},null,544),[[$,s.userInput]]),t("button",{class:"btn btn-sm w-100 btn-info mb-2",onClick:e[2]||(e[2]=r=>s.searchOrder(r))}," Load order ID "),s.orderOutput?(n(),d("div",Q,[p(" Order: "),s.orderOutput?(n(),d("code",X,y(s.orderOutput),1)):u("",!0)])):u("",!0)])}const Z=h(q,[["render",Y]]),x=m({components:{LoadUsers:U,ResetMerch:W,FindMerchByOsuId:Z}}),ee=t("hr",null,null,-1);function se(s,e,a,f,_,b){const r=i("load-users"),o=i("find-merch-by-osu-id"),I=i("reset-merch");return n(),d("div",null,[c(r),ee,c(o),c(I)])}const ie=h(x,[["render",se]]);export{ie as default};
