import{d as f,m as y,A as k,_ as g,o as t,e as s,k as _,a as o,F as l,r as h,t as r,j as u,s as v,u as b,X as M}from"./index-5428ae15.js";const $={namespaced:!0,state:{merch:[]},mutations:{setMerch(e,d){e.merch=d}},getters:{allMerch:e=>e.merch}},w=$,x=f({name:"MerchPage",data(){return{checkoutOutput:{},clicked:!1}},computed:{...y(["loggedInUser"]),...k("merch",["allMerch"])},beforeCreate(){this.$store.hasModule("merch")||this.$store.registerModule("merch",w)},async created(){const e=await this.$http.initialRequest("/merch/query");this.$http.isError(e)||this.$store.commit("merch/setMerch",e.merch)},methods:{async checkout(e,d,p){this.clicked=!0;const i=await this.$http.executePost("/merch/checkout",{gid:e,vid:d},p);this.$http.isError(i)||(this.checkoutOutput=i,window.location.replace(i.webUrl))}}});const n=e=>(v("data-v-d917f375"),e=e(),b(),e),I=n(()=>o("p",{class:"opacity-0"}," . ",-1)),S={key:0,class:"my-4"},C={key:0,class:"col-sm-12 card card-body ps-4"},q=M('<h5 class="mt-2" data-v-d917f375> info </h5><p data-v-d917f375>to ensure nobody snags multiple free products, you can only begin the checkout process <b data-v-d917f375>once</b>!</p><p data-v-d917f375>this requires:</p><ul data-v-d917f375><li data-v-d917f375>contact email <span class="text-secondary small" data-v-d917f375>(must match your osu! account&#39;s email address)</span></li><li data-v-d917f375>shipping address</li><li data-v-d917f375>billing address <span class="text-secondary small" data-v-d917f375>(can be the same as your shipping address)</span></li></ul><p data-v-d917f375>when you&#39;ve gathered this info, checkout any product below :)</p>',5),N=[q],O={key:1,class:"double-center text-center"},P=n(()=>o("p",null,"request expired",-1)),U=n(()=>o("p",null,[u("if you think something went wrong, "),o("a",{href:"https://osu.ppy.sh/community/chat?sendto=3178418",target:"_blank"},"talk to pishifat"),u(".")],-1)),V=[P,U],A={key:2},B={class:"d-inline"},E=["src"],D={class:"small text-secondary"},F=["onClick"],T={key:0},j=n(()=>o("p",{class:"opacity-0"}," . ",-1)),G={key:1,class:"double-center"};function L(e,d,p,i,R,X){return t(),s("div",null,[I,e.clicked?(t(),s("div",G," redirecting to shopify checkout... ")):(t(),s("div",S,[e.loggedInUser.hasMerchAccess?(t(),s("div",C,N)):(t(),s("div",O,V)),e.loggedInUser.hasMerchAccess?(t(),s("hr",A)):_("",!0),o("div",null,[(t(!0),s(l,null,h(e.allMerch,a=>(t(),s("div",{key:a.id,class:"card card-level-2 card-body my-2 ps-4"},[o("h4",null,r(a.title),1),o("div",B,[(t(!0),s(l,null,h(a.images,c=>(t(),s("img",{key:c.id,src:c.src,class:"merch-img me-2 mb-2"},null,8,E))),128))]),o("div",D,r(a.description),1),(t(!0),s(l,null,h(a.variants,c=>(t(),s("div",{key:c.id},[o("button",{class:"btn btn-sm btn-outline-info mt-2 d-grid gap-2 col-12 mx-auto",onClick:m=>e.checkout(a.id,c.id,m)},[u(" proceed to shopify checkout "),c.title!=="Default Title"?(t(),s("span",T,"("+r(c.selectedOptions[0].name)+": "+r(c.selectedOptions[0].value)+")",1)):_("",!0)],8,F)]))),128))]))),128))]),j]))])}const H=g(x,[["render",L],["__scopeId","data-v-d917f375"]]);export{H as default};
