import{_ as a,d as e,e as s,f as t}from"./beatmaps.bf56a56f.js";import{d as o,m,E as c,i as p,o as d,b as i,f as r,k as l,t as n,j as h,w as b,F as w,g as f,q as u,u as B,e as g}from"./vendor.cb33bf1d.js";import"./ModalDialog.0d82a3c5.js";import"./beatmap.b8797e7f.js";import"./task.5925ddbb.js";import"./ModesIcons.529dd388.js";import"./UserLinkList.aca6880a.js";import"./extras.b9e74742.js";var v=o({components:{BeatmapCard:a},computed:m("beatmaps",["showcaseBeatmaps"]),methods:c("beatmaps",["setSelectedBeatmap"])});const $={class:"container card card-body py-3"},j={class:"ms-2"},y={href:"#showcaseBeatmaps","data-bs-toggle":"collapse"},S=r("i",{class:"fas fa-angle-down"},null,-1),M={key:0,id:"showcaseBeatmaps",class:"show"},k={key:0,class:"ms-5 text-white-50"};v.render=function(a,e,s,t,o,m){const c=p("beatmap-card");return d(),i("div",$,[r("h5",j,[r("a",y,[l(" Showcase mapsets ("+n(a.showcaseBeatmaps?a.showcaseBeatmaps.length:"...")+") ",1),S])]),a.showcaseBeatmaps?(d(),i("div",M,[h(B,{name:"list",tag:"div",class:"row"},{default:b((()=>[(d(!0),i(w,null,f(a.showcaseBeatmaps,(s=>(d(),u(c,{key:s.id,beatmap:s,"onUpdate:selectedBeatmap":e[0]||(e[0]=e=>a.setSelectedBeatmap(e))},null,8,["beatmap"])))),128))])),_:1}),a.showcaseBeatmaps.length?g("",!0):(d(),i("p",k," None... "))])):g("",!0)])};var x=o({name:"ShowcasePage",components:{ShowcaseBeatmaps:v,EditBeatmapModal:e,CreateBeatmapModal:s},computed:m("beatmaps",["selectedBeatmap"]),beforeCreate(){this.$store.hasModule("beatmaps")||this.$store.registerModule("beatmaps",t)},async created(){const a=this.$route.query.id;if(a){const[e,s]=await Promise.all([this.$http.initialRequest("/showcase/relevantInfo"),this.$http.executeGet("/showcase/searchOnLoad/"+a)]);e&&this.$store.commit("beatmaps/setShowcaseBeatmaps",e.beatmaps),s&&!s.error&&(this.$store.commit("beatmaps/setSelectedBeatmap",s),this.$bs.showModal("editBeatmap"))}else{const a=await this.$http.initialRequest("/showcase/relevantInfo");a&&this.$store.commit("beatmaps/setShowcaseBeatmaps",a.beatmaps)}}});const q=r("div",{class:"container card card-body py-3 mb-3"},[r("button",{class:"btn w-100 btn-outline-info",href:"#","data-bs-toggle":"modal","data-bs-target":"#addBeatmap"},[l(" Add beatmap "),r("i",{class:"fas fa-plus fa-xs"})])],-1);x.render=function(a,e,s,t,o,m){const c=p("showcase-beatmaps"),r=p("edit-beatmap-modal"),l=p("create-beatmap-modal");return d(),i("div",null,[q,h(c),h(r,{"selected-beatmap":a.selectedBeatmap},null,8,["selected-beatmap"]),h(l,{"is-secret":!0})])};export{x as default};
